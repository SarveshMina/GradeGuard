import{_ as I,c as r,a as t,o as n,d as P,f as h,n as v,y as ne,b as p,t as d,e as f,F as y,j as m,z as T,w as oe,k as _,g as D,v as V,x as H,m as j,B as re,p as b,A as S,q as w,u as ae,h as de,r as F}from"./index-BAHUIhA1.js";import{D as ue}from"./DashboardNavBar-CgPRTfef.js";import{C as A,r as U}from"./chart-BOVB5OMx.js";import{C as ce}from"./CalendarSideBar-CO-1bfN0.js";A.register(...U);const he={name:"ModuleTimeDistributionChart",props:{chartData:{type:Object,required:!0,default:()=>({labels:[],datasets:[]})}},data(){return{chart:null}},mounted(){this.createChart()},methods:{createChart(){const s=this.$refs.chartCanvas.getContext("2d");this.chart=new A(s,{type:"pie",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{padding:20,boxWidth:12,color:getComputedStyle(document.documentElement).getPropertyValue("--text-primary")}},tooltip:{callbacks:{label:function(e){const a=e.label||"",u=e.raw||0;return`${a}: ${u} hours`}}}}}})}},watch:{chartData:{handler(){this.chart&&(this.chart.data=this.chartData,this.chart.update())},deep:!0}},beforeUnmount(){this.chart&&this.chart.destroy()}},ve={class:"chart-wrapper"},ye={ref:"chartCanvas"};function me(s,e,a,u,i,l){return n(),r("div",ve,[t("canvas",ye,null,512)])}const pe=I(he,[["render",me],["__scopeId","data-v-1eac36fb"]]);A.register(...U);const ge={name:"StudySessionsTimelineChart",props:{chartData:{type:Object,required:!0,default:()=>({labels:[],datasets:[]})}},data(){return{chart:null}},mounted(){this.createChart()},methods:{createChart(){const s=this.$refs.chartCanvas.getContext("2d");this.chart=new A(s,{type:"line",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1,color:getComputedStyle(document.documentElement).getPropertyValue("--text-secondary")},grid:{color:getComputedStyle(document.documentElement).getPropertyValue("--border-color-light")},title:{display:!0,text:"Number of Sessions",color:getComputedStyle(document.documentElement).getPropertyValue("--text-secondary")}},x:{ticks:{color:getComputedStyle(document.documentElement).getPropertyValue("--text-secondary")},grid:{color:getComputedStyle(document.documentElement).getPropertyValue("--border-color-light")}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){const a=e.raw||0;return a===1?"1 session":`${a} sessions`}}}},elements:{point:{radius:5,hoverRadius:7},line:{tension:.4}}}})}},watch:{chartData:{handler(){this.chart&&(this.chart.data=this.chartData,this.chart.update())},deep:!0}},beforeUnmount(){this.chart&&this.chart.destroy()}},fe={class:"chart-wrapper"},we={ref:"chartCanvas"};function ke(s,e,a,u,i,l){return n(),r("div",fe,[t("canvas",we,null,512)])}const be=I(ge,[["render",ke],["__scopeId","data-v-210b6fc8"]]);A.register(...U);const Se={name:"ProductivityPatternsChart",props:{chartData:{type:Object,required:!0,default:()=>({labels:[],datasets:[]})}},data(){return{chart:null}},mounted(){this.createChart()},methods:{createChart(){const s=this.$refs.chartCanvas.getContext("2d");this.chart=new A(s,{type:"bar",data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:5,ticks:{stepSize:1,color:getComputedStyle(document.documentElement).getPropertyValue("--text-secondary")},grid:{color:getComputedStyle(document.documentElement).getPropertyValue("--border-color-light")},title:{display:!0,text:"Average Productivity (1-5)",color:getComputedStyle(document.documentElement).getPropertyValue("--text-secondary")}},x:{ticks:{color:getComputedStyle(document.documentElement).getPropertyValue("--text-secondary")},grid:{display:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return`Productivity: ${(e.raw||0).toFixed(1)}/5`}}}},borderRadius:4}})}},watch:{chartData:{handler(){this.chart&&(this.chart.data=this.chartData,this.chart.update())},deep:!0}},beforeUnmount(){this.chart&&this.chart.destroy()}},De={class:"chart-wrapper"},xe={ref:"chartCanvas"};function Ce(s,e,a,u,i,l){return n(),r("div",De,[t("canvas",xe,null,512)])}const _e=I(Se,[["render",Ce],["__scopeId","data-v-fad8c94c"]]),Me={name:"StudyHub",components:{DashboardNavBar:ue,ModuleTimeDistributionChart:pe,StudySessionsTimelineChart:be,ProductivityPatternsChart:_e,CalendarSideBar:ce},data(){return{darkMode:!1,isMobile:!1,activeTab:"schedule",calendarView:"month",isLoading:!1,error:null,showSidebar:!0,sidebarCollapsed:!1,userSettings:{appearance:{accentColor:"purple",fontSize:"medium",highContrast:!1,enableAnimations:!0},calendar:{firstDayOfWeek:"sunday",timeFormat:"12h",dateFormat:"MM/DD/YYYY",showWeekNumbers:!1,defaultView:"month",showCompleted:!0,highlightToday:!0},accessibility:{screenReaderOptimized:!1,reduceMotion:!1,colorBlindMode:"none",keyboardShortcuts:!0,focusMode:!1}},showTutorial:!1,tutorialStep:1,currentDate:new Date,selectedDate:new Date,userProfile:{firstName:"",lastName:"",email:"",avatar:null,university:"",degree:"",role:"Student",academicLevel:"",enrollmentType:"",currentYear:null},availableModules:[],enrolledModules:[],studyPreferences:{preferredTimes:[],sessionDuration:60,availableDays:[],breakDuration:15,maxSessionsPerDay:3},schedules:[],activeSchedule:null,studySessions:[],isEditMode:!1,editingScheduleId:null,scheduleForm:{name:"My Study Schedule",startDate:"",endDate:"",preferredTimes:["afternoon","evening"],availableDays:["monday","tuesday","wednesday","friday"],sessionDuration:60,breakDuration:15,maxSessionsPerDay:3,modules:[],isActive:!0},feedbackForm:{productivity:3,difficulty:3,notes:"",topics:[]},newTopic:"",studyStats:{},moduleStudyStats:[],moduleTimeDistribution:{labels:[],datasets:[{data:[],backgroundColor:[]}]},sessionsTimeline:{labels:[],datasets:[{label:"Study Sessions",data:[],borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4}]},productivityPatterns:{labels:[],datasets:[{label:"Productivity",data:[],backgroundColor:"rgba(153, 102, 255, 0.6)"}]},studyStreak:{},recentDays:[],achievements:[],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDays:[],displayHours:Array.from({length:14},(s,e)=>e+8),showCreateScheduleModal:!1,showEventDetails:!1,showCompletionModal:!1,showCalendarModal:!1,showDeleteModal:!1,showScheduleSelectionModal:!1,selectedEvent:null,selectedSchedule:null,studySessionCount:0,achievementCategories:[{value:"all",label:"All"},{value:"consistency",label:"Consistency"},{value:"time",label:"Time Management"},{value:"mastery",label:"Mastery"}],selectedAchievementCategory:"all",timeIndicatorInterval:null}},computed:{formattedWeekdays(){return this.userSettings.calendar.firstDayOfWeek==="monday"?["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hasAnalyticsData(){return this.studySessions.length>0&&this.studySessions.some(s=>s.completed||s.status==="completed")},monthDays(){const s=this.currentDate.getFullYear(),e=this.currentDate.getMonth();let u=new Date(s,e,1).getDay();this.userSettings.calendar.firstDayOfWeek==="monday"&&(u=u===0?6:u-1);const l=new Date(s,e+1,0).getDate(),M=u,N=new Date(s,e,0).getDate(),x=[];for(let k=M-1;k>=0;k--){const C=new Date(s,e-1,N-k);x.push({date:C,isCurrentMonth:!1})}for(let k=1;k<=l;k++){const C=new Date(s,e,k);x.push({date:C,isCurrentMonth:!0})}const B=42-x.length;for(let k=1;k<=B;k++){const C=new Date(s,e+1,k);x.push({date:C,isCurrentMonth:!1})}return x},filteredAchievements(){return this.selectedAchievementCategory==="all"?this.achievements:this.achievements.filter(s=>s.category===this.selectedAchievementCategory)},studyTimeOptions(){return[{value:"morning",label:"Morning (6am-12pm)"},{value:"afternoon",label:"Afternoon (12pm-5pm)"},{value:"evening",label:"Evening (5pm-9pm)"},{value:"night",label:"Night (9pm-11pm)"}]},daysOfWeek(){return[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}]}},watch:{selectedDate(s,e){s.toDateString()!==(e&&e.toDateString())&&this.fetchEventsForDate(s)}},mounted(){this.scheduleForm.startDate=this.formatDateISO(new Date),this.scheduleForm.endDate=this.formatDateISO(this.getDatePlusDays(new Date,7)),this.loadUserSettings(),this.darkMode=de(),this.checkMobile(),this.initializeCalendarView(),this.generateWeekDays(),this.setupEventListeners(),this.startCurrentTimeUpdates(),this.fetchData(),this.loadSidebarPreferences()},beforeUnmount(){this.removeEventListeners(),this.timeIndicatorInterval&&clearInterval(this.timeIndicatorInterval)},methods:{toggleSidebar(){this.showSidebar=!this.showSidebar,localStorage.setItem("studyHubShowSidebar",this.showSidebar)},handleSidebarCollapse(s){this.sidebarCollapsed=s,localStorage.setItem("studyHubSidebarCollapsed",s)},loadSidebarPreferences(){const s=localStorage.getItem("studyHubShowSidebar");s!==null?this.showSidebar=s==="true":this.showSidebar=!this.isMobile;const e=localStorage.getItem("studyHubSidebarCollapsed");e!==null&&(this.sidebarCollapsed=e==="true")},navigateToTab(s){["schedule","analytics","achievements","profile"].includes(s)&&(this.activeTab=s)},openCreateEventModal(s="general"){this.isEditMode=!1,this.eventToEdit=null;const e={title:"Study Session",description:"",date:this.formatDateISO(this.selectedDate),type:s||"study",all_day:!1,startTime:"09:00",endTime:"10:00",module:this.enrolledModules.length>0?this.enrolledModules[0].id:null,status:"planned",completed:!1};this.selectedEvent=e,this.showEventDetails=!0},openEditEventModal(s){this.isEditMode=!0,this.eventToEdit=s,this.selectedEvent={...s},this.showEventDetails=!0},toggleEventCompletion(s){try{const e={...s,completed:!s.completed};b.put(`${S}/calendar/events/${s.id}`,e,{withCredentials:!0}).then(()=>{const a=this.studySessions.findIndex(u=>u.id===s.id);a!==-1&&(this.studySessions[a].completed=!s.completed),w({type:"success",message:e.completed?"Event marked as completed!":"Event marked as incomplete!"})}).catch(a=>{console.error("Error updating event:",a),w({type:"error",message:"Failed to update event status"})})}catch(e){console.error("Error toggling event completion:",e)}},loadUserSettings(){try{const s=ae.getUserSettings();s&&(s.appearance&&(this.userSettings.appearance={...this.userSettings.appearance,...s.appearance}),s.calendar&&(this.userSettings.calendar={...this.userSettings.calendar,...s.calendar}),s.accessibility&&(this.userSettings.accessibility={...this.userSettings.accessibility,...s.accessibility}),s.academic&&(this.userProfile.academicLevel=s.academic.academicLevel||this.userProfile.academicLevel,this.userProfile.enrollmentType=s.academic.enrollmentType||this.userProfile.enrollmentType,this.userProfile.currentYear=s.academic.currentYear||this.userProfile.currentYear)),this.applySettings()}catch(s){console.error("Error loading user settings:",s)}},applySettings(){document.documentElement.classList.toggle("dark-mode",this.darkMode),this.applyCalendarSettings()},applyCalendarSettings(){this.userSettings.calendar.defaultView&&this.calendarView==="month"&&(this.calendarView=this.userSettings.calendar.defaultView),this.weekdays=this.formattedWeekdays,this.generateWeekDays()},setupEventListeners(){window.addEventListener("resize",this.checkMobile),window.addEventListener("darkModeChange",this.onDarkModeChange),window.addEventListener("calendarSettingsChanged",this.onCalendarSettingsChanged)},removeEventListeners(){window.removeEventListener("resize",this.checkMobile),window.removeEventListener("darkModeChange",this.onDarkModeChange),window.removeEventListener("calendarSettingsChanged",this.onCalendarSettingsChanged)},checkMobile(){this.isMobile=window.innerWidth<=768,this.isMobile&&localStorage.getItem("studyHubShowSidebar")===null&&(this.showSidebar=!1)},onDarkModeChange(s){this.darkMode=s.detail.isDark},onCalendarSettingsChanged(s){const e=s.detail;this.userSettings.calendar={...this.userSettings.calendar,...e},this.applyCalendarSettings(),this.fetchSessions()},initializeCalendarView(){this.userSettings.calendar.defaultView&&(this.calendarView=this.userSettings.calendar.defaultView)},async fetchData(){try{this.isLoading=!0,this.error=null,await this.fetchUserProfile(),await this.fetchEnrolledModules(),await this.fetchSchedules(),await this.fetchSessions(),await this.fetchAnalytics(),await this.fetchAchievements(),await this.fetchStudyStreak(),this.checkFirstTimeUser()}catch(s){console.error("Error fetching data:",s),this.error="Failed to load data. Please try again."}finally{this.isLoading=!1}},async fetchUserProfile(){try{const s=await b.get(`${S}/user/profile`,{withCredentials:!0});s.data&&(this.userProfile={...this.userProfile,...s.data})}catch(s){throw console.error("Error fetching user profile:",s),s}},async fetchEnrolledModules(){try{const s=await b.get(`${S}/modules`,{withCredentials:!0});s.data&&(this.availableModules=s.data,this.enrolledModules=s.data.filter(e=>e.isCurrentlyEnrolled||e.status==="in_progress"),this.scheduleForm.modules=this.availableModules.map(e=>e.id))}catch(s){throw console.error("Error fetching modules:",s),s}},async fetchSchedules(){try{const s=await b.get(`${S}/study/schedules`,{withCredentials:!0});s.data&&(this.schedules=s.data,this.activeSchedule=this.schedules.find(e=>e.is_active)||null)}catch(s){throw console.error("Error fetching schedules:",s),s}},async fetchSessions(){try{let s,e;if(this.calendarView==="month"){const i=this.currentDate.getFullYear(),l=this.currentDate.getMonth();s=new Date(i,l,1),e=new Date(i,l+1,0)}else this.calendarView==="week"?(s=this.weekDays[0].date,e=this.weekDays[6].date):(s=this.selectedDate,e=this.selectedDate);const a={start_date:this.formatDateISO(s),end_date:this.formatDateISO(e),active_only:"true"},u=await b.get(`${S}/study/sessions`,{params:a,withCredentials:!0});u.data&&(this.studySessions=u.data)}catch(s){throw console.error("Error fetching sessions:",s),s}},fetchEventsForDate(s){this.formatDateISO(s),this.activeTab==="schedule"&&this.fetchSessions()},async fetchAnalytics(){try{const s=await b.get(`${S}/study/analytics`,{withCredentials:!0});s.data&&(this.studyStats=s.data.studyStats||{},this.moduleStudyStats=s.data.moduleStudyStats||[],this.moduleTimeDistribution=s.data.moduleTimeDistribution||{labels:[],datasets:[{data:[],backgroundColor:[]}]},this.sessionsTimeline=s.data.sessionsTimeline||{labels:[],datasets:[{label:"Study Sessions",data:[],borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4}]},this.productivityPatterns=s.data.productivityPatterns||{labels:[],datasets:[{label:"Productivity",data:[],backgroundColor:"rgba(153, 102, 255, 0.6)"}]})}catch(s){throw console.error("Error fetching analytics:",s),s}},async fetchAchievements(){try{const s=await b.get(`${S}/study/achievements`,{withCredentials:!0});s.data&&s.data.achievements&&(this.achievements=s.data.achievements)}catch(s){throw console.error("Error fetching achievements:",s),s}},async fetchStudyStreak(){try{const s=await b.get(`${S}/study/streak`,{withCredentials:!0});s.data&&(this.studyStreak=s.data.streakData||{},this.recentDays=s.data.recentDays||[])}catch(s){throw console.error("Error fetching study streak:",s),s}},checkFirstTimeUser(){this.schedules.length===0&&this.studySessions.length===0&&(this.showTutorial=!0,this.tutorialStep=1)},closeTutorial(){this.showTutorial=!1,this.tutorialStep=1},generateWeekDays(){const s=this.getStartOfWeek(this.currentDate,this.userSettings.calendar.firstDayOfWeek),e=[];for(let a=0;a<7;a++){const u=new Date(s);u.setDate(s.getDate()+a),e.push({date:u})}this.weekDays=e},startCurrentTimeUpdates(){this.timeIndicatorInterval=setInterval(()=>{(this.calendarView==="week"||this.calendarView==="day")&&this.isToday(this.calendarView==="day"?this.selectedDate:this.currentDate)&&this.$forceUpdate()},6e4)},navigatePrevious(){const s=new Date(this.currentDate);this.calendarView==="month"?s.setMonth(s.getMonth()-1):this.calendarView==="week"?s.setDate(s.getDate()-7):this.calendarView==="day"&&s.setDate(s.getDate()-1),this.currentDate=s,this.generateWeekDays(),this.fetchSessions()},navigateNext(){const s=new Date(this.currentDate);this.calendarView==="month"?s.setMonth(s.getMonth()+1):this.calendarView==="week"?s.setDate(s.getDate()+7):this.calendarView==="day"&&s.setDate(s.getDate()+1),this.currentDate=s,this.generateWeekDays(),this.fetchSessions()},navigateToday(){this.currentDate=new Date,this.selectedDate=new Date,this.generateWeekDays(),this.fetchSessions()},selectDate(s){if(this.selectedDate=new Date(s),this.calendarView==="month"){const e=this.currentDate.getMonth(),a=this.selectedDate.getMonth();e!==a&&(this.currentDate=new Date(this.selectedDate),this.generateWeekDays(),this.fetchSessions())}this.calendarView==="day"&&(this.currentDate=new Date(this.selectedDate),this.generateWeekDays())},createEventAtTime(s,e){this.selectedDate=s;const a={title:"Study Session",description:"",date:this.formatDateISO(s),type:"study",all_day:!1,startTime:`${e}:00`,endTime:`${e+1}:00`,module:this.enrolledModules.length>0?this.enrolledModules[0].id:null,status:"planned",completed:!1};this.selectedEvent=a,this.isEditMode=!1,this.showEventDetails=!0},editSchedule(s){this.isEditMode=!0,this.editingScheduleId=s.id,this.scheduleForm={name:s.name,startDate:s.start_date,endDate:s.end_date,preferredTimes:s.preferred_times||[],availableDays:s.available_days||[],sessionDuration:s.session_duration||60,breakDuration:s.break_duration||15,maxSessionsPerDay:s.max_sessions_per_day||3,modules:s.modules||[],isActive:s.is_active},this.showCreateScheduleModal=!0},async saveSchedule(){var s,e;try{const a={name:this.scheduleForm.name,start_date:this.scheduleForm.startDate,end_date:this.scheduleForm.endDate,preferred_times:this.scheduleForm.preferredTimes,available_days:this.scheduleForm.availableDays,session_duration:parseInt(this.scheduleForm.sessionDuration),break_duration:parseInt(this.scheduleForm.breakDuration),max_sessions_per_day:parseInt(this.scheduleForm.maxSessionsPerDay),modules:this.scheduleForm.modules,is_active:this.scheduleForm.isActive};this.isEditMode?(await b.put(`${S}/study/schedules/${this.editingScheduleId}`,a,{withCredentials:!0}),w({type:"success",message:"Schedule updated successfully",duration:3e3})):(await b.post(`${S}/study/schedules/create`,a,{withCredentials:!0}),w({type:"success",message:"Schedule created successfully",duration:3e3})),await this.fetchSchedules(),await this.fetchSessions(),this.resetScheduleForm(),this.showCreateScheduleModal=!1}catch(a){console.error("Error saving schedule:",a),w({type:"error",message:((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.error)||"Failed to save schedule",duration:3e3})}},resetScheduleForm(){this.scheduleForm={name:"My Study Schedule",startDate:this.formatDateISO(new Date),endDate:this.formatDateISO(this.getDatePlusDays(new Date,7)),preferredTimes:["afternoon","evening"],availableDays:["monday","tuesday","wednesday","friday"],sessionDuration:60,breakDuration:15,maxSessionsPerDay:3,modules:this.availableModules.map(s=>s.id),isActive:!0},this.isEditMode=!1,this.editingScheduleId=null},confirmDeleteSchedule(s){this.selectedSchedule=s,this.showDeleteModal=!0},async deleteSchedule(){var s,e;try{await b.delete(`${S}/study/schedules/${this.selectedSchedule.id}`,{withCredentials:!0}),w({type:"success",message:"Schedule deleted successfully",duration:3e3}),await this.fetchSchedules(),await this.fetchSessions(),this.showDeleteModal=!1}catch(a){console.error("Error deleting schedule:",a),w({type:"error",message:((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.error)||"Failed to delete schedule",duration:3e3})}},async activateSchedule(s){var e,a;try{await b.post(`${S}/study/schedules/${s}/activate`,{},{withCredentials:!0}),w({type:"success",message:"Schedule activated successfully",duration:3e3}),await this.fetchSchedules(),await this.fetchSessions()}catch(u){console.error("Error activating schedule:",u),w({type:"error",message:((a=(e=u.response)==null?void 0:e.data)==null?void 0:a.error)||"Failed to activate schedule",duration:3e3})}},showCalendarConfirmation(s){this.selectedSchedule=s;const e=new Date(s.start_date),a=new Date(s.end_date),u=Math.ceil((a-e)/(1e3*60*60*24))+1,i=s.available_days.length,l=s.max_sessions_per_day;this.studySessionCount=Math.min(u*i/7*l,u*l).toFixed(0),this.showCalendarModal=!0},async addToCalendar(){var s,e;try{await b.post(`${S}/study/schedules/${this.selectedSchedule.id}/create-events`,{},{withCredentials:!0}),w({type:"success",message:"Study sessions added to calendar successfully",duration:3e3}),await this.fetchSchedules(),await this.fetchSessions(),this.showCalendarModal=!1}catch(a){console.error("Error adding to calendar:",a),w({type:"error",message:((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.error)||"Failed to add study sessions to calendar",duration:3e3})}},showEventDetails(s){this.selectedEvent=s,this.showEventDetails=!0},closeEventDetails(){this.showEventDetails=!1,this.selectedEvent=null},showMoreEvents(s){this.selectedDate=s,this.calendarView="day"},startSession(s){const e={...s,status:"in_progress"};b.put(`${S}/calendar/events/${s.id}`,e,{withCredentials:!0}).then(()=>{const a=this.studySessions.findIndex(u=>u.id===s.id);a!==-1&&(this.studySessions[a].status="in_progress"),this.selectedEvent=e,w({type:"success",message:"Study session started",duration:3e3})}).catch(a=>{var u,i;console.error("Error starting session:",a),w({type:"error",message:((i=(u=a.response)==null?void 0:u.data)==null?void 0:i.error)||"Failed to start session",duration:3e3})})},completeSession(s){this.selectedEvent=s,this.feedbackForm={productivity:3,difficulty:3,notes:"",topics:s.topics||[]},this.showCompletionModal=!0,this.showEventDetails=!1},rescheduleSession(s){w({type:"info",message:"Reschedule functionality would open a date/time picker",duration:3e3})},addTopic(){this.newTopic.trim()&&(this.feedbackForm.topics.push(this.newTopic.trim()),this.newTopic="")},removeTopic(s){this.feedbackForm.topics.splice(s,1)},async submitFeedback(){var s,e;try{const a={...this.selectedEvent,status:"completed",completed:!0,productivity:this.feedbackForm.productivity,difficulty:this.feedbackForm.difficulty,notes:this.feedbackForm.notes,topics:this.feedbackForm.topics};await b.put(`${S}/calendar/events/${this.selectedEvent.id}/complete`,a,{withCredentials:!0});const u=this.studySessions.findIndex(i=>i.id===this.selectedEvent.id);u!==-1&&(this.studySessions[u]={...this.studySessions[u],...a}),w({type:"success",message:"Session completed successfully!",duration:3e3}),await this.fetchData(),this.showCompletionModal=!1}catch(a){console.error("Error completing session:",a),w({type:"error",message:((e=(s=a.response)==null?void 0:s.data)==null?void 0:e.error)||"Failed to complete session",duration:3e3})}},handleLogout(){b.post(`${S}/logout`,{},{withCredentials:!0}).then(()=>{window.location.href="/login"}).catch(s=>{console.error("Logout error:",s),w({type:"error",message:"Failed to logout. Please try again."})})},isToday(s){const e=new Date;return s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear()},isSelectedDate(s){return s.getDate()===this.selectedDate.getDate()&&s.getMonth()===this.selectedDate.getMonth()&&s.getFullYear()===this.selectedDate.getFullYear()},formatDateISO(s){const e=new Date(s);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},formatDayNumber(s){return s.getDate()},formatDayName(s){return s.toLocaleDateString("en-US",{weekday:"short"})},formatDayDate(s){return s?new Date(s).getDate().toString():""},formatHour(s){if(this.userSettings.calendar.timeFormat==="24h")return`${s}:00`;{const e=s%12||12,a=s<12?"AM":"PM";return`${e} ${a}`}},formatDate(s){if(!s)return"";let e;return typeof s=="string"?e=new Date(s):e=s,e.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})},formatCurrentPeriod(){if(this.calendarView==="month")return this.currentDate.toLocaleDateString("en-US",{month:"long",year:"numeric"});if(this.calendarView==="week"){const s=this.weekDays[0].date,e=this.weekDays[6].date,a=s.toLocaleDateString("en-US",{month:"short",day:"numeric"}),u=e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${a} - ${u}`}else if(this.calendarView==="day")return this.formatDate(this.selectedDate);return""},formatEventDate(s){return s?this.formatDate(s.date):""},formatEventTime(s){if(!s)return"";if(!s.startTime||!s.endTime)return"All Day";const e=a=>{const[u,i]=a.split(":").map(Number),l=parseInt(u,10);if(this.userSettings.calendar.timeFormat==="24h")return`${u.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`;{const M=l>=12?"PM":"AM";return`${l%12||12}:${i.toString().padStart(2,"0")} ${M}`}};return`${e(s.startTime)} - ${e(s.endTime)}`},formatStatus(s){return s?{planned:"Planned",in_progress:"In Progress",completed:"Completed",missed:"Missed"}[s]||s:""},formatPreferredTimes(s){if(!s||!s.length)return"None selected";const e={morning:"Morning",afternoon:"Afternoon",evening:"Evening",night:"Night"};return s.map(a=>e[a]||a).join(", ")},formatDuration(s){if(!s)return"";if(s<60)return`${s} minutes`;const e=Math.floor(s/60),a=s%60;return a===0?`${e} hour${e>1?"s":""}`:`${e} hour${e>1?"s":""} ${a} minutes`},formatStudyDays(s){if(!s||!s.length)return"None selected";const e={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};return s.map(a=>e[a]||a).join(", ")},formatDays(s){return!s||!s.length?"None":s.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")},getDatePlusDays(s,e){const a=new Date(s);return a.setDate(a.getDate()+e),a},getStartOfWeek(s,e="sunday"){const a=new Date(s),u=a.getDay();let i;return e==="monday"?i=u===0?-6:1-u:i=-u,a.setDate(a.getDate()+i),a},getEventsForDay(s){const e=this.formatDateISO(s);return this.studySessions.filter(a=>a.date===e)},getModuleName(s){if(!s)return"";const e=this.availableModules.find(a=>a.id===s);return e?e.name:s},getModuleNames(s){return!s||!s.length?["No modules"]:s.map(e=>{const a=this.availableModules.find(u=>u.id===e);return a?a.name:e})},getEventClass(s){if(!s)return"";let e="event-default";if(s.module){const a=this.availableModules.findIndex(u=>u.id===s.module);if(a!==-1){const u=["event-cs101","event-cs202","event-math201"];e=u[a%u.length]}}return s.status==="completed"||s.completed?e+=" event-completed":s.status==="in_progress"?e+=" event-in-progress":s.status==="missed"&&(e+=" event-missed"),e},getStatusClass(s){return s&&{planned:"status-planned",in_progress:"status-in-progress",completed:"status-completed",missed:"status-missed"}[s]||""},calculateEventPosition(s){if(!s||!s.startTime)return{};const[e,a]=s.startTime.split(":").map(Number),[u,i]=s.endTime.split(":").map(Number),l=this.displayHours[0],E=(this.displayHours[this.displayHours.length-1]+1-l)*60,x=((e-l)*60+a)/E*100,k=(u*60+i-(e*60+a))/E*100;return{top:`${x}%`,height:`${k}%`,maxHeight:"100%"}},calculateCurrentTimePosition(){const s=new Date,e=s.getHours(),a=s.getMinutes(),u=this.displayHours[0],l=(this.displayHours[this.displayHours.length-1]+1-u)*60;return`${((e-u)*60+a)/l*100}%`},getInitials(s,e){let a="";return s&&(a+=s.charAt(0).toUpperCase()),e&&(a+=e.charAt(0).toUpperCase()),a||"U"},getLevelTitle(s){const e=["Beginner","Novice Scholar","Dedicated Student","Academic Adept","Knowledge Master"];return s<=2?e[0]:s<=5?e[1]:s<=10?e[2]:s<=15?e[3]:e[4]}}},Ee={class:"app-layout"},Te={class:"page-header"},Pe={class:"tab-navigation"},Fe={class:"header-actions"},Ae=["aria-label"],Ve={class:"tab-content"},Ne={key:0,class:"schedule-tab fade-in"},Be={class:"tab-header"},Le={class:"header-content"},je={class:"actions"},Ie={class:"card schedules-list-card"},He={class:"card-body"},Ue={key:0,class:"loading-state"},We={key:1,class:"error-state"},Ye={key:2,class:"empty-state"},Oe={key:3,class:"schedules-grid"},ze={class:"schedule-header"},Re={class:"schedule-badges"},Xe={key:0,class:"badge active"},qe={class:"schedule-body"},Ge={class:"schedule-detail"},Ke={class:"detail-value"},Ze={class:"schedule-detail"},Je={class:"detail-value module-list"},Qe={class:"schedule-detail"},$e={class:"detail-value"},et={class:"schedule-actions"},tt=["onClick"],st=["onClick"],it=["onClick"],ot=["onClick"],lt={class:"card calendar-card"},nt={class:"card-header calendar-header"},rt={class:"view-selector"},at={class:"date-navigator"},dt={class:"current-period"},ut={class:"card-body calendar-body"},ct={key:0,class:"loading-state"},ht={key:1,class:"error-state"},vt={key:2,class:"month-view"},yt={class:"weekday-header"},mt={class:"month-grid"},pt=["onClick"],gt={class:"day-number"},ft={class:"day-events"},wt=["onClick"],kt={class:"event-title"},bt={key:0,class:"event-module"},St=["onClick"],Dt={key:3,class:"week-view"},xt={class:"week-header"},Ct={class:"day-name"},_t={class:"day-number"},Mt={class:"week-grid"},Et={class:"time-column"},Tt={class:"day-columns"},Pt=["onClick"],Ft=["onClick"],At={class:"event-time"},Vt={class:"event-title"},Nt={key:4,class:"day-view"},Bt={class:"day-header"},Lt={class:"selected-day"},jt={class:"day-grid"},It={class:"time-column"},Ht={class:"events-column"},Ut=["onClick"],Wt=["onClick"],Yt={class:"event-time"},Ot={class:"event-title"},zt={class:"event-description"},Rt={key:0,class:"no-schedule-placeholder"},Xt={class:"placeholder-actions"},qt={key:1,class:"analytics-tab fade-in"},Gt={key:0,class:"loading-state"},Kt={key:1,class:"error-state"},Zt={key:2,class:"no-data-placeholder"},Jt={key:3,class:"analytics-content"},Qt={class:"overview-grid"},$t={class:"overview-card"},es={class:"overview-value"},ts={class:"overview-card"},ss={class:"overview-value"},is={class:"overview-card"},os={class:"overview-value"},ls={class:"overview-card"},ns={class:"overview-value"},rs={class:"charts-grid"},as={class:"card chart-card"},ds={class:"card-body"},us={class:"chart-container"},cs={class:"card chart-card"},hs={class:"card-body"},vs={class:"chart-container"},ys={class:"card chart-card"},ms={class:"card-body"},ps={class:"chart-container"},gs={class:"card module-stats-card"},fs={class:"card-body"},ws={key:0,class:"empty-state small"},ks={key:1,class:"module-stats-table"},bs={class:"table-body"},Ss={class:"cell module-name"},Ds={class:"cell"},xs={class:"cell"},Cs={class:"cell"},_s={class:"cell"},Ms={class:"cell"},Es={class:"progress-bar"},Ts={class:"progress-text"},Ps={key:2,class:"achievements-tab fade-in"},Fs={key:0,class:"loading-state"},As={key:1,class:"error-state"},Vs={key:2,class:"achievements-content"},Ns={class:"streak-level-grid"},Bs={class:"card streak-card"},Ls={class:"card-body"},js={class:"streak-display"},Is={class:"streak-circle"},Hs={class:"circle-inner"},Us={class:"streak-count"},Ws={class:"streak-stats"},Ys={class:"streak-stat"},Os={class:"stat-value"},zs={class:"streak-stat"},Rs={class:"stat-value"},Xs={class:"calendar-strip"},qs={class:"strip-day-date"},Gs={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ks={class:"card level-card"},Zs={class:"card-body"},Js={class:"level-display"},Qs={class:"level-badge"},$s={class:"level-number"},ei={class:"level-title"},ti={class:"level-progress"},si={class:"progress-info"},ii={class:"current-xp"},oi={class:"next-level"},li={class:"xp-progress-bar"},ni={class:"xp-percentage"},ri={class:"card achievements-list-card"},ai={class:"card-header achievements-header"},di={class:"category-filter"},ui=["onClick"],ci={class:"card-body"},hi={key:0,class:"empty-state"},vi={key:1,class:"achievements-grid"},yi={class:"achievement-icon"},mi=["src","alt"],pi={class:"achievement-content"},gi={class:"achievement-progress"},fi={class:"progress-bar"},wi={class:"progress-text"},ki={class:"achievement-status"},bi={key:0},Si={key:1},Di={key:2},xi={key:3,class:"profile-tab fade-in"},Ci={key:0,class:"loading-state"},_i={key:1,class:"error-state"},Mi={key:2,class:"profile-content"},Ei={class:"card profile-card"},Ti={class:"profile-header-section"},Pi={class:"profile-avatar"},Fi=["src","alt"],Ai={key:1,class:"avatar-placeholder"},Vi={class:"profile-info"},Ni={class:"profile-email"},Bi={class:"role-badge"},Li={class:"profile-details"},ji={class:"profile-sections"},Ii={class:"profile-section"},Hi={key:0,class:"module-list"},Ui={class:"module-info"},Wi={class:"module-name"},Yi={class:"module-code"},Oi={key:1,class:"empty-state small"},zi={key:0,class:"tip"},Ri={class:"profile-section"},Xi={class:"preferences-list"},qi={class:"preference-item"},Gi={class:"preference-value"},Ki={class:"preference-item"},Zi={class:"preference-value"},Ji={class:"preference-item"},Qi={class:"preference-value"},$i={class:"profile-section"},eo={class:"preferences-list"},to={class:"preference-item"},so={class:"preference-item"},io={class:"preference-item"},oo={class:"preference-value set"},lo={class:"profile-actions"},no={class:"modal tutorial-modal"},ro={class:"modal-header"},ao={class:"modal-body"},uo={key:0,class:"tutorial-step"},co={key:1,class:"tutorial-step"},ho={key:2,class:"tutorial-step"},vo={key:3,class:"tutorial-step"},yo={key:4,class:"tutorial-step"},mo={key:5,class:"tutorial-step"},po={class:"modal-footer"},go={class:"modal"},fo={class:"modal-header"},wo={class:"modal-body"},ko={class:"form-grid"},bo={class:"form-group full-width"},So={class:"form-group"},Do={class:"form-group"},xo={class:"form-group full-width"},Co={class:"checkbox-grid"},_o=["value"],Mo={class:"checkbox-text"},Eo={class:"form-group full-width"},To={class:"checkbox-grid"},Po=["value"],Fo={class:"checkbox-text"},Ao={class:"form-group"},Vo={class:"form-group"},No={class:"form-group full-width"},Bo={class:"form-group full-width"},Lo={key:0,class:"empty-state small"},jo={key:1,class:"modules-selection-grid"},Io=["value"],Ho={class:"checkbox-text"},Uo={key:0,class:"form-group full-width"},Wo={class:"checkbox-label"},Yo={class:"modal-footer"},Oo={class:"modal event-modal"},zo={class:"modal-header"},Ro={class:"modal-body"},Xo={class:"event-module"},qo={class:"event-info"},Go={class:"info-item"},Ko={class:"info-text"},Zo={class:"info-item"},Jo={class:"info-text"},Qo={class:"event-description"},$o={class:"event-topics"},el={class:"topics-list"},tl={key:0,class:"no-topics"},sl={class:"event-status"},il={class:"modal-footer"},ol={key:0,class:"event-actions"},ll={key:1,class:"event-actions"},nl={key:2,class:"session-feedback"},rl={class:"feedback-item"},al={class:"rating-stars"},dl={class:"feedback-item"},ul={class:"rating-stars"},cl={class:"xp-earned"},hl={class:"xp-amount"},vl={class:"modal"},yl={class:"modal-header"},ml={class:"modal-body"},pl={class:"form-group"},gl={class:"rating-input"},fl=["onClick"],wl={class:"form-group"},kl={class:"rating-input"},bl=["onClick"],Sl={class:"form-group"},Dl={class:"form-group"},xl={class:"topic-input"},Cl={class:"topics-list"},_l=["onClick"],Ml={class:"modal-footer"},El={class:"modal"},Tl={class:"modal-header"},Pl={class:"modal-body"},Fl={class:"confirmation-content"},Al={class:"confirmation-text"},Vl={class:"modal-footer"},Nl={class:"modal"},Bl={class:"modal-header"},Ll={class:"modal-body"},jl={class:"confirmation-content"},Il={class:"confirmation-text"},Hl={key:0,class:"warning"},Ul={class:"modal-footer"};function Wl(s,e,a,u,i,l){var C,W,Y,O,z,R,X,q,G,K,Z,J,Q,$,ee,te,se,ie;const M=F("DashboardNavBar"),E=F("CalendarSideBar"),N=F("ModuleTimeDistributionChart"),x=F("StudySessionsTimelineChart"),B=F("ProductivityPatternsChart"),k=F("router-link");return n(),r("div",{class:v(["study-hub",{"dark-mode":i.darkMode}])},[P(M,{userName:i.userProfile.firstName||"User",userEmail:i.userProfile.email||"user@example.com",userAvatar:i.userProfile.avatar,isMobile:i.isMobile,onLogout:l.handleLogout},null,8,["userName","userEmail","userAvatar","isMobile","onLogout"]),t("div",Ee,[t("div",{class:v(["sidebar-wrapper",{collapsed:i.sidebarCollapsed,hidden:!i.showSidebar}])},[i.showSidebar?(n(),ne(E,{key:0,events:i.studySessions,selectedDate:i.selectedDate,onDayClick:l.selectDate,onAddEvent:l.openCreateEventModal,onEditEvent:l.openEditEventModal,onDeleteEvent:l.confirmDeleteSchedule,onToggleCompletion:l.toggleEventCompletion,onChangeSchedule:i.showScheduleSelectionModal,onNavigate:l.navigateToTab,onToggleCollapse:l.handleSidebarCollapse},null,8,["events","selectedDate","onDayClick","onAddEvent","onEditEvent","onDeleteEvent","onToggleCompletion","onChangeSchedule","onNavigate","onToggleCollapse"])):h("",!0)],2),t("main",{class:v(["main-content",{"sidebar-visible":i.showSidebar&&!i.sidebarCollapsed,"sidebar-collapsed":i.showSidebar&&i.sidebarCollapsed}])},[t("header",Te,[e[66]||(e[66]=t("div",{class:"header-title"},[t("h1",null,"Study Hub"),t("p",{class:"subtitle"},"Manage your study schedules and track your progress")],-1)),t("nav",Pe,[t("button",{class:v({active:i.activeTab==="schedule"}),onClick:e[0]||(e[0]=o=>i.activeTab="schedule"),"aria-label":"View Study Schedule"},e[60]||(e[60]=[p('<span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></span><span class="label">Schedule</span>',2)]),2),t("button",{class:v({active:i.activeTab==="analytics"}),onClick:e[1]||(e[1]=o=>i.activeTab="analytics"),"aria-label":"View Analytics"},e[61]||(e[61]=[p('<span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg></span><span class="label">Analytics</span>',2)]),2),t("button",{class:v({active:i.activeTab==="achievements"}),onClick:e[2]||(e[2]=o=>i.activeTab="achievements"),"aria-label":"View Achievements"},e[62]||(e[62]=[p('<span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg></span><span class="label">Achievements</span>',2)]),2),t("button",{class:v({active:i.activeTab==="profile"}),onClick:e[3]||(e[3]=o=>i.activeTab="profile"),"aria-label":"View Profile"},e[63]||(e[63]=[p('<span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg></span><span class="label">Profile</span>',2)]),2)]),t("div",Fe,[t("button",{onClick:e[4]||(e[4]=(...o)=>l.toggleSidebar&&l.toggleSidebar(...o)),class:"action-button toggle-sidebar","aria-label":i.showSidebar?"Hide calendar sidebar":"Show calendar sidebar"},[e[64]||(e[64]=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t("line",{x1:"9",y1:"3",x2:"9",y2:"21"})],-1)),t("span",null,d(i.showSidebar?"Hide Calendar":"Show Calendar"),1)],8,Ae),t("button",{onClick:e[5]||(e[5]=o=>i.showTutorial=!0),class:"action-button help-button","aria-label":"Show tutorial"},e[65]||(e[65]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),t("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})],-1),t("span",null,"Help",-1)]))])]),t("div",Ve,[i.activeTab==="schedule"?(n(),r("section",Ne,[t("div",Be,[t("div",Le,[e[68]||(e[68]=t("h2",null,"Your Study Schedule",-1)),t("div",je,[t("button",{onClick:e[6]||(e[6]=o=>i.showCreateScheduleModal=!0),class:"btn primary"},e[67]||(e[67]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),f(" Create Schedule ")]))])])]),t("div",Ie,[e[79]||(e[79]=t("div",{class:"card-header"},[t("h3",null,"Your Schedules")],-1)),t("div",He,[i.isLoading?(n(),r("div",Ue,e[69]||(e[69]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading your schedules...",-1)]))):i.error?(n(),r("div",We,[e[70]||(e[70]=p('<div class="error-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div>',1)),t("p",null,d(i.error),1),t("button",{onClick:e[7]||(e[7]=(...o)=>l.fetchData&&l.fetchData(...o)),class:"btn secondary"},"Try Again")])):i.schedules.length===0?(n(),r("div",Ye,e[71]||(e[71]=[p('<div class="empty-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line><path d="M8 14h.01"></path><path d="M12 14h.01"></path><path d="M16 14h.01"></path><path d="M8 18h.01"></path><path d="M12 18h.01"></path><path d="M16 18h.01"></path></svg></div><p>You don&#39;t have any schedules yet.</p><p>Create your first schedule to get started.</p>',3)]))):(n(),r("div",Oe,[(n(!0),r(y,null,m(i.schedules,o=>(n(),r("div",{key:o.id,class:v(["schedule-card",{active:o.is_active}])},[t("div",ze,[t("h4",null,d(o.name),1),t("div",Re,[o.is_active?(n(),r("span",Xe,"Active")):h("",!0)])]),t("div",qe,[t("div",Ge,[e[72]||(e[72]=t("span",{class:"detail-label"},"Date Range",-1)),t("span",Ke,d(l.formatDate(o.start_date))+" â€” "+d(l.formatDate(o.end_date)),1)]),t("div",Ze,[e[73]||(e[73]=t("span",{class:"detail-label"},"Modules",-1)),t("span",Je,[(n(!0),r(y,null,m(l.getModuleNames(o.modules),(c,g)=>(n(),r("span",{key:g,class:"module-pill"},d(c),1))),128))])]),t("div",Qe,[e[74]||(e[74]=t("span",{class:"detail-label"},"Study Days",-1)),t("span",$e,d(l.formatDays(o.available_days)),1)])]),t("div",et,[o.is_active?h("",!0):(n(),r("button",{key:0,onClick:c=>l.activateSchedule(o.id),class:"action-btn activate","aria-label":"Set as active schedule"},e[75]||(e[75]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"9 11 12 14 22 4"}),t("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})],-1),t("span",null,"Activate",-1)]),8,tt)),o.events_created?h("",!0):(n(),r("button",{key:1,onClick:c=>l.showCalendarConfirmation(o),class:"action-btn calendar","aria-label":"Add to calendar"},e[76]||(e[76]=[p('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line><path d="M8 14h.01"></path><path d="M12 14h.01"></path><path d="M16 14h.01"></path><path d="M8 18h.01"></path><path d="M12 18h.01"></path><path d="M16 18h.01"></path></svg><span>Add to Calendar</span>',2)]),8,st)),t("button",{onClick:c=>l.editSchedule(o),class:"action-btn edit","aria-label":"Edit schedule"},e[77]||(e[77]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),t("span",null,"Edit",-1)]),8,it),t("button",{onClick:c=>l.confirmDeleteSchedule(o),class:"action-btn delete","aria-label":"Delete schedule"},e[78]||(e[78]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"3 6 5 6 21 6"}),t("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),t("span",null,"Delete",-1)]),8,ot)])],2))),128))]))])]),t("div",lt,[t("div",nt,[t("div",rt,[t("button",{class:v(["view-btn",{active:i.calendarView==="month"}]),onClick:e[8]||(e[8]=o=>i.calendarView="month"),"aria-label":"Switch to month view"}," Month ",2),t("button",{class:v(["view-btn",{active:i.calendarView==="week"}]),onClick:e[9]||(e[9]=o=>i.calendarView="week"),"aria-label":"Switch to week view"}," Week ",2),t("button",{class:v(["view-btn",{active:i.calendarView==="day"}]),onClick:e[10]||(e[10]=o=>i.calendarView="day"),"aria-label":"Switch to day view"}," Day ",2)]),t("div",at,[t("button",{onClick:e[11]||(e[11]=(...o)=>l.navigatePrevious&&l.navigatePrevious(...o)),class:"nav-btn","aria-label":"Previous period"},e[80]||(e[80]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])),t("button",{onClick:e[12]||(e[12]=(...o)=>l.navigateToday&&l.navigateToday(...o)),class:"today-btn","aria-label":"Go to today"}," Today "),t("button",{onClick:e[13]||(e[13]=(...o)=>l.navigateNext&&l.navigateNext(...o)),class:"nav-btn","aria-label":"Next period"},e[81]||(e[81]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M9 18l6-6-6-6"})],-1)])),t("span",dt,d(l.formatCurrentPeriod()),1)])]),t("div",ut,[i.isLoading?(n(),r("div",ct,e[82]||(e[82]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading your calendar...",-1)]))):i.error?(n(),r("div",ht,[e[83]||(e[83]=p('<div class="error-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div>',1)),t("p",null,d(i.error),1),t("button",{onClick:e[14]||(e[14]=(...o)=>l.fetchData&&l.fetchData(...o)),class:"btn secondary"},"Try Again")])):i.calendarView==="month"?(n(),r("div",vt,[t("div",yt,[(n(!0),r(y,null,m(i.weekdays,o=>(n(),r("div",{class:"weekday",key:o},d(o),1))),128))]),t("div",mt,[(n(!0),r(y,null,m(l.monthDays,(o,c)=>(n(),r("div",{key:c,class:v(["calendar-day",{today:l.isToday(o.date),"different-month":!o.isCurrentMonth,selected:l.isSelectedDate(o.date),"has-events":l.getEventsForDay(o.date).length>0}]),onClick:g=>l.selectDate(o.date)},[t("div",gt,d(l.formatDayNumber(o.date)),1),t("div",ft,[(n(!0),r(y,null,m(l.getEventsForDay(o.date).slice(0,3),(g,L)=>(n(),r("div",{key:L,class:v(["event-pill",l.getEventClass(g)]),onClick:_(le=>l.showEventDetails(g),["stop"])},[t("div",kt,d(g.title),1),g.module?(n(),r("div",bt,d(l.getModuleName(g.module)),1)):h("",!0)],10,wt))),128)),l.getEventsForDay(o.date).length>3?(n(),r("div",{key:0,class:"more-events",onClick:_(g=>l.showMoreEvents(o.date),["stop"])}," +"+d(l.getEventsForDay(o.date).length-3)+" more ",9,St)):h("",!0)])],10,pt))),128))])])):i.calendarView==="week"?(n(),r("div",Dt,[t("div",xt,[e[84]||(e[84]=t("div",{class:"time-column-header"},null,-1)),(n(!0),r(y,null,m(i.weekDays,(o,c)=>(n(),r("div",{class:v(["day-column-header",{today:l.isToday(o.date)}]),key:c},[t("div",Ct,d(l.formatDayName(o.date)),1),t("div",_t,d(l.formatDayNumber(o.date)),1)],2))),128))]),t("div",Mt,[t("div",Et,[(n(!0),r(y,null,m(i.displayHours,o=>(n(),r("div",{class:"time-slot",key:o},d(l.formatHour(o)),1))),128))]),t("div",Tt,[(n(!0),r(y,null,m(i.weekDays,(o,c)=>(n(),r("div",{class:v(["day-column",{today:l.isToday(o.date)}]),key:c},[l.isToday(o.date)?(n(),r("div",{key:0,class:"current-time-indicator",style:T({top:l.calculateCurrentTimePosition()})},e[85]||(e[85]=[t("div",{class:"time-dot"},null,-1),t("div",{class:"time-line"},null,-1)]),4)):h("",!0),(n(!0),r(y,null,m(i.displayHours,g=>(n(),r("div",{class:"time-slot",key:`${c}-${g}`,onClick:L=>l.createEventAtTime(o.date,g)},null,8,Pt))),128)),(n(!0),r(y,null,m(l.getEventsForDay(o.date),(g,L)=>(n(),r("div",{key:L,class:v(["week-event",l.getEventClass(g)]),style:T(l.calculateEventPosition(g)),onClick:le=>l.showEventDetails(g)},[t("div",At,d(l.formatEventTime(g)),1),t("div",Vt,d(g.title),1)],14,Ft))),128))],2))),128))])])])):i.calendarView==="day"?(n(),r("div",Nt,[t("div",Bt,[t("div",Lt,d(l.formatDate(i.selectedDate)),1)]),t("div",jt,[t("div",It,[(n(!0),r(y,null,m(i.displayHours,o=>(n(),r("div",{class:"time-slot",key:o},d(l.formatHour(o)),1))),128))]),t("div",Ht,[l.isToday(i.selectedDate)?(n(),r("div",{key:0,class:"current-time-indicator",style:T({top:l.calculateCurrentTimePosition()})},e[86]||(e[86]=[t("div",{class:"time-dot"},null,-1),t("div",{class:"time-line"},null,-1)]),4)):h("",!0),(n(!0),r(y,null,m(i.displayHours,o=>(n(),r("div",{class:"time-slot",key:o,onClick:c=>l.createEventAtTime(i.selectedDate,o)},null,8,Ut))),128)),(n(!0),r(y,null,m(l.getEventsForDay(i.selectedDate),(o,c)=>(n(),r("div",{key:c,class:v(["day-event",l.getEventClass(o)]),style:T(l.calculateEventPosition(o)),onClick:g=>l.showEventDetails(o)},[t("div",Yt,d(l.formatEventTime(o)),1),t("div",Ot,d(o.title),1),t("div",zt,d(o.description),1)],14,Wt))),128))])])])):h("",!0)])]),!i.isLoading&&!i.error&&!i.activeSchedule&&i.schedules.length===0?(n(),r("div",Rt,[e[87]||(e[87]=p('<div class="placeholder-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div><h3>No Study Schedule Yet</h3><p>Create your first study schedule to get started.</p>',3)),t("div",Xt,[t("button",{onClick:e[15]||(e[15]=o=>i.showCreateScheduleModal=!0),class:"btn primary"},"Create Schedule")])])):h("",!0)])):h("",!0),i.activeTab==="analytics"?(n(),r("section",qt,[e[105]||(e[105]=t("div",{class:"tab-header"},[t("div",{class:"header-content"},[t("h2",null,"Analytics & Insights")])],-1)),i.isLoading?(n(),r("div",Gt,e[88]||(e[88]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading analytics data...",-1)]))):i.error?(n(),r("div",Kt,[e[89]||(e[89]=p('<div class="error-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div>',1)),t("p",null,d(i.error),1),t("button",{onClick:e[16]||(e[16]=(...o)=>l.fetchData&&l.fetchData(...o)),class:"btn secondary"},"Try Again")])):l.hasAnalyticsData?(n(),r("div",Jt,[t("div",Qt,[t("div",$t,[e[91]||(e[91]=t("div",{class:"overview-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})])],-1)),t("div",es,d(i.studyStats.total_sessions_completed||0),1),e[92]||(e[92]=t("div",{class:"overview-label"},"Sessions Completed",-1))]),t("div",ts,[e[93]||(e[93]=t("div",{class:"overview-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})])],-1)),t("div",ss,d(i.studyStats.total_study_hours||0),1),e[94]||(e[94]=t("div",{class:"overview-label"},"Study Hours",-1))]),t("div",is,[e[95]||(e[95]=t("div",{class:"overview-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1)),t("div",os,d(i.studyStats.completion_rate||0)+"%",1),e[96]||(e[96]=t("div",{class:"overview-label"},"Completion Rate",-1))]),t("div",ls,[e[97]||(e[97]=t("div",{class:"overview-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})])],-1)),t("div",ns,d(i.studyStats.avg_productivity_rating||0)+"/5",1),e[98]||(e[98]=t("div",{class:"overview-label"},"Avg. Productivity",-1))])]),t("div",rs,[t("div",as,[e[99]||(e[99]=t("div",{class:"card-header"},[t("h3",null,"Study Time by Module")],-1)),t("div",ds,[t("div",us,[P(N,{chartData:i.moduleTimeDistribution},null,8,["chartData"])])])]),t("div",cs,[e[100]||(e[100]=t("div",{class:"card-header"},[t("h3",null,"Study Sessions Timeline")],-1)),t("div",hs,[t("div",vs,[P(x,{chartData:i.sessionsTimeline},null,8,["chartData"])])])]),t("div",ys,[e[101]||(e[101]=t("div",{class:"card-header"},[t("h3",null,"Productivity Patterns")],-1)),t("div",ms,[t("div",ps,[P(B,{chartData:i.productivityPatterns},null,8,["chartData"])])])])]),t("div",gs,[e[104]||(e[104]=t("div",{class:"card-header"},[t("h3",null,"Module Study Statistics")],-1)),t("div",fs,[i.moduleStudyStats.length===0?(n(),r("div",ws,e[102]||(e[102]=[t("p",null,"No module statistics available yet. Complete more study sessions to see data here.",-1)]))):(n(),r("div",ks,[e[103]||(e[103]=p('<div class="table-header"><div class="header-cell module-name">Module</div><div class="header-cell">Sessions</div><div class="header-cell">Total Hours</div><div class="header-cell">Weekly Avg.</div><div class="header-cell">Productivity</div><div class="header-cell">Progress</div></div>',1)),t("div",bs,[(n(!0),r(y,null,m(i.moduleStudyStats,o=>(n(),r("div",{key:o.id,class:"table-row"},[t("div",Ss,d(o.name),1),t("div",Ds,d(o.sessions),1),t("div",xs,d(o.hours)+" hrs",1),t("div",Cs,d(o.weeklyAvg)+" hrs",1),t("div",_s,d(o.productivity)+"/5",1),t("div",Ms,[t("div",Es,[t("div",{class:"progress-fill",style:T({width:o.progress+"%"})},[t("span",Ts,d(o.progress)+"%",1)],4)])])]))),128))])]))])])])):(n(),r("div",Zt,e[90]||(e[90]=[p('<div class="placeholder-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg></div><h3>No Analytics Data Yet</h3><p>Complete some study sessions to see your analytics data here. This will help you track your progress and improve your study habits.</p>',3)])))])):h("",!0),i.activeTab==="achievements"?(n(),r("section",Ps,[e[116]||(e[116]=t("div",{class:"tab-header"},[t("div",{class:"header-content"},[t("h2",null,"Your Achievements")])],-1)),i.isLoading?(n(),r("div",Fs,e[106]||(e[106]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading your achievements...",-1)]))):i.error?(n(),r("div",As,[e[107]||(e[107]=p('<div class="error-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div>',1)),t("p",null,d(i.error),1),t("button",{onClick:e[17]||(e[17]=(...o)=>l.fetchData&&l.fetchData(...o)),class:"btn secondary"},"Try Again")])):(n(),r("div",Vs,[t("div",Ns,[t("div",Bs,[e[112]||(e[112]=t("div",{class:"card-header"},[t("h3",null,"Study Streak")],-1)),t("div",Ls,[t("div",js,[t("div",Is,[t("div",Hs,[t("div",Us,d(i.studyStreak.current_streak||0),1),e[108]||(e[108]=t("div",{class:"streak-label"},"days",-1))])]),t("div",Ws,[t("div",Ys,[e[109]||(e[109]=t("div",{class:"stat-label"},"Longest Streak",-1)),t("div",Os,d(i.studyStreak.longest_streak||0)+" days",1)]),t("div",zs,[e[110]||(e[110]=t("div",{class:"stat-label"},"Last Study Session",-1)),t("div",Rs,d(l.formatDate(i.studyStreak.last_study_date)||"None yet"),1)])])]),t("div",Xs,[(n(!0),r(y,null,m(i.recentDays,(o,c)=>(n(),r("div",{key:c,class:"calendar-day"},[t("div",qs,d(l.formatDayDate(o.date)),1),t("div",{class:v(["day-indicator",{studied:o.studied}])},[o.studied?(n(),r("svg",Gs,e[111]||(e[111]=[t("path",{d:"M20 6L9 17l-5-5"},null,-1)]))):h("",!0)],2)]))),128))])])]),t("div",Ks,[e[113]||(e[113]=t("div",{class:"card-header"},[t("h3",null,"Study Level")],-1)),t("div",Zs,[t("div",Js,[t("div",Qs,[t("div",$s,d(i.studyStats.level||1),1),t("div",ei,d(l.getLevelTitle(i.studyStats.level||1)),1)]),t("div",ti,[t("div",si,[t("span",ii,d(i.studyStats.total_xp||0)+" XP",1),t("span",oi,d(i.studyStats.xp_for_next_level||100)+" XP to level "+d((i.studyStats.level||1)+1),1)]),t("div",li,[t("div",{class:"xp-progress-fill",style:T({width:(i.studyStats.level_progress_percent||0)+"%"})},[t("span",ni,d(i.studyStats.level_progress_percent||0)+"%",1)],4)])])])])])]),t("div",ri,[t("div",ai,[e[114]||(e[114]=t("h3",null,"Achievements",-1)),t("div",di,[(n(!0),r(y,null,m(i.achievementCategories,o=>(n(),r("button",{key:o.value,class:v({active:i.selectedAchievementCategory===o.value}),onClick:c=>i.selectedAchievementCategory=o.value},d(o.label),11,ui))),128))])]),t("div",ci,[i.achievements.length===0?(n(),r("div",hi,e[115]||(e[115]=[t("p",null,"Complete study sessions to earn achievements.",-1)]))):(n(),r("div",vi,[(n(!0),r(y,null,m(l.filteredAchievements,o=>(n(),r("div",{key:o.id,class:v(["achievement-card",{completed:o.status==="completed","in-progress":o.status==="in-progress",locked:o.status==="locked"}])},[t("div",yi,[t("img",{src:o.icon,alt:o.name},null,8,mi)]),t("div",pi,[t("h4",null,d(o.name),1),t("p",null,d(o.description),1),t("div",gi,[t("div",fi,[t("div",{class:"progress-fill",style:T({width:`${o.progressPercent}%`})},null,4)]),t("div",wi,d(o.progress)+" / "+d(o.target),1)])]),t("div",ki,[o.status==="completed"?(n(),r("span",bi,"Completed")):o.status==="in-progress"?(n(),r("span",Si,"In Progress")):(n(),r("span",Di,"Locked"))])],2))),128))]))])])]))])):h("",!0),i.activeTab==="profile"?(n(),r("section",xi,[e[132]||(e[132]=t("div",{class:"tab-header"},[t("div",{class:"header-content"},[t("h2",null,"Your Profile")])],-1)),i.isLoading?(n(),r("div",Ci,e[117]||(e[117]=[t("div",{class:"spinner"},null,-1),t("p",null,"Loading your profile...",-1)]))):i.error?(n(),r("div",_i,[e[118]||(e[118]=p('<div class="error-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div>',1)),t("p",null,d(i.error),1),t("button",{onClick:e[18]||(e[18]=(...o)=>l.fetchData&&l.fetchData(...o)),class:"btn secondary"},"Try Again")])):(n(),r("div",Mi,[t("div",Ei,[t("div",Ti,[t("div",Pi,[i.userProfile.avatar?(n(),r("img",{key:0,src:i.userProfile.avatar,alt:`${i.userProfile.firstName} ${i.userProfile.lastName}`},null,8,Fi)):(n(),r("div",Ai,d(l.getInitials(i.userProfile.firstName,i.userProfile.lastName)),1))]),t("div",Vi,[t("h3",null,d(i.userProfile.firstName)+" "+d(i.userProfile.lastName),1),t("p",Ni,d(i.userProfile.email),1),t("div",Bi,d(i.userProfile.role||"Student"),1),t("p",Li,d(i.userProfile.university||"University not set")+" | "+d(i.userProfile.degree||"Degree not set"),1)])]),t("div",ji,[t("div",Ii,[e[121]||(e[121]=t("h4",null,"Your Enrolled Modules",-1)),i.enrolledModules.length>0?(n(),r("div",Hi,[(n(!0),r(y,null,m(i.enrolledModules,o=>(n(),r("div",{key:o.id,class:"module-item"},[t("div",Ui,[t("div",Wi,d(o.name),1),t("div",Yi,d(o.code),1)]),e[119]||(e[119]=t("div",{class:"module-badge"},"Currently Enrolled",-1))]))),128))])):(n(),r("div",Oi,[e[120]||(e[120]=t("p",null,"You are not currently enrolled in any modules.",-1)),i.availableModules.length>0?(n(),r("p",zi,' Tip: Add modules in the Dashboard and mark them as "Currently Enrolled" to see them here. ')):h("",!0)]))]),t("div",Ri,[e[125]||(e[125]=t("h4",null,"Study Preferences",-1)),t("div",Xi,[t("div",qi,[e[122]||(e[122]=t("div",{class:"preference-label"},"Preferred Study Times:",-1)),t("div",Gi,d(l.formatPreferredTimes(i.studyPreferences.preferredTimes)),1)]),t("div",Ki,[e[123]||(e[123]=t("div",{class:"preference-label"},"Preferred Session Duration:",-1)),t("div",Zi,d(l.formatDuration(i.studyPreferences.sessionDuration)),1)]),t("div",Ji,[e[124]||(e[124]=t("div",{class:"preference-label"},"Available Study Days:",-1)),t("div",Qi,d(l.formatStudyDays(i.studyPreferences.availableDays)),1)])])]),t("div",$i,[e[129]||(e[129]=t("h4",null,"Academic Information",-1)),t("div",eo,[t("div",to,[e[126]||(e[126]=t("div",{class:"preference-label"},"Academic Level:",-1)),t("div",{class:v(["preference-value",{set:i.userProfile.academicLevel!=="Not set"}])},d(i.userProfile.academicLevel||"Not set"),3)]),t("div",so,[e[127]||(e[127]=t("div",{class:"preference-label"},"Enrollment Type:",-1)),t("div",{class:v(["preference-value",{set:i.userProfile.enrollmentType!=="Not set"}])},d(i.userProfile.enrollmentType||"Not set"),3)]),t("div",io,[e[128]||(e[128]=t("div",{class:"preference-label"},"Current Year:",-1)),t("div",oo,"Year "+d(i.userProfile.currentYear||"1"),1)])])])]),t("div",lo,[P(k,{to:"/settings?section=academic",class:"btn primary"},{default:oe(()=>e[130]||(e[130]=[f("Update Study Preferences")])),_:1}),P(k,{to:"/profile",class:"btn secondary"},{default:oe(()=>e[131]||(e[131]=[f("Edit Profile")])),_:1})])])]))])):h("",!0)])],2)]),i.showTutorial?(n(),r("div",{key:0,class:"modal-overlay",onClick:e[23]||(e[23]=_((...o)=>l.closeTutorial&&l.closeTutorial(...o),["self"]))},[t("div",no,[t("div",ro,[e[134]||(e[134]=t("h3",null,"Study Hub Tutorial",-1)),t("button",{onClick:e[19]||(e[19]=(...o)=>l.closeTutorial&&l.closeTutorial(...o)),class:"close-modal-btn","aria-label":"Close tutorial"},e[133]||(e[133]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",ao,[i.tutorialStep===1?(n(),r("div",uo,e[135]||(e[135]=[p('<h4>Welcome to Study Hub!</h4><div class="tutorial-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div><p>Study Hub helps you organize your study sessions, track your progress, and improve your study habits.</p><p>This tutorial will guide you through the main features of Study Hub.</p>',4)]))):h("",!0),i.tutorialStep===2?(n(),r("div",co,e[136]||(e[136]=[p('<h4>Study Schedule</h4><div class="tutorial-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div><p>The Study Schedule tab allows you to:</p><ul><li>Create and manage your study schedules</li><li>View your study sessions in a calendar</li><li>Track your upcoming and completed sessions</li></ul>',4)]))):h("",!0),i.tutorialStep===3?(n(),r("div",ho,e[137]||(e[137]=[p('<h4>Analytics &amp; Insights</h4><div class="tutorial-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg></div><p>The Analytics tab provides valuable insights about your study habits:</p><ul><li>Track total study hours and completed sessions</li><li>Analyze your productivity patterns</li><li>View time distribution across modules</li><li>Identify your strengths and areas for improvement</li></ul>',4)]))):h("",!0),i.tutorialStep===4?(n(),r("div",vo,e[138]||(e[138]=[t("h4",null,"Achievements",-1),t("div",{class:"tutorial-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"8",r:"7"}),t("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"})])],-1),t("p",null,"The Achievements tab keeps you motivated:",-1),t("ul",null,[t("li",null,"Earn achievements by completing study goals"),t("li",null,"Track your study streak"),t("li",null,"Level up by earning XP from study sessions"),t("li",null,"Challenge yourself to unlock all achievements")],-1)]))):h("",!0),i.tutorialStep===5?(n(),r("div",yo,e[139]||(e[139]=[t("h4",null,"Your Profile",-1),t("div",{class:"tutorial-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),t("circle",{cx:"12",cy:"7",r:"4"})])],-1),t("p",null,"The Profile tab shows your personal information:",-1),t("ul",null,[t("li",null,"View your enrolled modules"),t("li",null,"See your study preferences"),t("li",null,"Access academic information"),t("li",null,"Update your profile and preferences")],-1)]))):h("",!0),i.tutorialStep===6?(n(),r("div",mo,e[140]||(e[140]=[t("h4",null,"Getting Started",-1),t("div",{class:"tutorial-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 3 19 12 5 21 5 3"})])],-1),t("p",null,"To get started with Study Hub:",-1),t("ol",null,[t("li",null,"Go to the Study Schedule tab"),t("li",null,'Click "Create Schedule" to create a schedule'),t("li",null,"Add your modules and preferences"),t("li",null,"Start tracking your study sessions!")],-1),t("p",null,'You can always access this tutorial again by clicking the "Help" button in the header.',-1)]))):h("",!0)]),t("div",po,[i.tutorialStep>1?(n(),r("button",{key:0,onClick:e[20]||(e[20]=o=>i.tutorialStep--),class:"btn secondary"}," Previous ")):h("",!0),i.tutorialStep<6?(n(),r("button",{key:1,onClick:e[21]||(e[21]=o=>i.tutorialStep++),class:"btn primary"}," Next ")):h("",!0),i.tutorialStep===6?(n(),r("button",{key:2,onClick:e[22]||(e[22]=(...o)=>l.closeTutorial&&l.closeTutorial(...o)),class:"btn primary"}," Get Started ")):h("",!0)])])])):h("",!0),i.showCreateScheduleModal?(n(),r("div",{key:1,class:"modal-overlay",onClick:e[37]||(e[37]=_(o=>i.showCreateScheduleModal=!1,["self"]))},[t("div",go,[t("div",fo,[t("h3",null,d(i.isEditMode?"Edit Study Schedule":"Create Study Schedule"),1),t("button",{onClick:e[24]||(e[24]=o=>i.showCreateScheduleModal=!1),class:"close-modal-btn","aria-label":"Close"},e[141]||(e[141]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",wo,[t("div",ko,[t("div",bo,[e[142]||(e[142]=t("label",{for:"schedule-name"},"Schedule Name",-1)),D(t("input",{type:"text",id:"schedule-name","onUpdate:modelValue":e[25]||(e[25]=o=>i.scheduleForm.name=o),placeholder:"My Study Schedule"},null,512),[[V,i.scheduleForm.name]])]),t("div",So,[e[143]||(e[143]=t("label",{for:"start-date"},"From Date",-1)),D(t("input",{type:"date",id:"start-date","onUpdate:modelValue":e[26]||(e[26]=o=>i.scheduleForm.startDate=o)},null,512),[[V,i.scheduleForm.startDate]])]),t("div",Do,[e[144]||(e[144]=t("label",{for:"end-date"},"To Date",-1)),D(t("input",{type:"date",id:"end-date","onUpdate:modelValue":e[27]||(e[27]=o=>i.scheduleForm.endDate=o)},null,512),[[V,i.scheduleForm.endDate]])]),t("div",xo,[e[145]||(e[145]=t("label",null,"Preferred Study Times",-1)),t("div",Co,[(n(!0),r(y,null,m(l.studyTimeOptions,o=>(n(),r("label",{key:o.value,class:"checkbox-label"},[D(t("input",{type:"checkbox","onUpdate:modelValue":e[28]||(e[28]=c=>i.scheduleForm.preferredTimes=c),value:o.value},null,8,_o),[[j,i.scheduleForm.preferredTimes]]),t("span",Mo,d(o.label),1)]))),128))])]),t("div",Eo,[e[146]||(e[146]=t("label",null,"Available Days",-1)),t("div",To,[(n(!0),r(y,null,m(l.daysOfWeek,o=>(n(),r("label",{key:o.value,class:"checkbox-label"},[D(t("input",{type:"checkbox","onUpdate:modelValue":e[29]||(e[29]=c=>i.scheduleForm.availableDays=c),value:o.value},null,8,Po),[[j,i.scheduleForm.availableDays]]),t("span",Fo,d(o.label),1)]))),128))])]),t("div",Ao,[e[148]||(e[148]=t("label",{for:"session-duration"},"Session Duration",-1)),D(t("select",{id:"session-duration","onUpdate:modelValue":e[30]||(e[30]=o=>i.scheduleForm.sessionDuration=o)},e[147]||(e[147]=[p('<option value="30">30 minutes</option><option value="45">45 minutes</option><option value="60">60 minutes</option><option value="90">90 minutes</option><option value="120">2 hours</option>',5)]),512),[[H,i.scheduleForm.sessionDuration]])]),t("div",Vo,[e[150]||(e[150]=t("label",{for:"break-duration"},"Break Duration",-1)),D(t("select",{id:"break-duration","onUpdate:modelValue":e[31]||(e[31]=o=>i.scheduleForm.breakDuration=o)},e[149]||(e[149]=[t("option",{value:"5"},"5 minutes",-1),t("option",{value:"10"},"10 minutes",-1),t("option",{value:"15"},"15 minutes",-1),t("option",{value:"30"},"30 minutes",-1)]),512),[[H,i.scheduleForm.breakDuration]])]),t("div",No,[e[152]||(e[152]=t("label",{for:"max-sessions"},"Maximum Study Sessions Per Day",-1)),D(t("select",{id:"max-sessions","onUpdate:modelValue":e[32]||(e[32]=o=>i.scheduleForm.maxSessionsPerDay=o)},e[151]||(e[151]=[p('<option value="1">1 session</option><option value="2">2 sessions</option><option value="3">3 sessions</option><option value="4">4 sessions</option><option value="5">5 sessions</option>',5)]),512),[[H,i.scheduleForm.maxSessionsPerDay]])]),t("div",Bo,[e[154]||(e[154]=t("label",null,"Modules to Include",-1)),i.availableModules.length===0?(n(),r("div",Lo,e[153]||(e[153]=[t("p",null,"No modules available. Please add modules in the Dashboard first.",-1)]))):(n(),r("div",jo,[(n(!0),r(y,null,m(i.availableModules,o=>(n(),r("label",{key:o.id,class:"checkbox-label"},[D(t("input",{type:"checkbox","onUpdate:modelValue":e[33]||(e[33]=c=>i.scheduleForm.modules=c),value:o.id},null,8,Io),[[j,i.scheduleForm.modules]]),t("span",Ho,d(o.name)+" ("+d(o.code)+")",1)]))),128))]))]),i.isEditMode?(n(),r("div",Uo,[t("label",Wo,[D(t("input",{type:"checkbox","onUpdate:modelValue":e[34]||(e[34]=o=>i.scheduleForm.isActive=o)},null,512),[[j,i.scheduleForm.isActive]]),e[155]||(e[155]=t("span",{class:"checkbox-text"},"Set as active schedule",-1))])])):h("",!0)])]),t("div",Yo,[t("button",{onClick:e[35]||(e[35]=o=>i.showCreateScheduleModal=!1),class:"btn secondary"},"Cancel"),t("button",{onClick:e[36]||(e[36]=(...o)=>l.saveSchedule&&l.saveSchedule(...o)),class:"btn primary"},d(i.isEditMode?"Save Changes":"Create Schedule"),1)])])])):h("",!0),l.showEventDetails?(n(),r("div",{key:2,class:"modal-overlay",onClick:e[43]||(e[43]=_((...o)=>l.closeEventDetails&&l.closeEventDetails(...o),["self"]))},[t("div",Oo,[t("div",zo,[e[157]||(e[157]=t("h3",null,"Study Session Details",-1)),t("button",{onClick:e[38]||(e[38]=(...o)=>l.closeEventDetails&&l.closeEventDetails(...o)),class:"close-modal-btn","aria-label":"Close"},e[156]||(e[156]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",Ro,[t("div",{class:v(["event-header",l.getEventClass(i.selectedEvent)])},[t("h4",null,d((C=i.selectedEvent)==null?void 0:C.title),1),t("div",Xo,d(l.getModuleName((W=i.selectedEvent)==null?void 0:W.module)),1)],2),t("div",qo,[t("div",Go,[e[158]||(e[158]=p('<div class="info-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div>',1)),t("div",Ko,d(l.formatEventDate(i.selectedEvent)),1)]),t("div",Zo,[e[159]||(e[159]=t("div",{class:"info-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})])],-1)),t("div",Jo,d(l.formatEventTime(i.selectedEvent)),1)]),t("div",Qo,[e[160]||(e[160]=t("h5",null,"Description",-1)),t("p",null,d(((Y=i.selectedEvent)==null?void 0:Y.description)||"No description provided."),1)]),t("div",$o,[e[161]||(e[161]=t("h5",null,"Topics",-1)),t("div",el,[(n(!0),r(y,null,m((O=i.selectedEvent)==null?void 0:O.topics,(o,c)=>(n(),r("span",{key:c,class:"topic-tag"},d(o),1))),128)),!((z=i.selectedEvent)!=null&&z.topics)||((R=i.selectedEvent)==null?void 0:R.topics.length)===0?(n(),r("span",tl," No specific topics ")):h("",!0)])]),t("div",sl,[e[162]||(e[162]=t("h5",null,"Status",-1)),t("div",{class:v(["status-badge",l.getStatusClass((X=i.selectedEvent)==null?void 0:X.status)])},d(l.formatStatus((q=i.selectedEvent)==null?void 0:q.status)),3)])])]),t("div",il,[!((G=i.selectedEvent)!=null&&G.completed)&&((K=i.selectedEvent)==null?void 0:K.status)==="planned"?(n(),r("div",ol,[t("button",{onClick:e[39]||(e[39]=o=>l.startSession(i.selectedEvent)),class:"btn primary"},e[163]||(e[163]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 3 19 12 5 21 5 3"})],-1),f(" Start Session ")])),t("button",{onClick:e[40]||(e[40]=o=>l.rescheduleSession(i.selectedEvent)),class:"btn secondary"},e[164]||(e[164]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 6v6l4 2"})],-1),f(" Reschedule ")]))])):h("",!0),((Z=i.selectedEvent)==null?void 0:Z.status)==="in_progress"?(n(),r("div",ll,[t("button",{onClick:e[41]||(e[41]=o=>l.completeSession(i.selectedEvent)),class:"btn success"},e[165]||(e[165]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})],-1),f(" Complete Session ")]))])):h("",!0),((J=i.selectedEvent)==null?void 0:J.status)==="completed"?(n(),r("div",nl,[t("div",rl,[e[166]||(e[166]=t("span",null,"Productivity Rating:",-1)),t("div",al,[(n(),r(y,null,m(5,o=>{var c;return t("span",{key:o,class:v(["star",{filled:o<=(((c=i.selectedEvent)==null?void 0:c.productivity)||0)}])},"â˜…",2)}),64))])]),t("div",dl,[e[167]||(e[167]=t("span",null,"Difficulty Rating:",-1)),t("div",ul,[(n(),r(y,null,m(5,o=>{var c;return t("span",{key:o,class:v(["star",{filled:o<=(((c=i.selectedEvent)==null?void 0:c.difficulty)||0)}])},"â˜…",2)}),64))])]),t("div",cl,[e[168]||(e[168]=t("span",null,"XP Earned:",-1)),t("span",hl,"+"+d(((Q=i.selectedEvent)==null?void 0:Q.xpEarned)||0)+" XP",1)])])):h("",!0),t("button",{onClick:e[42]||(e[42]=(...o)=>l.closeEventDetails&&l.closeEventDetails(...o)),class:"btn secondary"},"Close")])])])):h("",!0),i.showCompletionModal?(n(),r("div",{key:3,class:"modal-overlay",onClick:e[51]||(e[51]=_(o=>i.showCompletionModal=!1,["self"]))},[t("div",vl,[t("div",yl,[e[170]||(e[170]=t("h3",null,"Session Feedback",-1)),t("button",{onClick:e[44]||(e[44]=o=>i.showCompletionModal=!1),class:"close-modal-btn","aria-label":"Close"},e[169]||(e[169]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",ml,[t("div",pl,[e[171]||(e[171]=t("label",null,"Productivity Rating",-1)),t("div",gl,[(n(),r(y,null,m(5,o=>t("span",{key:o,class:v(["rating-star",{selected:i.feedbackForm.productivity>=o}]),onClick:c=>i.feedbackForm.productivity=o},"â˜…",10,fl)),64))])]),t("div",wl,[e[172]||(e[172]=t("label",null,"Difficulty Level",-1)),t("div",kl,[(n(),r(y,null,m(5,o=>t("span",{key:o,class:v(["rating-star",{selected:i.feedbackForm.difficulty>=o}]),onClick:c=>i.feedbackForm.difficulty=o},"â˜…",10,bl)),64))])]),t("div",Sl,[e[173]||(e[173]=t("label",{for:"session-notes"},"Session Notes",-1)),D(t("textarea",{id:"session-notes","onUpdate:modelValue":e[45]||(e[45]=o=>i.feedbackForm.notes=o),placeholder:"What did you learn? Any challenges or observations?",rows:"4"},null,512),[[V,i.feedbackForm.notes]])]),t("div",Dl,[e[174]||(e[174]=t("label",null,"Topics Covered",-1)),t("div",xl,[D(t("input",{type:"text","onUpdate:modelValue":e[46]||(e[46]=o=>i.newTopic=o),onKeyup:e[47]||(e[47]=re((...o)=>l.addTopic&&l.addTopic(...o),["enter"])),placeholder:"Add topic and press Enter"},null,544),[[V,i.newTopic]]),t("button",{onClick:e[48]||(e[48]=(...o)=>l.addTopic&&l.addTopic(...o)),class:"btn primary small"},"Add")]),t("div",Cl,[(n(!0),r(y,null,m(i.feedbackForm.topics,(o,c)=>(n(),r("span",{key:c,class:"topic-tag"},[f(d(o)+" ",1),t("button",{onClick:g=>l.removeTopic(c),class:"remove-topic","aria-label":"Remove topic"},"Ã—",8,_l)]))),128))])])]),t("div",Ml,[t("button",{onClick:e[49]||(e[49]=o=>i.showCompletionModal=!1),class:"btn secondary"},"Cancel"),t("button",{onClick:e[50]||(e[50]=(...o)=>l.submitFeedback&&l.submitFeedback(...o)),class:"btn success"},"Complete Session")])])])):h("",!0),i.showCalendarModal?(n(),r("div",{key:4,class:"modal-overlay",onClick:e[55]||(e[55]=_(o=>i.showCalendarModal=!1,["self"]))},[t("div",El,[t("div",Tl,[e[176]||(e[176]=t("h3",null,"Add to Calendar",-1)),t("button",{onClick:e[52]||(e[52]=o=>i.showCalendarModal=!1),class:"close-modal-btn","aria-label":"Close"},e[175]||(e[175]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",Pl,[t("div",Fl,[e[185]||(e[185]=p('<div class="confirmation-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line><line x1="12" y1="15" x2="12" y2="19"></line><line x1="10" y1="17" x2="14" y2="17"></line></svg></div>',1)),t("div",Al,[t("p",null,[e[177]||(e[177]=f("You're about to add ")),t("strong",null,d(($=i.selectedSchedule)==null?void 0:$.name),1),e[178]||(e[178]=f(" to your calendar."))]),t("p",null,[e[179]||(e[179]=f("This will create ")),t("strong",null,d(i.studySessionCount),1),e[180]||(e[180]=f(" study session events from ")),t("strong",null,d(l.formatDate((ee=i.selectedSchedule)==null?void 0:ee.start_date)),1),e[181]||(e[181]=f(" to ")),t("strong",null,d(l.formatDate((te=i.selectedSchedule)==null?void 0:te.end_date)),1),e[182]||(e[182]=f("."))]),e[183]||(e[183]=t("p",null,[f("All events will be marked as "),t("strong",null,"Study Session"),f(" type.")],-1)),e[184]||(e[184]=t("p",{class:"note"},"Note: This action cannot be undone. You can delete individual events later if needed.",-1))])])]),t("div",Vl,[t("button",{onClick:e[53]||(e[53]=o=>i.showCalendarModal=!1),class:"btn secondary"},"Cancel"),t("button",{onClick:e[54]||(e[54]=(...o)=>l.addToCalendar&&l.addToCalendar(...o)),class:"btn primary"},"Add to Calendar")])])])):h("",!0),i.showDeleteModal?(n(),r("div",{key:5,class:"modal-overlay",onClick:e[59]||(e[59]=_(o=>i.showDeleteModal=!1,["self"]))},[t("div",Nl,[t("div",Bl,[e[187]||(e[187]=t("h3",null,"Delete Schedule",-1)),t("button",{onClick:e[56]||(e[56]=o=>i.showDeleteModal=!1),class:"close-modal-btn","aria-label":"Close"},e[186]||(e[186]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",Ll,[t("div",jl,[e[192]||(e[192]=p('<div class="confirmation-icon delete"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg></div>',1)),t("div",Il,[t("p",null,[e[188]||(e[188]=f("Are you sure you want to delete ")),t("strong",null,d((se=i.selectedSchedule)==null?void 0:se.name),1),e[189]||(e[189]=f("?"))]),e[190]||(e[190]=t("p",null,"This will permanently remove this schedule and all its associated study sessions.",-1)),(ie=i.selectedSchedule)!=null&&ie.events_created?(n(),r("p",Hl,"Note: Calendar events created from this schedule will not be automatically deleted.")):h("",!0),e[191]||(e[191]=t("p",{class:"note"},"This action cannot be undone.",-1))])])]),t("div",Ul,[t("button",{onClick:e[57]||(e[57]=o=>i.showDeleteModal=!1),class:"btn secondary"},"Cancel"),t("button",{onClick:e[58]||(e[58]=(...o)=>l.deleteSchedule&&l.deleteSchedule(...o)),class:"btn danger"},"Delete Schedule")])])])):h("",!0)],2)}const Xl=I(Me,[["render",Wl]]);export{Xl as default};
