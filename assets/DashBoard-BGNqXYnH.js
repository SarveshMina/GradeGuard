import{_ as pe,c as g,f as q,a,o as v,F as j,j as N,t as b,z as ae,g as D,Q as Zo,d as z,n as S,b as ne,v as G,x as Ee,e as H,m as Ve,w as Qo,T as ea,p as I,A as F,q as V,u as As,h as ta,r as J,O as ra}from"./index-lGJJI-4n.js";import{D as sa}from"./DashboardNavBar-ClVUNkpp.js";import{C as ia}from"./CalendarSideBar-BqCBuq5_.js";import{C as ee,r as fs}from"./chart-BOVB5OMx.js";import{M as na}from"./ModuleAnalyticsComponent-Cfx7sawI.js";import{c as De,g as so}from"./_commonjsHelpers-Cpj98o6Y.js";ee.register(...fs);const oa={name:"GradeDistributionChart",props:{scoreDistribution:{type:Array,default:()=>[]},isDarkMode:{type:Boolean,default:!1},colors:{type:Array,default:()=>["#a855f7","#8b5cf6","#7c3aed","#6d28d9","#5b21b6"]},height:{type:Number,default:250}},data(){return{loading:!0,chart:null}},computed:{hasData(){return this.scoreDistribution&&this.scoreDistribution.length>0&&this.scoreDistribution.some(t=>t.count>0)},chartColors(){const t=this.isDarkMode?["#a855f7","#8b5cf6","#7c3aed","#6d28d9","#5b21b6"]:["#c084fc","#a855f7","#8b5cf6","#7c3aed","#6d28d9"];return this.colors||t},gridColor(){return this.isDarkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},textColor(){return this.isDarkMode?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"}},watch:{scoreDistribution:{handler(){this.updateChart()},deep:!0},isDarkMode(){this.updateChart()}},mounted(){this.initChart(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){this.chart&&this.chart.destroy(),window.removeEventListener("resize",this.handleResize)},methods:{initChart(){if(!this.hasData){this.loading=!1;return}const t=document.createElement("canvas");t.height=this.height,this.$refs.chartContainer.appendChild(t);const e=this.scoreDistribution.map(s=>s.name),r=this.scoreDistribution.map(s=>s.count);this.chart=new ee(t,{type:"bar",data:{labels:e,datasets:[{label:"Number of Modules",data:r,backgroundColor:this.chartColors,borderColor:this.chartColors,borderWidth:1,borderRadius:5,maxBarThickness:35}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:this.isDarkMode?"#374151":"#ffffff",titleColor:this.isDarkMode?"#ffffff":"#111827",bodyColor:this.isDarkMode?"#d1d5db":"#4b5563",borderColor:this.isDarkMode?"#4b5563":"#e5e7eb",borderWidth:1,padding:10,boxPadding:5,usePointStyle:!0,callbacks:{label:s=>{const i=s.dataset.label||"",n=s.raw||0;return`${i}: ${n} ${n===1?"module":"modules"}`}}}},scales:{y:{beginAtZero:!0,ticks:{precision:0,color:this.textColor,font:{size:10}},grid:{color:this.gridColor}},x:{ticks:{color:this.textColor,font:{size:10},maxRotation:45,minRotation:45},grid:{display:!1}}},animation:{duration:1e3}}}),this.loading=!1},updateChart(){if(!this.chart){this.initChart();return}if(!this.hasData){this.chart&&(this.chart.destroy(),this.chart=null);return}const t=this.scoreDistribution.map(r=>r.name),e=this.scoreDistribution.map(r=>r.count);this.chart.data.labels=t,this.chart.data.datasets[0].data=e,this.chart.data.datasets[0].backgroundColor=this.chartColors,this.chart.data.datasets[0].borderColor=this.chartColors,this.chart.options.plugins.tooltip.backgroundColor=this.isDarkMode?"#374151":"#ffffff",this.chart.options.plugins.tooltip.titleColor=this.isDarkMode?"#ffffff":"#111827",this.chart.options.plugins.tooltip.bodyColor=this.isDarkMode?"#d1d5db":"#4b5563",this.chart.options.plugins.tooltip.borderColor=this.isDarkMode?"#4b5563":"#e5e7eb",this.chart.options.scales.y.ticks.color=this.textColor,this.chart.options.scales.x.ticks.color=this.textColor,this.chart.options.scales.y.grid.color=this.gridColor,this.chart.update()},handleResize(){this.chart&&this.chart.resize()}}},aa={class:"grade-distribution-chart",ref:"chartContainer"},la={key:0,class:"chart-loading"},da={key:1,class:"chart-no-data"};function ua(t,e,r,s,i,n){return v(),g("div",aa,[i.loading?(v(),g("div",la,e[0]||(e[0]=[a("div",{class:"spinner"},null,-1),a("div",null,"Loading chart...",-1)]))):n.hasData?q("",!0):(v(),g("div",da," No grade data available "))],512)}const ca=pe(oa,[["render",ua],["__scopeId","data-v-f6106487"]]),ha={name:"CssYearComparisonChart",props:{yearData:{type:Array,default:()=>[]},isDarkMode:{type:Boolean,default:!1},colors:{type:Object,default:()=>({primary:"#7c3aed",secondary:"#a78bfa"})}},data(){return{loading:!0,maxAverage:100,animations:[]}},computed:{hasData(){return this.yearData&&this.yearData.length>0},barGradient(){const t=this.colors.primary||(this.isDarkMode,"#7c3aed"),e=this.colors.secondary||(this.isDarkMode,"#a78bfa");return`linear-gradient(to right, ${t}, ${e})`}},watch:{yearData:{handler(){this.loading=!1,this.$nextTick(()=>{this.animateBars()})},immediate:!0},isDarkMode(){this.updateChartTheme()}},mounted(){this.loading=!1,this.$nextTick(()=>{this.animateBars(),this.updateChartTheme()})},methods:{calculateWidth(t){return Math.min(100,Math.max(0,t/this.maxAverage*100))},animateBars(){this.animations.forEach(e=>{e&&e.cancel&&e.cancel()}),this.animations=[];const t=this.$el.querySelectorAll(".year-bar-fill");t.forEach(e=>{e.style.width="0%"}),this.$nextTick(()=>{t.forEach((e,r)=>{const s=this.calculateWidth(this.yearData[r].average);if(typeof e.animate=="function"){const i=e.animate([{width:"0%"},{width:`${s}%`}],{duration:800,easing:"ease-out",fill:"forwards"});this.animations.push(i),i.onfinish=()=>{e.style.width=`${s}%`}}else setTimeout(()=>{e.style.transition="width 800ms ease-out",e.style.width=`${s}%`},50)})})},updateChartTheme(){const t=this.$refs.chartRoot;if(!t)return;t.querySelectorAll(".year-bar-fill").forEach(r=>{r.style.background=this.barGradient})},redrawChart(){return this.animateBars(),this.updateChartTheme(),!0}}},fa={class:"css-year-comparison-chart",ref:"chartRoot"},pa={key:0,class:"chart-loading"},ga={key:1,class:"chart-no-data"},va={key:2,class:"chart-content"},ma={class:"year-name"},ya={class:"year-bar"},ba={key:0},Ca={key:0,class:"year-value-low"},wa={class:"year-details"},_a={class:"year-detail-item"},Sa={class:"detail-value"},Ma={class:"year-detail-item"},xa={class:"detail-value"},ka={class:"year-detail-item"},Ta={class:"detail-value"};function Aa(t,e,r,s,i,n){return v(),g("div",fa,[i.loading?(v(),g("div",pa,e[0]||(e[0]=[a("div",{class:"spinner"},null,-1),a("div",null,"Loading chart...",-1)]))):n.hasData?(v(),g("div",va,[(v(!0),g(j,null,N(r.yearData,(o,l)=>(v(),g("div",{key:l,class:"year-item"},[a("div",ma,b(o.name),1),a("div",ya,[a("div",{class:"year-bar-fill",style:ae({width:`${n.calculateWidth(o.average)}%`})},[o.average>=30?(v(),g("span",ba,b(o.average)+"%",1)):q("",!0)],4),o.average<30?(v(),g("span",Ca,b(o.average)+"%",1)):q("",!0)]),a("div",wa,[a("div",_a,[e[1]||(e[1]=a("span",{class:"detail-label"},"Modules:",-1)),a("span",Sa,b(o.modules),1)]),a("div",Ma,[e[2]||(e[2]=a("span",{class:"detail-label"},"Credits:",-1)),a("span",xa,b(o.credits),1)]),a("div",ka,[e[3]||(e[3]=a("span",{class:"detail-label"},"Range:",-1)),a("span",Ta,b(o.lowest)+"% - "+b(o.highest)+"%",1)])])]))),128))])):(v(),g("div",ga," No year data available "))],512)}const Oa=pe(ha,[["render",Aa],["__scopeId","data-v-35e50254"]]);ee.register(...fs);const Ea={name:"PerformanceChart",props:{performanceData:{type:Array,default:()=>[]},isDarkMode:{type:Boolean,default:!1},colors:{type:Object,default:()=>({line:"#8b5cf6",fill:"rgba(139, 92, 246, 0.1)",point:"#7c3aed",grid:"rgba(255, 255, 255, 0.1)"})},height:{type:Number,default:300}},data(){return{loading:!0,chart:null}},computed:{hasData(){return this.performanceData&&this.performanceData.length>1},chartColors(){return{...{line:this.isDarkMode?"#8b5cf6":"#7c3aed",fill:this.isDarkMode?"rgba(139, 92, 246, 0.1)":"rgba(124, 58, 237, 0.1)",point:this.isDarkMode?"#a78bfa":"#8b5cf6",grid:this.isDarkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},...this.colors}},textColor(){return this.isDarkMode?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"}},watch:{performanceData:{handler(){this.updateChart()},deep:!0},isDarkMode(){this.updateChart()}},mounted(){this.initChart(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){this.chart&&this.chart.destroy(),window.removeEventListener("resize",this.handleResize)},methods:{initChart(){if(!this.hasData){this.loading=!1;return}const t=document.createElement("canvas");t.height=this.height,this.$refs.chartContainer.appendChild(t);const e=this.performanceData.map(s=>s.period),r=this.performanceData.map(s=>s.average);this.chart=new ee(t,{type:"line",data:{labels:e,datasets:[{label:"Average Score",data:r,borderColor:this.chartColors.line,backgroundColor:this.chartColors.fill,pointBackgroundColor:this.chartColors.point,borderWidth:2,pointRadius:4,pointHoverRadius:6,tension:.3,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:this.isDarkMode?"#374151":"#ffffff",titleColor:this.isDarkMode?"#ffffff":"#111827",bodyColor:this.isDarkMode?"#d1d5db":"#4b5563",borderColor:this.isDarkMode?"#4b5563":"#e5e7eb",borderWidth:1,padding:10,boxPadding:5,usePointStyle:!0,callbacks:{afterLabel:s=>{const i=s.dataIndex,n=this.performanceData[i];return[`Range: ${n.lowest}% - ${n.highest}%`,`Credits: ${n.credits}`]}}}},scales:{y:{beginAtZero:!1,min:Math.max(0,Math.floor(Math.min(...r)-10)),max:Math.min(100,Math.ceil(Math.max(...r)+10)),ticks:{color:this.textColor,font:{size:10}},grid:{color:this.chartColors.grid}},x:{ticks:{color:this.textColor,font:{size:10},maxRotation:45,minRotation:45},grid:{display:!1}}},animation:{duration:1500}}}),this.loading=!1},updateChart(){if(!this.chart){this.initChart();return}if(!this.hasData){this.chart&&(this.chart.destroy(),this.chart=null);return}const t=this.performanceData.map(r=>r.period),e=this.performanceData.map(r=>r.average);this.chart.data.labels=t,this.chart.data.datasets[0].data=e,this.chart.data.datasets[0].borderColor=this.chartColors.line,this.chart.data.datasets[0].backgroundColor=this.chartColors.fill,this.chart.data.datasets[0].pointBackgroundColor=this.chartColors.point,this.chart.options.scales.y.min=Math.max(0,Math.floor(Math.min(...e)-10)),this.chart.options.scales.y.max=Math.min(100,Math.ceil(Math.max(...e)+10)),this.chart.options.scales.y.ticks.color=this.textColor,this.chart.options.scales.x.ticks.color=this.textColor,this.chart.options.scales.y.grid.color=this.chartColors.grid,this.chart.options.plugins.tooltip.backgroundColor=this.isDarkMode?"#374151":"#ffffff",this.chart.options.plugins.tooltip.titleColor=this.isDarkMode?"#ffffff":"#111827",this.chart.options.plugins.tooltip.bodyColor=this.isDarkMode?"#d1d5db":"#4b5563",this.chart.options.plugins.tooltip.borderColor=this.isDarkMode?"#4b5563":"#e5e7eb",this.chart.update()},handleResize(){this.chart&&this.chart.resize()}}},Da={class:"performance-chart",ref:"chartContainer"},Pa={key:0,class:"chart-loading"},La={key:1,class:"chart-no-data"};function qa(t,e,r,s,i,n){return v(),g("div",Da,[i.loading?(v(),g("div",Pa,e[0]||(e[0]=[a("div",{class:"spinner"},null,-1),a("div",null,"Loading chart...",-1)]))):n.hasData?q("",!0):(v(),g("div",La," Not enough performance data available "))],512)}const Ra=pe(Ea,[["render",qa],["__scopeId","data-v-a1df524f"]]);ee.register(...fs);const Ia={name:"StrengthsRadarChart",props:{strengthsData:{type:Array,default:()=>[]},isDarkMode:{type:Boolean,default:!1},colors:{type:Object,default:()=>({fill:"rgba(124, 58, 237, 0.2)",stroke:"rgba(139, 92, 246, 0.8)",point:"#a78bfa",grid:"rgba(255, 255, 255, 0.1)"})},minScore:{type:Number,default:0},maxScore:{type:Number,default:100}},data(){return{loading:!0,chart:null}},computed:{hasData(){return this.strengthsData&&this.strengthsData.length>2},chartColors(){return{...{fill:this.isDarkMode?"rgba(139, 92, 246, 0.2)":"rgba(124, 58, 237, 0.2)",stroke:this.isDarkMode?"rgba(167, 139, 250, 0.8)":"rgba(139, 92, 246, 0.8)",point:this.isDarkMode?"#a78bfa":"#7c3aed",grid:this.isDarkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},...this.colors}},textColor(){return this.isDarkMode?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"}},watch:{strengthsData:{handler(){this.updateChart()},deep:!0},isDarkMode(){this.updateChart()}},mounted(){this.initChart(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){this.chart&&this.chart.destroy(),window.removeEventListener("resize",this.handleResize)},methods:{initChart(){if(!this.hasData){this.loading=!1;return}const t=document.createElement("canvas");this.$refs.chartContainer.appendChild(t);const e=this.strengthsData.map(s=>s.subject),r=this.strengthsData.map(s=>s.score);this.chart=new ee(t,{type:"radar",data:{labels:e,datasets:[{label:"Your Strengths",data:r,backgroundColor:this.chartColors.fill,borderColor:this.chartColors.stroke,pointBackgroundColor:this.chartColors.point,pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:this.chartColors.stroke,borderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{min:this.minScore,max:this.maxScore,ticks:{stepSize:20,showLabelBackdrop:!1,color:this.textColor,font:{size:9}},angleLines:{color:this.chartColors.grid},grid:{color:this.chartColors.grid},pointLabels:{color:this.textColor,font:{size:11,weight:"bold"}}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:this.isDarkMode?"#374151":"#ffffff",titleColor:this.isDarkMode?"#ffffff":"#111827",bodyColor:this.isDarkMode?"#d1d5db":"#4b5563",borderColor:this.isDarkMode?"#4b5563":"#e5e7eb",borderWidth:1,padding:10,boxPadding:5,usePointStyle:!0,callbacks:{label:s=>{const i=s.dataset.label||"",n=s.raw||0;return`${i}: ${n}%`}}}},animation:{duration:1500}}}),this.loading=!1},updateChart(){if(!this.chart){this.initChart();return}if(!this.hasData){this.chart&&(this.chart.destroy(),this.chart=null);return}const t=this.strengthsData.map(r=>r.subject),e=this.strengthsData.map(r=>r.score);this.chart.data.labels=t,this.chart.data.datasets[0].data=e,this.chart.data.datasets[0].backgroundColor=this.chartColors.fill,this.chart.data.datasets[0].borderColor=this.chartColors.stroke,this.chart.data.datasets[0].pointBackgroundColor=this.chartColors.point,this.chart.options.scales.r.ticks.color=this.textColor,this.chart.options.scales.r.pointLabels.color=this.textColor,this.chart.options.scales.r.grid.color=this.chartColors.grid,this.chart.options.scales.r.angleLines.color=this.chartColors.grid,this.chart.options.plugins.tooltip.backgroundColor=this.isDarkMode?"#374151":"#ffffff",this.chart.options.plugins.tooltip.titleColor=this.isDarkMode?"#ffffff":"#111827",this.chart.options.plugins.tooltip.bodyColor=this.isDarkMode?"#d1d5db":"#4b5563",this.chart.options.plugins.tooltip.borderColor=this.isDarkMode?"#4b5563":"#e5e7eb",this.chart.update()},handleResize(){this.chart&&this.chart.resize()}}},Fa={class:"strengths-radar-chart",ref:"chartContainer"},ja={key:0,class:"chart-loading"},Na={key:1,class:"chart-no-data"};function Ba(t,e,r,s,i,n){return v(),g("div",Fa,[i.loading?(v(),g("div",ja,e[0]||(e[0]=[a("div",{class:"spinner"},null,-1),a("div",null,"Loading chart...",-1)]))):n.hasData?q("",!0):(v(),g("div",Na," No subject data available "))],512)}const Ya=pe(Ia,[["render",Ba],["__scopeId","data-v-210fa3ae"]]),Ga={name:"ModuleComparisonChart",props:{moduleData:{type:Object,required:!0}},data(){return{chart:null,loading:!0}},watch:{moduleData:{handler(){this.renderChart()},deep:!0}},mounted(){setTimeout(()=>{this.renderChart()},100)},beforeDestroy(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{renderChart(){if(this.loading=!0,!this.$refs.chartCanvas){console.warn("Chart canvas element not found, deferring chart rendering"),this.$nextTick(()=>{setTimeout(()=>this.renderChart(),50)});return}this.chart&&(this.chart.destroy(),this.chart=null);const t=this.$refs.chartCanvas.getContext("2d");if(!t){console.warn("Canvas context not available, deferring chart rendering"),setTimeout(()=>this.renderChart(),100);return}const{score:e}=this.moduleData,o={labels:["Your Score","Class Average","Class Highest","Class Lowest"],datasets:[{label:"Scores",data:[e||0,65,92,38],backgroundColor:["rgba(123, 73, 255, 0.7)","rgba(52, 152, 219, 0.7)","rgba(46, 204, 113, 0.7)","rgba(231, 76, 60, 0.7)"],borderColor:["rgba(123, 73, 255, 1)","rgba(52, 152, 219, 1)","rgba(46, 204, 113, 1)","rgba(231, 76, 60, 1)"],borderWidth:1,borderRadius:4}]},l=document.body.classList.contains("dark-mode"),d={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100,grid:{color:l?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(u){return u+"%"},color:l?"#cbd5e1":"#333333"}},x:{grid:{display:!1},ticks:{color:l?"#cbd5e1":"#333333"}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(u){return u.raw+"%"}}}}};try{this.chart=new ee(t,{type:"bar",data:o,options:d}),this.loading=!1}catch(u){console.error("Error creating comparison chart:",u),this.loading=!1}},redrawChart(){this.renderChart()}}},Va={class:"comparison-chart"},$a={key:0,class:"chart-loading"},za={ref:"chartCanvas"};function Ha(t,e,r,s,i,n){return v(),g("div",Va,[i.loading?(v(),g("div",$a,e[0]||(e[0]=[a("div",{class:"loading-spinner"},null,-1),a("span",null,"Loading chart...",-1)]))):q("",!0),D(a("canvas",za,null,512),[[Zo,!i.loading]])])}const Wa=pe(Ga,[["render",Ha],["__scopeId","data-v-9b20b46b"]]);function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(t)}function Ua(t,e){if(K(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(K(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function io(t){var e=Ua(t,"string");return K(e)=="symbol"?e:e+""}function ue(t,e,r){return(e=io(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ka(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ja(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,io(s.key),s)}}function Xa(t,e,r){return e&&Ja(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Se=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Za=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(Se&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function Qa(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function el(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},Za))}}var tl=Se&&window.Promise,rl=tl?Qa:el;function no(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function te(t,e){if(t.nodeType!==1)return[];var r=t.ownerDocument.defaultView,s=r.getComputedStyle(t,null);return e?s[e]:s}function ps(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Me(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=te(t),r=e.overflow,s=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(r+i+s)?t:Me(ps(t))}function oo(t){return t&&t.referenceNode?t.referenceNode:t}var Os=Se&&!!(window.MSInputMethodContext&&document.documentMode),Es=Se&&/MSIE 10/.test(navigator.userAgent);function ge(t){return t===11?Os:t===10?Es:Os||Es}function ce(t){if(!t)return document.documentElement;for(var e=ge(10)?document.body:null,r=t.offsetParent||null;r===e&&t.nextElementSibling;)r=(t=t.nextElementSibling).offsetParent;var s=r&&r.nodeName;return!s||s==="BODY"||s==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&te(r,"position")==="static"?ce(r):r}function sl(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||ce(t.firstElementChild)===t}function is(t){return t.parentNode!==null?is(t.parentNode):t}function Le(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var r=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,s=r?t:e,i=r?e:t,n=document.createRange();n.setStart(s,0),n.setEnd(i,0);var o=n.commonAncestorContainer;if(t!==o&&e!==o||s.contains(i))return sl(o)?o:ce(o);var l=is(t);return l.host?Le(l.host,e):Le(t,is(e).host)}function he(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=e==="top"?"scrollTop":"scrollLeft",s=t.nodeName;if(s==="BODY"||s==="HTML"){var i=t.ownerDocument.documentElement,n=t.ownerDocument.scrollingElement||i;return n[r]}return t[r]}function il(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=he(e,"top"),i=he(e,"left"),n=r?-1:1;return t.top+=s*n,t.bottom+=s*n,t.left+=i*n,t.right+=i*n,t}function Ds(t,e){var r=e==="x"?"Left":"Top",s=r==="Left"?"Right":"Bottom";return parseFloat(t["border"+r+"Width"])+parseFloat(t["border"+s+"Width"])}function Ps(t,e,r,s){return Math.max(e["offset"+t],e["scroll"+t],r["client"+t],r["offset"+t],r["scroll"+t],ge(10)?parseInt(r["offset"+t])+parseInt(s["margin"+(t==="Height"?"Top":"Left")])+parseInt(s["margin"+(t==="Height"?"Bottom":"Right")]):0)}function ao(t){var e=t.body,r=t.documentElement,s=ge(10)&&getComputedStyle(r);return{height:Ps("Height",e,r,s),width:Ps("Width",e,r,s)}}var nl=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ol=function(){function t(e,r){for(var s=0;s<r.length;s++){var i=r[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e}}(),fe=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},$=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t};function Z(t){return $({},t,{right:t.left+t.width,bottom:t.top+t.height})}function ns(t){var e={};try{if(ge(10)){e=t.getBoundingClientRect();var r=he(t,"top"),s=he(t,"left");e.top+=r,e.left+=s,e.bottom+=r,e.right+=s}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},n=t.nodeName==="HTML"?ao(t.ownerDocument):{},o=n.width||t.clientWidth||i.width,l=n.height||t.clientHeight||i.height,d=t.offsetWidth-o,u=t.offsetHeight-l;if(d||u){var h=te(t);d-=Ds(h,"x"),u-=Ds(h,"y"),i.width-=d,i.height-=u}return Z(i)}function gs(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=ge(10),i=e.nodeName==="HTML",n=ns(t),o=ns(e),l=Me(t),d=te(e),u=parseFloat(d.borderTopWidth),h=parseFloat(d.borderLeftWidth);r&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=Z({top:n.top-o.top-u,left:n.left-o.left-h,width:n.width,height:n.height});if(f.marginTop=0,f.marginLeft=0,!s&&i){var p=parseFloat(d.marginTop),m=parseFloat(d.marginLeft);f.top-=u-p,f.bottom-=u-p,f.left-=h-m,f.right-=h-m,f.marginTop=p,f.marginLeft=m}return(s&&!r?e.contains(l):e===l&&l.nodeName!=="BODY")&&(f=il(f,e)),f}function al(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=t.ownerDocument.documentElement,s=gs(t,r),i=Math.max(r.clientWidth,window.innerWidth||0),n=Math.max(r.clientHeight,window.innerHeight||0),o=e?0:he(r),l=e?0:he(r,"left"),d={top:o-s.top+s.marginTop,left:l-s.left+s.marginLeft,width:i,height:n};return Z(d)}function lo(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(te(t,"position")==="fixed")return!0;var r=ps(t);return r?lo(r):!1}function uo(t){if(!t||!t.parentElement||ge())return document.documentElement;for(var e=t.parentElement;e&&te(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function vs(t,e,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,n={top:0,left:0},o=i?uo(t):Le(t,oo(e));if(s==="viewport")n=al(o,i);else{var l=void 0;s==="scrollParent"?(l=Me(ps(e)),l.nodeName==="BODY"&&(l=t.ownerDocument.documentElement)):s==="window"?l=t.ownerDocument.documentElement:l=s;var d=gs(l,o,i);if(l.nodeName==="HTML"&&!lo(o)){var u=ao(t.ownerDocument),h=u.height,f=u.width;n.top+=d.top-d.marginTop,n.bottom=h+d.top,n.left+=d.left-d.marginLeft,n.right=f+d.left}else n=d}r=r||0;var p=typeof r=="number";return n.left+=p?r:r.left||0,n.top+=p?r:r.top||0,n.right-=p?r:r.right||0,n.bottom-=p?r:r.bottom||0,n}function ll(t){var e=t.width,r=t.height;return e*r}function co(t,e,r,s,i){var n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=vs(r,s,n,i),l={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},d=Object.keys(l).map(function(p){return $({key:p},l[p],{area:ll(l[p])})}).sort(function(p,m){return m.area-p.area}),u=d.filter(function(p){var m=p.width,y=p.height;return m>=r.clientWidth&&y>=r.clientHeight}),h=u.length>0?u[0].key:d[0].key,f=t.split("-")[1];return h+(f?"-"+f:"")}function ho(t,e,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=s?uo(e):Le(e,oo(r));return gs(r,i,s)}function fo(t){var e=t.ownerDocument.defaultView,r=e.getComputedStyle(t),s=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),i=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),n={width:t.offsetWidth+i,height:t.offsetHeight+s};return n}function qe(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(r){return e[r]})}function po(t,e,r){r=r.split("-")[0];var s=fo(t),i={width:s.width,height:s.height},n=["right","left"].indexOf(r)!==-1,o=n?"top":"left",l=n?"left":"top",d=n?"height":"width",u=n?"width":"height";return i[o]=e[o]+e[d]/2-s[d]/2,r===l?i[l]=e[l]-s[u]:i[l]=e[qe(l)],i}function xe(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function dl(t,e,r){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===r});var s=xe(t,function(i){return i[e]===r});return t.indexOf(s)}function go(t,e,r){var s=r===void 0?t:t.slice(0,dl(t,"name",r));return s.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=i.function||i.fn;i.enabled&&no(n)&&(e.offsets.popper=Z(e.offsets.popper),e.offsets.reference=Z(e.offsets.reference),e=n(e,i))}),e}function ul(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=ho(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=co(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=po(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=go(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function vo(t,e){return t.some(function(r){var s=r.name,i=r.enabled;return i&&s===e})}function ms(t){for(var e=[!1,"ms","Webkit","Moz","O"],r=t.charAt(0).toUpperCase()+t.slice(1),s=0;s<e.length;s++){var i=e[s],n=i?""+i+r:t;if(typeof document.body.style[n]<"u")return n}return null}function cl(){return this.state.isDestroyed=!0,vo(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[ms("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function mo(t){var e=t.ownerDocument;return e?e.defaultView:window}function yo(t,e,r,s){var i=t.nodeName==="BODY",n=i?t.ownerDocument.defaultView:t;n.addEventListener(e,r,{passive:!0}),i||yo(Me(n.parentNode),e,r,s),s.push(n)}function hl(t,e,r,s){r.updateBound=s,mo(t).addEventListener("resize",r.updateBound,{passive:!0});var i=Me(t);return yo(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function fl(){this.state.eventsEnabled||(this.state=hl(this.reference,this.options,this.state,this.scheduleUpdate))}function pl(t,e){return mo(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(r){r.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function gl(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=pl(this.reference,this.state))}function ys(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function os(t,e){Object.keys(e).forEach(function(r){var s="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&ys(e[r])&&(s="px"),t.style[r]=e[r]+s})}function vl(t,e){Object.keys(e).forEach(function(r){var s=e[r];s!==!1?t.setAttribute(r,e[r]):t.removeAttribute(r)})}function ml(t){return os(t.instance.popper,t.styles),vl(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&os(t.arrowElement,t.arrowStyles),t}function yl(t,e,r,s,i){var n=ho(i,e,t,r.positionFixed),o=co(r.placement,n,e,t,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return e.setAttribute("x-placement",o),os(e,{position:r.positionFixed?"fixed":"absolute"}),r}function bl(t,e){var r=t.offsets,s=r.popper,i=r.reference,n=Math.round,o=Math.floor,l=function(C){return C},d=n(i.width),u=n(s.width),h=["left","right"].indexOf(t.placement)!==-1,f=t.placement.indexOf("-")!==-1,p=d%2===u%2,m=d%2===1&&u%2===1,y=e?h||f||p?n:o:l,c=e?n:l;return{left:y(m&&!f&&e?s.left-1:s.left),top:c(s.top),bottom:c(s.bottom),right:y(s.right)}}var Cl=Se&&/Firefox/i.test(navigator.userAgent);function wl(t,e){var r=e.x,s=e.y,i=t.offsets.popper,n=xe(t.instance.modifiers,function(O){return O.name==="applyStyle"}).gpuAcceleration;n!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=n!==void 0?n:e.gpuAcceleration,l=ce(t.instance.popper),d=ns(l),u={position:i.position},h=bl(t,window.devicePixelRatio<2||!Cl),f=r==="bottom"?"top":"bottom",p=s==="right"?"left":"right",m=ms("transform"),y=void 0,c=void 0;if(f==="bottom"?l.nodeName==="HTML"?c=-l.clientHeight+h.bottom:c=-d.height+h.bottom:c=h.top,p==="right"?l.nodeName==="HTML"?y=-l.clientWidth+h.right:y=-d.width+h.right:y=h.left,o&&m)u[m]="translate3d("+y+"px, "+c+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var w=f==="bottom"?-1:1,C=p==="right"?-1:1;u[f]=c*w,u[p]=y*C,u.willChange=f+", "+p}var _={"x-placement":t.placement};return t.attributes=$({},_,t.attributes),t.styles=$({},u,t.styles),t.arrowStyles=$({},t.offsets.arrow,t.arrowStyles),t}function bo(t,e,r){var s=xe(t,function(l){var d=l.name;return d===e}),i=!!s&&t.some(function(l){return l.name===r&&l.enabled&&l.order<s.order});if(!i){var n="`"+e+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+n+" modifier in order to work, be sure to include it before "+n+"!")}return i}function _l(t,e){var r;if(!bo(t.instance.modifiers,"arrow","keepTogether"))return t;var s=e.element;if(typeof s=="string"){if(s=t.instance.popper.querySelector(s),!s)return t}else if(!t.instance.popper.contains(s))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],n=t.offsets,o=n.popper,l=n.reference,d=["left","right"].indexOf(i)!==-1,u=d?"height":"width",h=d?"Top":"Left",f=h.toLowerCase(),p=d?"left":"top",m=d?"bottom":"right",y=fo(s)[u];l[m]-y<o[f]&&(t.offsets.popper[f]-=o[f]-(l[m]-y)),l[f]+y>o[m]&&(t.offsets.popper[f]+=l[f]+y-o[m]),t.offsets.popper=Z(t.offsets.popper);var c=l[f]+l[u]/2-y/2,w=te(t.instance.popper),C=parseFloat(w["margin"+h]),_=parseFloat(w["border"+h+"Width"]),O=c-t.offsets.popper[f]-C-_;return O=Math.max(Math.min(o[u]-y,O),0),t.arrowElement=s,t.offsets.arrow=(r={},fe(r,f,Math.round(O)),fe(r,p,""),r),t}function Sl(t){return t==="end"?"start":t==="start"?"end":t}var Co=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$e=Co.slice(3);function Ls(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=$e.indexOf(t),s=$e.slice(r+1).concat($e.slice(0,r));return e?s.reverse():s}var ze={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Ml(t,e){if(vo(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var r=vs(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),s=t.placement.split("-")[0],i=qe(s),n=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case ze.FLIP:o=[s,i];break;case ze.CLOCKWISE:o=Ls(s);break;case ze.COUNTERCLOCKWISE:o=Ls(s,!0);break;default:o=e.behavior}return o.forEach(function(l,d){if(s!==l||o.length===d+1)return t;s=t.placement.split("-")[0],i=qe(s);var u=t.offsets.popper,h=t.offsets.reference,f=Math.floor,p=s==="left"&&f(u.right)>f(h.left)||s==="right"&&f(u.left)<f(h.right)||s==="top"&&f(u.bottom)>f(h.top)||s==="bottom"&&f(u.top)<f(h.bottom),m=f(u.left)<f(r.left),y=f(u.right)>f(r.right),c=f(u.top)<f(r.top),w=f(u.bottom)>f(r.bottom),C=s==="left"&&m||s==="right"&&y||s==="top"&&c||s==="bottom"&&w,_=["top","bottom"].indexOf(s)!==-1,O=!!e.flipVariations&&(_&&n==="start"&&m||_&&n==="end"&&y||!_&&n==="start"&&c||!_&&n==="end"&&w),T=!!e.flipVariationsByContent&&(_&&n==="start"&&y||_&&n==="end"&&m||!_&&n==="start"&&w||!_&&n==="end"&&c),P=O||T;(p||C||P)&&(t.flipped=!0,(p||C)&&(s=o[d+1]),P&&(n=Sl(n)),t.placement=s+(n?"-"+n:""),t.offsets.popper=$({},t.offsets.popper,po(t.instance.popper,t.offsets.reference,t.placement)),t=go(t.instance.modifiers,t,"flip"))}),t}function xl(t){var e=t.offsets,r=e.popper,s=e.reference,i=t.placement.split("-")[0],n=Math.floor,o=["top","bottom"].indexOf(i)!==-1,l=o?"right":"bottom",d=o?"left":"top",u=o?"width":"height";return r[l]<n(s[d])&&(t.offsets.popper[d]=n(s[d])-r[u]),r[d]>n(s[l])&&(t.offsets.popper[d]=n(s[l])),t}function kl(t,e,r,s){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),n=+i[1],o=i[2];if(!n)return t;if(o.indexOf("%")===0){var l=void 0;switch(o){case"%p":l=r;break;case"%":case"%r":default:l=s}var d=Z(l);return d[e]/100*n}else if(o==="vh"||o==="vw"){var u=void 0;return o==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*n}else return n}function Tl(t,e,r,s){var i=[0,0],n=["right","left"].indexOf(s)!==-1,o=t.split(/(\+|\-)/).map(function(h){return h.trim()}),l=o.indexOf(xe(o,function(h){return h.search(/,|\s/)!==-1}));o[l]&&o[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var d=/\s*,\s*|\s+/,u=l!==-1?[o.slice(0,l).concat([o[l].split(d)[0]]),[o[l].split(d)[1]].concat(o.slice(l+1))]:[o];return u=u.map(function(h,f){var p=(f===1?!n:n)?"height":"width",m=!1;return h.reduce(function(y,c){return y[y.length-1]===""&&["+","-"].indexOf(c)!==-1?(y[y.length-1]=c,m=!0,y):m?(y[y.length-1]+=c,m=!1,y):y.concat(c)},[]).map(function(y){return kl(y,p,e,r)})}),u.forEach(function(h,f){h.forEach(function(p,m){ys(p)&&(i[f]+=p*(h[m-1]==="-"?-1:1))})}),i}function Al(t,e){var r=e.offset,s=t.placement,i=t.offsets,n=i.popper,o=i.reference,l=s.split("-")[0],d=void 0;return ys(+r)?d=[+r,0]:d=Tl(r,n,o,l),l==="left"?(n.top+=d[0],n.left-=d[1]):l==="right"?(n.top+=d[0],n.left+=d[1]):l==="top"?(n.left+=d[0],n.top-=d[1]):l==="bottom"&&(n.left+=d[0],n.top+=d[1]),t.popper=n,t}function Ol(t,e){var r=e.boundariesElement||ce(t.instance.popper);t.instance.reference===r&&(r=ce(r));var s=ms("transform"),i=t.instance.popper.style,n=i.top,o=i.left,l=i[s];i.top="",i.left="",i[s]="";var d=vs(t.instance.popper,t.instance.reference,e.padding,r,t.positionFixed);i.top=n,i.left=o,i[s]=l,e.boundaries=d;var u=e.priority,h=t.offsets.popper,f={primary:function(m){var y=h[m];return h[m]<d[m]&&!e.escapeWithReference&&(y=Math.max(h[m],d[m])),fe({},m,y)},secondary:function(m){var y=m==="right"?"left":"top",c=h[y];return h[m]>d[m]&&!e.escapeWithReference&&(c=Math.min(h[y],d[m]-(m==="right"?h.width:h.height))),fe({},y,c)}};return u.forEach(function(p){var m=["left","top"].indexOf(p)!==-1?"primary":"secondary";h=$({},h,f[m](p))}),t.offsets.popper=h,t}function El(t){var e=t.placement,r=e.split("-")[0],s=e.split("-")[1];if(s){var i=t.offsets,n=i.reference,o=i.popper,l=["bottom","top"].indexOf(r)!==-1,d=l?"left":"top",u=l?"width":"height",h={start:fe({},d,n[d]),end:fe({},d,n[d]+n[u]-o[u])};t.offsets.popper=$({},o,h[s])}return t}function Dl(t){if(!bo(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,r=xe(t.instance.modifiers,function(s){return s.name==="preventOverflow"}).boundaries;if(e.bottom<r.top||e.left>r.right||e.top>r.bottom||e.right<r.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function Pl(t){var e=t.placement,r=e.split("-")[0],s=t.offsets,i=s.popper,n=s.reference,o=["left","right"].indexOf(r)!==-1,l=["top","left"].indexOf(r)===-1;return i[o?"left":"top"]=n[r]-(l?i[o?"width":"height"]:0),t.placement=qe(e),t.offsets.popper=Z(i),t}var Ll={shift:{order:100,enabled:!0,fn:El},offset:{order:200,enabled:!0,fn:Al,offset:0},preventOverflow:{order:300,enabled:!0,fn:Ol,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:xl},arrow:{order:500,enabled:!0,fn:_l,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Ml,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Pl},hide:{order:800,enabled:!0,fn:Dl},computeStyle:{order:850,enabled:!0,fn:wl,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:ml,onLoad:yl,gpuAcceleration:void 0}},ql={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ll},ke=function(){function t(e,r){var s=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};nl(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(s.update)},this.update=rl(this.update.bind(this)),this.options=$({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys($({},t.Defaults.modifiers,i.modifiers)).forEach(function(o){s.options.modifiers[o]=$({},t.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return $({name:o},s.options.modifiers[o])}).sort(function(o,l){return o.order-l.order}),this.modifiers.forEach(function(o){o.enabled&&no(o.onLoad)&&o.onLoad(s.reference,s.popper,s.options,o,s.state)}),this.update();var n=this.options.eventsEnabled;n&&this.enableEventListeners(),this.state.eventsEnabled=n}return ol(t,[{key:"update",value:function(){return ul.call(this)}},{key:"destroy",value:function(){return cl.call(this)}},{key:"enableEventListeners",value:function(){return fl.call(this)}},{key:"disableEventListeners",value:function(){return gl.call(this)}}]),t}();ke.Utils=(typeof window<"u"?window:global).PopperUtils;ke.placements=Co;ke.Defaults=ql;var He,qs;function Rl(){if(qs)return He;qs=1;function t(){this.__data__=[],this.size=0}return He=t,He}var We,Rs;function Te(){if(Rs)return We;Rs=1;function t(e,r){return e===r||e!==e&&r!==r}return We=t,We}var Ue,Is;function Fe(){if(Is)return Ue;Is=1;var t=Te();function e(r,s){for(var i=r.length;i--;)if(t(r[i][0],s))return i;return-1}return Ue=e,Ue}var Ke,Fs;function Il(){if(Fs)return Ke;Fs=1;var t=Fe(),e=Array.prototype,r=e.splice;function s(i){var n=this.__data__,o=t(n,i);if(o<0)return!1;var l=n.length-1;return o==l?n.pop():r.call(n,o,1),--this.size,!0}return Ke=s,Ke}var Je,js;function Fl(){if(js)return Je;js=1;var t=Fe();function e(r){var s=this.__data__,i=t(s,r);return i<0?void 0:s[i][1]}return Je=e,Je}var Xe,Ns;function jl(){if(Ns)return Xe;Ns=1;var t=Fe();function e(r){return t(this.__data__,r)>-1}return Xe=e,Xe}var Ze,Bs;function Nl(){if(Bs)return Ze;Bs=1;var t=Fe();function e(r,s){var i=this.__data__,n=t(i,r);return n<0?(++this.size,i.push([r,s])):i[n][1]=s,this}return Ze=e,Ze}var Qe,Ys;function je(){if(Ys)return Qe;Ys=1;var t=Rl(),e=Il(),r=Fl(),s=jl(),i=Nl();function n(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return n.prototype.clear=t,n.prototype.delete=e,n.prototype.get=r,n.prototype.has=s,n.prototype.set=i,Qe=n,Qe}var et,Gs;function Bl(){if(Gs)return et;Gs=1;var t=je();function e(){this.__data__=new t,this.size=0}return et=e,et}var tt,Vs;function Yl(){if(Vs)return tt;Vs=1;function t(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}return tt=t,tt}var rt,$s;function Gl(){if($s)return rt;$s=1;function t(e){return this.__data__.get(e)}return rt=t,rt}var st,zs;function Vl(){if(zs)return st;zs=1;function t(e){return this.__data__.has(e)}return st=t,st}var it,Hs;function wo(){if(Hs)return it;Hs=1;var t=typeof De=="object"&&De&&De.Object===Object&&De;return it=t,it}var nt,Ws;function U(){if(Ws)return nt;Ws=1;var t=wo(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return nt=r,nt}var ot,Us;function bs(){if(Us)return ot;Us=1;var t=U(),e=t.Symbol;return ot=e,ot}var at,Ks;function $l(){if(Ks)return at;Ks=1;var t=bs(),e=Object.prototype,r=e.hasOwnProperty,s=e.toString,i=t?t.toStringTag:void 0;function n(o){var l=r.call(o,i),d=o[i];try{o[i]=void 0;var u=!0}catch{}var h=s.call(o);return u&&(l?o[i]=d:delete o[i]),h}return at=n,at}var lt,Js;function zl(){if(Js)return lt;Js=1;var t=Object.prototype,e=t.toString;function r(s){return e.call(s)}return lt=r,lt}var dt,Xs;function Ae(){if(Xs)return dt;Xs=1;var t=bs(),e=$l(),r=zl(),s="[object Null]",i="[object Undefined]",n=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:s:n&&n in Object(l)?e(l):r(l)}return dt=o,dt}var ut,Zs;function re(){if(Zs)return ut;Zs=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return ut=t,ut}var ct,Qs;function Cs(){if(Qs)return ct;Qs=1;var t=Ae(),e=re(),r="[object AsyncFunction]",s="[object Function]",i="[object GeneratorFunction]",n="[object Proxy]";function o(l){if(!e(l))return!1;var d=t(l);return d==s||d==i||d==r||d==n}return ct=o,ct}var ht,ei;function Hl(){if(ei)return ht;ei=1;var t=U(),e=t["__core-js_shared__"];return ht=e,ht}var ft,ti;function Wl(){if(ti)return ft;ti=1;var t=Hl(),e=function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function r(s){return!!e&&e in s}return ft=r,ft}var pt,ri;function _o(){if(ri)return pt;ri=1;var t=Function.prototype,e=t.toString;function r(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return pt=r,pt}var gt,si;function Ul(){if(si)return gt;si=1;var t=Cs(),e=Wl(),r=re(),s=_o(),i=/[\\^$.*+?()[\]{}|]/g,n=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,d=o.toString,u=l.hasOwnProperty,h=RegExp("^"+d.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||e(p))return!1;var m=t(p)?h:n;return m.test(s(p))}return gt=f,gt}var vt,ii;function Kl(){if(ii)return vt;ii=1;function t(e,r){return e==null?void 0:e[r]}return vt=t,vt}var mt,ni;function se(){if(ni)return mt;ni=1;var t=Ul(),e=Kl();function r(s,i){var n=e(s,i);return t(n)?n:void 0}return mt=r,mt}var yt,oi;function ws(){if(oi)return yt;oi=1;var t=se(),e=U(),r=t(e,"Map");return yt=r,yt}var bt,ai;function Ne(){if(ai)return bt;ai=1;var t=se(),e=t(Object,"create");return bt=e,bt}var Ct,li;function Jl(){if(li)return Ct;li=1;var t=Ne();function e(){this.__data__=t?t(null):{},this.size=0}return Ct=e,Ct}var wt,di;function Xl(){if(di)return wt;di=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return wt=t,wt}var _t,ui;function Zl(){if(ui)return _t;ui=1;var t=Ne(),e="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;function i(n){var o=this.__data__;if(t){var l=o[n];return l===e?void 0:l}return s.call(o,n)?o[n]:void 0}return _t=i,_t}var St,ci;function Ql(){if(ci)return St;ci=1;var t=Ne(),e=Object.prototype,r=e.hasOwnProperty;function s(i){var n=this.__data__;return t?n[i]!==void 0:r.call(n,i)}return St=s,St}var Mt,hi;function ed(){if(hi)return Mt;hi=1;var t=Ne(),e="__lodash_hash_undefined__";function r(s,i){var n=this.__data__;return this.size+=this.has(s)?0:1,n[s]=t&&i===void 0?e:i,this}return Mt=r,Mt}var xt,fi;function td(){if(fi)return xt;fi=1;var t=Jl(),e=Xl(),r=Zl(),s=Ql(),i=ed();function n(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return n.prototype.clear=t,n.prototype.delete=e,n.prototype.get=r,n.prototype.has=s,n.prototype.set=i,xt=n,xt}var kt,pi;function rd(){if(pi)return kt;pi=1;var t=td(),e=je(),r=ws();function s(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return kt=s,kt}var Tt,gi;function sd(){if(gi)return Tt;gi=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Tt=t,Tt}var At,vi;function Be(){if(vi)return At;vi=1;var t=sd();function e(r,s){var i=r.__data__;return t(s)?i[typeof s=="string"?"string":"hash"]:i.map}return At=e,At}var Ot,mi;function id(){if(mi)return Ot;mi=1;var t=Be();function e(r){var s=t(this,r).delete(r);return this.size-=s?1:0,s}return Ot=e,Ot}var Et,yi;function nd(){if(yi)return Et;yi=1;var t=Be();function e(r){return t(this,r).get(r)}return Et=e,Et}var Dt,bi;function od(){if(bi)return Dt;bi=1;var t=Be();function e(r){return t(this,r).has(r)}return Dt=e,Dt}var Pt,Ci;function ad(){if(Ci)return Pt;Ci=1;var t=Be();function e(r,s){var i=t(this,r),n=i.size;return i.set(r,s),this.size+=i.size==n?0:1,this}return Pt=e,Pt}var Lt,wi;function So(){if(wi)return Lt;wi=1;var t=rd(),e=id(),r=nd(),s=od(),i=ad();function n(o){var l=-1,d=o==null?0:o.length;for(this.clear();++l<d;){var u=o[l];this.set(u[0],u[1])}}return n.prototype.clear=t,n.prototype.delete=e,n.prototype.get=r,n.prototype.has=s,n.prototype.set=i,Lt=n,Lt}var qt,_i;function ld(){if(_i)return qt;_i=1;var t=je(),e=ws(),r=So(),s=200;function i(n,o){var l=this.__data__;if(l instanceof t){var d=l.__data__;if(!e||d.length<s-1)return d.push([n,o]),this.size=++l.size,this;l=this.__data__=new r(d)}return l.set(n,o),this.size=l.size,this}return qt=i,qt}var Rt,Si;function Mo(){if(Si)return Rt;Si=1;var t=je(),e=Bl(),r=Yl(),s=Gl(),i=Vl(),n=ld();function o(l){var d=this.__data__=new t(l);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=s,o.prototype.has=i,o.prototype.set=n,Rt=o,Rt}var It,Mi;function dd(){if(Mi)return It;Mi=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return It=e,It}var Ft,xi;function ud(){if(xi)return Ft;xi=1;function t(e){return this.__data__.has(e)}return Ft=t,Ft}var jt,ki;function cd(){if(ki)return jt;ki=1;var t=So(),e=dd(),r=ud();function s(i){var n=-1,o=i==null?0:i.length;for(this.__data__=new t;++n<o;)this.add(i[n])}return s.prototype.add=s.prototype.push=e,s.prototype.has=r,jt=s,jt}var Nt,Ti;function hd(){if(Ti)return Nt;Ti=1;function t(e,r){for(var s=-1,i=e==null?0:e.length;++s<i;)if(r(e[s],s,e))return!0;return!1}return Nt=t,Nt}var Bt,Ai;function fd(){if(Ai)return Bt;Ai=1;function t(e,r){return e.has(r)}return Bt=t,Bt}var Yt,Oi;function xo(){if(Oi)return Yt;Oi=1;var t=cd(),e=hd(),r=fd(),s=1,i=2;function n(o,l,d,u,h,f){var p=d&s,m=o.length,y=l.length;if(m!=y&&!(p&&y>m))return!1;var c=f.get(o),w=f.get(l);if(c&&w)return c==l&&w==o;var C=-1,_=!0,O=d&i?new t:void 0;for(f.set(o,l),f.set(l,o);++C<m;){var T=o[C],P=l[C];if(u)var k=p?u(P,T,C,l,o,f):u(T,P,C,o,l,f);if(k!==void 0){if(k)continue;_=!1;break}if(O){if(!e(l,function(M,E){if(!r(O,E)&&(T===M||h(T,M,d,u,f)))return O.push(E)})){_=!1;break}}else if(!(T===P||h(T,P,d,u,f))){_=!1;break}}return f.delete(o),f.delete(l),_}return Yt=n,Yt}var Gt,Ei;function ko(){if(Ei)return Gt;Ei=1;var t=U(),e=t.Uint8Array;return Gt=e,Gt}var Vt,Di;function pd(){if(Di)return Vt;Di=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(i,n){s[++r]=[n,i]}),s}return Vt=t,Vt}var $t,Pi;function gd(){if(Pi)return $t;Pi=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(i){s[++r]=i}),s}return $t=t,$t}var zt,Li;function vd(){if(Li)return zt;Li=1;var t=bs(),e=ko(),r=Te(),s=xo(),i=pd(),n=gd(),o=1,l=2,d="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",y="[object Set]",c="[object String]",w="[object Symbol]",C="[object ArrayBuffer]",_="[object DataView]",O=t?t.prototype:void 0,T=O?O.valueOf:void 0;function P(k,M,E,R,L,x,Y){switch(E){case _:if(k.byteLength!=M.byteLength||k.byteOffset!=M.byteOffset)return!1;k=k.buffer,M=M.buffer;case C:return!(k.byteLength!=M.byteLength||!x(new e(k),new e(M)));case d:case u:case p:return r(+k,+M);case h:return k.name==M.name&&k.message==M.message;case m:case c:return k==M+"";case f:var B=i;case y:var ie=R&o;if(B||(B=n),k.size!=M.size&&!ie)return!1;var Oe=Y.get(k);if(Oe)return Oe==M;R|=l,Y.set(k,M);var Xo=s(B(k),B(M),R,L,x,Y);return Y.delete(k),Xo;case w:if(T)return T.call(k)==T.call(M)}return!1}return zt=P,zt}var Ht,qi;function md(){if(qi)return Ht;qi=1;function t(e,r){for(var s=-1,i=r.length,n=e.length;++s<i;)e[n+s]=r[s];return e}return Ht=t,Ht}var Wt,Ri;function Ye(){if(Ri)return Wt;Ri=1;var t=Array.isArray;return Wt=t,Wt}var Ut,Ii;function yd(){if(Ii)return Ut;Ii=1;var t=md(),e=Ye();function r(s,i,n){var o=i(s);return e(s)?o:t(o,n(s))}return Ut=r,Ut}var Kt,Fi;function bd(){if(Fi)return Kt;Fi=1;function t(e,r){for(var s=-1,i=e==null?0:e.length,n=0,o=[];++s<i;){var l=e[s];r(l,s,e)&&(o[n++]=l)}return o}return Kt=t,Kt}var Jt,ji;function Cd(){if(ji)return Jt;ji=1;function t(){return[]}return Jt=t,Jt}var Xt,Ni;function wd(){if(Ni)return Xt;Ni=1;var t=bd(),e=Cd(),r=Object.prototype,s=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,n=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return s.call(o,l)}))}:e;return Xt=n,Xt}var Zt,Bi;function _d(){if(Bi)return Zt;Bi=1;function t(e,r){for(var s=-1,i=Array(e);++s<e;)i[s]=r(s);return i}return Zt=t,Zt}var Qt,Yi;function ve(){if(Yi)return Qt;Yi=1;function t(e){return e!=null&&typeof e=="object"}return Qt=t,Qt}var er,Gi;function Sd(){if(Gi)return er;Gi=1;var t=Ae(),e=ve(),r="[object Arguments]";function s(i){return e(i)&&t(i)==r}return er=s,er}var tr,Vi;function To(){if(Vi)return tr;Vi=1;var t=Sd(),e=ve(),r=Object.prototype,s=r.hasOwnProperty,i=r.propertyIsEnumerable,n=t(function(){return arguments}())?t:function(o){return e(o)&&s.call(o,"callee")&&!i.call(o,"callee")};return tr=n,tr}var me={exports:{}},rr,$i;function Md(){if($i)return rr;$i=1;function t(){return!1}return rr=t,rr}me.exports;var zi;function _s(){return zi||(zi=1,function(t,e){var r=U(),s=Md(),i=e&&!e.nodeType&&e,n=i&&!0&&t&&!t.nodeType&&t,o=n&&n.exports===i,l=o?r.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||s;t.exports=u}(me,me.exports)),me.exports}var sr,Hi;function Ao(){if(Hi)return sr;Hi=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(s,i){var n=typeof s;return i=i??t,!!i&&(n=="number"||n!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<i}return sr=r,sr}var ir,Wi;function Oo(){if(Wi)return ir;Wi=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ir=e,ir}var nr,Ui;function xd(){if(Ui)return nr;Ui=1;var t=Ae(),e=Oo(),r=ve(),s="[object Arguments]",i="[object Array]",n="[object Boolean]",o="[object Date]",l="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",y="[object String]",c="[object WeakMap]",w="[object ArrayBuffer]",C="[object DataView]",_="[object Float32Array]",O="[object Float64Array]",T="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",M="[object Uint8Array]",E="[object Uint8ClampedArray]",R="[object Uint16Array]",L="[object Uint32Array]",x={};x[_]=x[O]=x[T]=x[P]=x[k]=x[M]=x[E]=x[R]=x[L]=!0,x[s]=x[i]=x[w]=x[n]=x[C]=x[o]=x[l]=x[d]=x[u]=x[h]=x[f]=x[p]=x[m]=x[y]=x[c]=!1;function Y(B){return r(B)&&e(B.length)&&!!x[t(B)]}return nr=Y,nr}var or,Ki;function kd(){if(Ki)return or;Ki=1;function t(e){return function(r){return e(r)}}return or=t,or}var ye={exports:{}};ye.exports;var Ji;function Td(){return Ji||(Ji=1,function(t,e){var r=wo(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,n=i&&i.exports===s,o=n&&r.process,l=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(ye,ye.exports)),ye.exports}var ar,Xi;function Ss(){if(Xi)return ar;Xi=1;var t=xd(),e=kd(),r=Td(),s=r&&r.isTypedArray,i=s?e(s):t;return ar=i,ar}var lr,Zi;function Eo(){if(Zi)return lr;Zi=1;var t=_d(),e=To(),r=Ye(),s=_s(),i=Ao(),n=Ss(),o=Object.prototype,l=o.hasOwnProperty;function d(u,h){var f=r(u),p=!f&&e(u),m=!f&&!p&&s(u),y=!f&&!p&&!m&&n(u),c=f||p||m||y,w=c?t(u.length,String):[],C=w.length;for(var _ in u)(h||l.call(u,_))&&!(c&&(_=="length"||m&&(_=="offset"||_=="parent")||y&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,C)))&&w.push(_);return w}return lr=d,lr}var dr,Qi;function Ms(){if(Qi)return dr;Qi=1;var t=Object.prototype;function e(r){var s=r&&r.constructor,i=typeof s=="function"&&s.prototype||t;return r===i}return dr=e,dr}var ur,en;function Do(){if(en)return ur;en=1;function t(e,r){return function(s){return e(r(s))}}return ur=t,ur}var cr,tn;function Ad(){if(tn)return cr;tn=1;var t=Do(),e=t(Object.keys,Object);return cr=e,cr}var hr,rn;function Od(){if(rn)return hr;rn=1;var t=Ms(),e=Ad(),r=Object.prototype,s=r.hasOwnProperty;function i(n){if(!t(n))return e(n);var o=[];for(var l in Object(n))s.call(n,l)&&l!="constructor"&&o.push(l);return o}return hr=i,hr}var fr,sn;function Ge(){if(sn)return fr;sn=1;var t=Cs(),e=Oo();function r(s){return s!=null&&e(s.length)&&!t(s)}return fr=r,fr}var pr,nn;function Ed(){if(nn)return pr;nn=1;var t=Eo(),e=Od(),r=Ge();function s(i){return r(i)?t(i):e(i)}return pr=s,pr}var gr,on;function Dd(){if(on)return gr;on=1;var t=yd(),e=wd(),r=Ed();function s(i){return t(i,r,e)}return gr=s,gr}var vr,an;function Pd(){if(an)return vr;an=1;var t=Dd(),e=1,r=Object.prototype,s=r.hasOwnProperty;function i(n,o,l,d,u,h){var f=l&e,p=t(n),m=p.length,y=t(o),c=y.length;if(m!=c&&!f)return!1;for(var w=m;w--;){var C=p[w];if(!(f?C in o:s.call(o,C)))return!1}var _=h.get(n),O=h.get(o);if(_&&O)return _==o&&O==n;var T=!0;h.set(n,o),h.set(o,n);for(var P=f;++w<m;){C=p[w];var k=n[C],M=o[C];if(d)var E=f?d(M,k,C,o,n,h):d(k,M,C,n,o,h);if(!(E===void 0?k===M||u(k,M,l,d,h):E)){T=!1;break}P||(P=C=="constructor")}if(T&&!P){var R=n.constructor,L=o.constructor;R!=L&&"constructor"in n&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof L=="function"&&L instanceof L)&&(T=!1)}return h.delete(n),h.delete(o),T}return vr=i,vr}var mr,ln;function Ld(){if(ln)return mr;ln=1;var t=se(),e=U(),r=t(e,"DataView");return mr=r,mr}var yr,dn;function qd(){if(dn)return yr;dn=1;var t=se(),e=U(),r=t(e,"Promise");return yr=r,yr}var br,un;function Rd(){if(un)return br;un=1;var t=se(),e=U(),r=t(e,"Set");return br=r,br}var Cr,cn;function Id(){if(cn)return Cr;cn=1;var t=se(),e=U(),r=t(e,"WeakMap");return Cr=r,Cr}var wr,hn;function Fd(){if(hn)return wr;hn=1;var t=Ld(),e=ws(),r=qd(),s=Rd(),i=Id(),n=Ae(),o=_o(),l="[object Map]",d="[object Object]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=o(t),y=o(e),c=o(r),w=o(s),C=o(i),_=n;return(t&&_(new t(new ArrayBuffer(1)))!=p||e&&_(new e)!=l||r&&_(r.resolve())!=u||s&&_(new s)!=h||i&&_(new i)!=f)&&(_=function(O){var T=n(O),P=T==d?O.constructor:void 0,k=P?o(P):"";if(k)switch(k){case m:return p;case y:return l;case c:return u;case w:return h;case C:return f}return T}),wr=_,wr}var _r,fn;function jd(){if(fn)return _r;fn=1;var t=Mo(),e=xo(),r=vd(),s=Pd(),i=Fd(),n=Ye(),o=_s(),l=Ss(),d=1,u="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function y(c,w,C,_,O,T){var P=n(c),k=n(w),M=P?h:i(c),E=k?h:i(w);M=M==u?f:M,E=E==u?f:E;var R=M==f,L=E==f,x=M==E;if(x&&o(c)){if(!o(w))return!1;P=!0,R=!1}if(x&&!R)return T||(T=new t),P||l(c)?e(c,w,C,_,O,T):r(c,w,M,C,_,O,T);if(!(C&d)){var Y=R&&m.call(c,"__wrapped__"),B=L&&m.call(w,"__wrapped__");if(Y||B){var ie=Y?c.value():c,Oe=B?w.value():w;return T||(T=new t),O(ie,Oe,C,_,T)}}return x?(T||(T=new t),s(c,w,C,_,O,T)):!1}return _r=y,_r}var Sr,pn;function Nd(){if(pn)return Sr;pn=1;var t=jd(),e=ve();function r(s,i,n,o,l){return s===i?!0:s==null||i==null||!e(s)&&!e(i)?s!==s&&i!==i:t(s,i,n,o,r,l)}return Sr=r,Sr}var Mr,gn;function Bd(){if(gn)return Mr;gn=1;var t=Nd();function e(r,s){return t(r,s)}return Mr=e,Mr}var Yd=Bd();const Gd=so(Yd);function Vd(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return parseInt(t.substring(s+3,t.indexOf(".",s)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}var Pe;function as(){as.init||(as.init=!0,Pe=Vd()!==-1)}var $d={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;as(),this.$nextTick(function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()});var r=document.createElement("object");this._resizeObject=r,r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex",-1),r.onload=this.addResizeHandlers,r.type="text/html",Pe&&this.$el.appendChild(r),r.data="about:blank",Pe||this.$el.appendChild(r)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!Pe&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};function zd(t,e,r,s,i,n,o,l,d,u){var h=typeof r=="function"?r.options:r;return t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0),h._scopeId=s,r}var Hd=$d,Po=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},Wd=[];Po._withStripped=!0;var Ud=void 0,Kd="data-v-8859cc6c",ls=zd({render:Po,staticRenderFns:Wd},Ud,Hd,Kd);function Jd(t){t.component("resize-observer",ls),t.component("ResizeObserver",ls)}var Xd={version:"1.0.1",install:Jd},Re=null;typeof window<"u"?Re=window.Vue:typeof global<"u"&&(Re=global.Vue);Re&&Re.use(Xd);var xr,vn;function Lo(){if(vn)return xr;vn=1;var t=se(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return xr=e,xr}var kr,mn;function xs(){if(mn)return kr;mn=1;var t=Lo();function e(r,s,i){s=="__proto__"&&t?t(r,s,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[s]=i}return kr=e,kr}var Tr,yn;function qo(){if(yn)return Tr;yn=1;var t=xs(),e=Te();function r(s,i,n){(n!==void 0&&!e(s[i],n)||n===void 0&&!(i in s))&&t(s,i,n)}return Tr=r,Tr}var Ar,bn;function Zd(){if(bn)return Ar;bn=1;function t(e){return function(r,s,i){for(var n=-1,o=Object(r),l=i(r),d=l.length;d--;){var u=l[e?d:++n];if(s(o[u],u,o)===!1)break}return r}}return Ar=t,Ar}var Or,Cn;function Qd(){if(Cn)return Or;Cn=1;var t=Zd(),e=t();return Or=e,Or}var be={exports:{}};be.exports;var wn;function eu(){return wn||(wn=1,function(t,e){var r=U(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,n=i&&i.exports===s,o=n?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function d(u,h){if(h)return u.slice();var f=u.length,p=l?l(f):new u.constructor(f);return u.copy(p),p}t.exports=d}(be,be.exports)),be.exports}var Er,_n;function tu(){if(_n)return Er;_n=1;var t=ko();function e(r){var s=new r.constructor(r.byteLength);return new t(s).set(new t(r)),s}return Er=e,Er}var Dr,Sn;function ru(){if(Sn)return Dr;Sn=1;var t=tu();function e(r,s){var i=s?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return Dr=e,Dr}var Pr,Mn;function su(){if(Mn)return Pr;Mn=1;function t(e,r){var s=-1,i=e.length;for(r||(r=Array(i));++s<i;)r[s]=e[s];return r}return Pr=t,Pr}var Lr,xn;function iu(){if(xn)return Lr;xn=1;var t=re(),e=Object.create,r=function(){function s(){}return function(i){if(!t(i))return{};if(e)return e(i);s.prototype=i;var n=new s;return s.prototype=void 0,n}}();return Lr=r,Lr}var qr,kn;function Ro(){if(kn)return qr;kn=1;var t=Do(),e=t(Object.getPrototypeOf,Object);return qr=e,qr}var Rr,Tn;function nu(){if(Tn)return Rr;Tn=1;var t=iu(),e=Ro(),r=Ms();function s(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return Rr=s,Rr}var Ir,An;function ou(){if(An)return Ir;An=1;var t=Ge(),e=ve();function r(s){return e(s)&&t(s)}return Ir=r,Ir}var Fr,On;function au(){if(On)return Fr;On=1;var t=Ae(),e=Ro(),r=ve(),s="[object Object]",i=Function.prototype,n=Object.prototype,o=i.toString,l=n.hasOwnProperty,d=o.call(Object);function u(h){if(!r(h)||t(h)!=s)return!1;var f=e(h);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==d}return Fr=u,Fr}var jr,En;function Io(){if(En)return jr;En=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return jr=t,jr}var Nr,Dn;function lu(){if(Dn)return Nr;Dn=1;var t=xs(),e=Te(),r=Object.prototype,s=r.hasOwnProperty;function i(n,o,l){var d=n[o];(!(s.call(n,o)&&e(d,l))||l===void 0&&!(o in n))&&t(n,o,l)}return Nr=i,Nr}var Br,Pn;function du(){if(Pn)return Br;Pn=1;var t=lu(),e=xs();function r(s,i,n,o){var l=!n;n||(n={});for(var d=-1,u=i.length;++d<u;){var h=i[d],f=o?o(n[h],s[h],h,n,s):void 0;f===void 0&&(f=s[h]),l?e(n,h,f):t(n,h,f)}return n}return Br=r,Br}var Yr,Ln;function uu(){if(Ln)return Yr;Ln=1;function t(e){var r=[];if(e!=null)for(var s in Object(e))r.push(s);return r}return Yr=t,Yr}var Gr,qn;function cu(){if(qn)return Gr;qn=1;var t=re(),e=Ms(),r=uu(),s=Object.prototype,i=s.hasOwnProperty;function n(o){if(!t(o))return r(o);var l=e(o),d=[];for(var u in o)u=="constructor"&&(l||!i.call(o,u))||d.push(u);return d}return Gr=n,Gr}var Vr,Rn;function Fo(){if(Rn)return Vr;Rn=1;var t=Eo(),e=cu(),r=Ge();function s(i){return r(i)?t(i,!0):e(i)}return Vr=s,Vr}var $r,In;function hu(){if(In)return $r;In=1;var t=du(),e=Fo();function r(s){return t(s,e(s))}return $r=r,$r}var zr,Fn;function fu(){if(Fn)return zr;Fn=1;var t=qo(),e=eu(),r=ru(),s=su(),i=nu(),n=To(),o=Ye(),l=ou(),d=_s(),u=Cs(),h=re(),f=au(),p=Ss(),m=Io(),y=hu();function c(w,C,_,O,T,P,k){var M=m(w,_),E=m(C,_),R=k.get(E);if(R){t(w,_,R);return}var L=P?P(M,E,_+"",w,C,k):void 0,x=L===void 0;if(x){var Y=o(E),B=!Y&&d(E),ie=!Y&&!B&&p(E);L=E,Y||B||ie?o(M)?L=M:l(M)?L=s(M):B?(x=!1,L=e(E,!0)):ie?(x=!1,L=r(E,!0)):L=[]:f(E)||n(E)?(L=M,n(M)?L=y(M):(!h(M)||u(M))&&(L=i(E))):x=!1}x&&(k.set(E,L),T(L,E,O,P,k),k.delete(E)),t(w,_,L)}return zr=c,zr}var Hr,jn;function pu(){if(jn)return Hr;jn=1;var t=Mo(),e=qo(),r=Qd(),s=fu(),i=re(),n=Fo(),o=Io();function l(d,u,h,f,p){d!==u&&r(u,function(m,y){if(p||(p=new t),i(m))s(d,u,y,h,l,f,p);else{var c=f?f(o(d,y),m,y+"",d,u,p):void 0;c===void 0&&(c=m),e(d,y,c)}},n)}return Hr=l,Hr}var Wr,Nn;function jo(){if(Nn)return Wr;Nn=1;function t(e){return e}return Wr=t,Wr}var Ur,Bn;function gu(){if(Bn)return Ur;Bn=1;function t(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}return Ur=t,Ur}var Kr,Yn;function vu(){if(Yn)return Kr;Yn=1;var t=gu(),e=Math.max;function r(s,i,n){return i=e(i===void 0?s.length-1:i,0),function(){for(var o=arguments,l=-1,d=e(o.length-i,0),u=Array(d);++l<d;)u[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=n(u),t(s,this,h)}}return Kr=r,Kr}var Jr,Gn;function mu(){if(Gn)return Jr;Gn=1;function t(e){return function(){return e}}return Jr=t,Jr}var Xr,Vn;function yu(){if(Vn)return Xr;Vn=1;var t=mu(),e=Lo(),r=jo(),s=e?function(i,n){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(n),writable:!0})}:r;return Xr=s,Xr}var Zr,$n;function bu(){if($n)return Zr;$n=1;var t=800,e=16,r=Date.now;function s(i){var n=0,o=0;return function(){var l=r(),d=e-(l-o);if(o=l,d>0){if(++n>=t)return arguments[0]}else n=0;return i.apply(void 0,arguments)}}return Zr=s,Zr}var Qr,zn;function Cu(){if(zn)return Qr;zn=1;var t=yu(),e=bu(),r=e(t);return Qr=r,Qr}var es,Hn;function wu(){if(Hn)return es;Hn=1;var t=jo(),e=vu(),r=Cu();function s(i,n){return r(e(i,n,t),i+"")}return es=s,es}var ts,Wn;function _u(){if(Wn)return ts;Wn=1;var t=Te(),e=Ge(),r=Ao(),s=re();function i(n,o,l){if(!s(l))return!1;var d=typeof o;return(d=="number"?e(l)&&r(o,l.length):d=="string"&&o in l)?t(l[o],n):!1}return ts=i,ts}var rs,Un;function Su(){if(Un)return rs;Un=1;var t=wu(),e=_u();function r(s){return t(function(i,n){var o=-1,l=n.length,d=l>1?n[l-1]:void 0,u=l>2?n[2]:void 0;for(d=s.length>3&&typeof d=="function"?(l--,d):void 0,u&&e(n[0],n[1],u)&&(d=l<3?void 0:d,l=1),i=Object(i);++o<l;){var h=n[o];h&&s(i,h,o,d)}return i})}return rs=r,rs}var ss,Kn;function Mu(){if(Kn)return ss;Kn=1;var t=pu(),e=Su(),r=e(function(s,i,n){t(s,i,n)});return ss=r,ss}var xu=Mu();const ku=so(xu);var ks=function(){};typeof window<"u"&&(ks=window.SVGAnimatedString);function le(t){return typeof t=="string"&&(t=t.split(" ")),t}function Ce(t,e){var r=le(e),s;t.className instanceof ks?s=le(t.className.baseVal):s=le(t.className),r.forEach(function(i){s.indexOf(i)===-1&&s.push(i)}),t instanceof SVGElement?t.setAttribute("class",s.join(" ")):t.className=s.join(" ")}function ds(t,e){var r=le(e),s;t.className instanceof ks?s=le(t.className.baseVal):s=le(t.className),r.forEach(function(i){var n=s.indexOf(i);n!==-1&&s.splice(n,1)}),t instanceof SVGElement?t.setAttribute("class",s.join(" ")):t.className=s.join(" ")}var _e=!1;if(typeof window<"u"){_e=!1;try{var Tu=Object.defineProperty({},"passive",{get:function(){_e=!0}});window.addEventListener("test",null,Tu)}catch{}}function Jn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jn(Object(r),!0).forEach(function(s){ue(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var Au={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},we=[],Ou=function(){function t(e,r){var s=this;Ka(this,t),ue(this,"_events",[]),ue(this,"_setTooltipNodeEvent",function(i,n,o,l){var d=i.relatedreference||i.toElement||i.relatedTarget,u=function h(f){var p=f.relatedreference||f.toElement||f.relatedTarget;s._tooltipNode.removeEventListener(i.type,h),n.contains(p)||s._scheduleHide(n,l.delay,l,f)};return s._tooltipNode.contains(d)?(s._tooltipNode.addEventListener(i.type,u),!0):!1}),r=oe(oe({},Au),r),e.jquery&&(e=e[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=e,this.options=r,this._isOpen=!1,this._init()}return Xa(t,[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(r){this._classes=r}},{key:"setContent",value:function(r){this.options.title=r,this._tooltipNode&&this._setContent(r,this.options)}},{key:"setOptions",value:function(r){var s=!1,i=r&&r.classes||A.options.defaultClass;Gd(this._classes,i)||(this.setClasses(i),s=!0),r=Bo(r);var n=!1,o=!1;(this.options.offset!==r.offset||this.options.placement!==r.placement)&&(n=!0),(this.options.template!==r.template||this.options.trigger!==r.trigger||this.options.container!==r.container||s)&&(o=!0);for(var l in r)this.options[l]=r[l];if(this._tooltipNode)if(o){var d=this._isOpen;this.dispose(),this._init(),d&&this.show()}else n&&this.popperInstance.update()}},{key:"_init",value:function(){var r=typeof this.options.trigger=="string"?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=r.indexOf("manual")===-1,r=r.filter(function(s){return["click","hover","focus"].indexOf(s)!==-1}),this._setEventListeners(this.reference,r,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(r,s){var i=this,n=window.document.createElement("div");n.innerHTML=s.trim();var o=n.childNodes[0];return o.id=this.options.ariaId||"tooltip_".concat(Math.random().toString(36).substr(2,10)),o.setAttribute("aria-hidden","true"),this.options.autoHide&&this.options.trigger.indexOf("hover")!==-1&&(o.addEventListener("mouseenter",function(l){return i._scheduleHide(r,i.options.delay,i.options,l)}),o.addEventListener("click",function(l){return i._scheduleHide(r,i.options.delay,i.options,l)})),o}},{key:"_setContent",value:function(r,s){var i=this;this.asyncContent=!1,this._applyContent(r,s).then(function(){i.popperInstance&&i.popperInstance.update()})}},{key:"_applyContent",value:function(r,s){var i=this;return new Promise(function(n,o){var l=s.html,d=i._tooltipNode;if(d){var u=d.querySelector(i.options.innerSelector);if(r.nodeType===1){if(l){for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(r)}}else if(typeof r=="function"){var h=r();h&&typeof h.then=="function"?(i.asyncContent=!0,s.loadingClass&&Ce(d,s.loadingClass),s.loadingContent&&i._applyContent(s.loadingContent,s),h.then(function(f){return s.loadingClass&&ds(d,s.loadingClass),i._applyContent(f,s)}).then(n).catch(o)):i._applyContent(h,s).then(n).catch(o);return}else l?u.innerHTML=r:u.innerText=r;n()}})}},{key:"_show",value:function(r,s){if(s&&typeof s.container=="string"){var i=document.querySelector(s.container);if(!i)return}clearTimeout(this._disposeTimer),s=Object.assign({},s),delete s.offset;var n=!0;this._tooltipNode&&(Ce(this._tooltipNode,this._classes),n=!1);var o=this._ensureShown(r,s);return n&&this._tooltipNode&&Ce(this._tooltipNode,this._classes),Ce(r,["v-tooltip-open"]),o}},{key:"_ensureShown",value:function(r,s){var i=this;if(this._isOpen)return this;if(this._isOpen=!0,we.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(s.title,s),this;var n=r.getAttribute("title")||s.title;if(!n)return this;var o=this._create(r,s.template);this._tooltipNode=o,r.setAttribute("aria-describedby",o.id);var l=this._findContainer(s.container,r);this._append(o,l);var d=oe(oe({},s.popperOptions),{},{placement:s.placement});return d.modifiers=oe(oe({},d.modifiers),{},{arrow:{element:this.options.arrowSelector}}),s.boundariesElement&&(d.modifiers.preventOverflow={boundariesElement:s.boundariesElement}),this.popperInstance=new ke(r,o,d),this._setContent(n,s),requestAnimationFrame(function(){!i._isDisposed&&i.popperInstance?(i.popperInstance.update(),requestAnimationFrame(function(){i._isDisposed?i.dispose():i._isOpen&&o.setAttribute("aria-hidden","false")})):i.dispose()}),this}},{key:"_noLongerOpen",value:function(){var r=we.indexOf(this);r!==-1&&we.splice(r,1)}},{key:"_hide",value:function(){var r=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var s=A.options.disposeTimeout;return s!==null&&(this._disposeTimer=setTimeout(function(){r._tooltipNode&&(r._tooltipNode.removeEventListener("mouseenter",r.hide),r._tooltipNode.removeEventListener("click",r.hide),r._removeTooltipNode())},s)),ds(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var r=this._tooltipNode.parentNode;r&&(r.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var r=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach(function(s){var i=s.func,n=s.event;r.reference.removeEventListener(n,i)}),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(r,s){return typeof r=="string"?r=window.document.querySelector(r):r===!1&&(r=s.parentNode),r}},{key:"_append",value:function(r,s){s.appendChild(r)}},{key:"_setEventListeners",value:function(r,s,i){var n=this,o=[],l=[];s.forEach(function(d){switch(d){case"hover":o.push("mouseenter"),l.push("mouseleave"),n.options.hideOnTargetClick&&l.push("click");break;case"focus":o.push("focus"),l.push("blur"),n.options.hideOnTargetClick&&l.push("click");break;case"click":o.push("click"),l.push("click");break}}),o.forEach(function(d){var u=function(f){n._isOpen!==!0&&(f.usedByTooltip=!0,n._scheduleShow(r,i.delay,i,f))};n._events.push({event:d,func:u}),r.addEventListener(d,u)}),l.forEach(function(d){var u=function(f){f.usedByTooltip!==!0&&n._scheduleHide(r,i.delay,i,f)};n._events.push({event:d,func:u}),r.addEventListener(d,u)})}},{key:"_onDocumentTouch",value:function(r){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,r)}},{key:"_scheduleShow",value:function(r,s,i){var n=this,o=s&&s.show||s||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout(function(){return n._show(r,i)},o)}},{key:"_scheduleHide",value:function(r,s,i,n){var o=this,l=s&&s.hide||s||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout(function(){if(o._isOpen!==!1&&o._tooltipNode.ownerDocument.body.contains(o._tooltipNode)){if(n.type==="mouseleave"){var d=o._setTooltipNodeEvent(n,r,s,i);if(d)return}o._hide(r,i)}},l)}}]),t}();typeof document<"u"&&document.addEventListener("touchstart",function(t){for(var e=0;e<we.length;e++)we[e]._onDocumentTouch(t)},_e?{passive:!0,capture:!0}:!0);function Xn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xn(Object(r),!0).forEach(function(s){ue(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var us={enabled:!0},Zn=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],No={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function Bo(t){var e={placement:typeof t.placement<"u"?t.placement:A.options.defaultPlacement,delay:typeof t.delay<"u"?t.delay:A.options.defaultDelay,html:typeof t.html<"u"?t.html:A.options.defaultHtml,template:typeof t.template<"u"?t.template:A.options.defaultTemplate,arrowSelector:typeof t.arrowSelector<"u"?t.arrowSelector:A.options.defaultArrowSelector,innerSelector:typeof t.innerSelector<"u"?t.innerSelector:A.options.defaultInnerSelector,trigger:typeof t.trigger<"u"?t.trigger:A.options.defaultTrigger,offset:typeof t.offset<"u"?t.offset:A.options.defaultOffset,container:typeof t.container<"u"?t.container:A.options.defaultContainer,boundariesElement:typeof t.boundariesElement<"u"?t.boundariesElement:A.options.defaultBoundariesElement,autoHide:typeof t.autoHide<"u"?t.autoHide:A.options.autoHide,hideOnTargetClick:typeof t.hideOnTargetClick<"u"?t.hideOnTargetClick:A.options.defaultHideOnTargetClick,loadingClass:typeof t.loadingClass<"u"?t.loadingClass:A.options.defaultLoadingClass,loadingContent:typeof t.loadingContent<"u"?t.loadingContent:A.options.defaultLoadingContent,popperOptions:de({},typeof t.popperOptions<"u"?t.popperOptions:A.options.defaultPopperOptions)};if(e.offset){var r=K(e.offset),s=e.offset;(r==="number"||r==="string"&&s.indexOf(",")===-1)&&(s="0, ".concat(s)),e.popperOptions.modifiers||(e.popperOptions.modifiers={}),e.popperOptions.modifiers.offset={offset:s}}return e.trigger&&e.trigger.indexOf("click")!==-1&&(e.hideOnTargetClick=!1),e}function Yo(t,e){for(var r=t.placement,s=0;s<Zn.length;s++){var i=Zn[s];e[i]&&(r=i)}return r}function Go(t){var e=K(t);return e==="string"?t:t&&e==="object"?t.content:!1}function Eu(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Go(e),i=typeof e.classes<"u"?e.classes:A.options.defaultClass,n=de({title:s},Bo(de(de({},K(e)==="object"?e:{}),{},{placement:Yo(e,r)}))),o=t._tooltip=new Ou(t,n);o.setClasses(i),o._vueEl=t;var l=typeof e.targetClasses<"u"?e.targetClasses:A.options.defaultTargetClass;return t._tooltipTargetClasses=l,Ce(t,l),o}function Vo(t){t._tooltip&&(t._tooltip.dispose(),delete t._tooltip,delete t._tooltipOldShow),t._tooltipTargetClasses&&(ds(t,t._tooltipTargetClasses),delete t._tooltipTargetClasses)}function Qn(t,e){var r=e.value;e.oldValue;var s=e.modifiers,i=Go(r);if(!i||!us.enabled)Vo(t);else{var n;t._tooltip?(n=t._tooltip,n.setContent(i),n.setOptions(de(de({},r),{},{placement:Yo(r,s)}))):n=Eu(t,r,s),typeof r.show<"u"&&r.show!==t._tooltipOldShow&&(t._tooltipOldShow=r.show,r.show?n.show():n.hide())}}var A={options:No,bind:Qn,update:Qn,unbind:function(e){Vo(e)}};function eo(t){t.addEventListener("click",$o),t.addEventListener("touchstart",zo,_e?{passive:!0}:!1)}function to(t){t.removeEventListener("click",$o),t.removeEventListener("touchstart",zo),t.removeEventListener("touchend",Ho),t.removeEventListener("touchcancel",Wo)}function $o(t){var e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function zo(t){if(t.changedTouches.length===1){var e=t.currentTarget;e.$_vclosepopover_touch=!0;var r=t.changedTouches[0];e.$_vclosepopover_touchPoint=r,e.addEventListener("touchend",Ho),e.addEventListener("touchcancel",Wo)}}function Ho(t){var e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){var r=t.changedTouches[0],s=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(r.screenY-s.screenY)<20&&Math.abs(r.screenX-s.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function Wo(t){var e=t.currentTarget;e.$_vclosepopover_touch=!1}var Du={bind:function(e,r){var s=r.value,i=r.modifiers;e.$_closePopoverModifiers=i,(typeof s>"u"||s)&&eo(e)},update:function(e,r){var s=r.value,i=r.oldValue,n=r.modifiers;e.$_closePopoverModifiers=n,s!==i&&(typeof s>"u"||s?eo(e):to(e))},unbind:function(e){to(e)}};function ro(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ro(Object(r),!0).forEach(function(s){ue(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function X(t){var e=A.options.popover[t];return typeof e>"u"?A.options[t]:e}var Uo=!1;typeof window<"u"&&typeof navigator<"u"&&(Uo=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var Q=[],cs=function(){};typeof window<"u"&&(cs=window.Element);var Pu={name:"VPopover",components:{ResizeObserver:ls},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return X("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return X("defaultDelay")}},offset:{type:[String,Number],default:function(){return X("defaultOffset")}},trigger:{type:String,default:function(){return X("defaultTrigger")}},container:{type:[String,Object,cs,Boolean],default:function(){return X("defaultContainer")}},boundariesElement:{type:[String,cs],default:function(){return X("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return X("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return X("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return A.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return A.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return A.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return A.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return A.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return A.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return A.options.popover.defaultOpenClass}},ariaId:{default:null}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return ue({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.ariaId!=null?this.ariaId:this.id)}},watch:{open:function(e){e?this.show():this.hide()},disabled:function(e,r){e!==r&&(e?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var r=this.$refs.popover,s=this.$refs.trigger,i=this.$_findContainer(this.container,s);if(!i){console.warn("No container for popover",this);return}i.appendChild(r),this.popperInstance.scheduleUpdate()}},trigger:function(e){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(e){var r=this;this.$_updatePopper(function(){r.popperInstance.options.placement=e})},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.event;r.skipDelay;var i=r.force,n=i===void 0?!1:i;(n||!this.disabled)&&(this.$_scheduleShow(s),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame(function(){e.$_beingShowed=!1})},hide:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.event;e.skipDelay,this.$_scheduleHide(r),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){this.trigger.indexOf("manual")===-1&&this.$_addEventListeners()},$_show:function(){var e=this,r=this.$refs.trigger,s=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var i=this.$_findContainer(this.container,r);if(!i){console.warn("No container for popover",this);return}i.appendChild(s),this.$_mounted=!0,this.isOpen=!1,this.popperInstance&&requestAnimationFrame(function(){e.hidden||(e.isOpen=!0)})}if(!this.popperInstance){var n=W(W({},this.popperOptions),{},{placement:this.placement});if(n.modifiers=W(W({},n.modifiers),{},{arrow:W(W({},n.modifiers&&n.modifiers.arrow),{},{element:this.$refs.arrow})}),this.offset){var o=this.$_getOffset();n.modifiers.offset=W(W({},n.modifiers&&n.modifiers.offset),{},{offset:o})}this.boundariesElement&&(n.modifiers.preventOverflow=W(W({},n.modifiers&&n.modifiers.preventOverflow),{},{boundariesElement:this.boundariesElement})),this.popperInstance=new ke(r,s,n),requestAnimationFrame(function(){if(e.hidden){e.hidden=!1,e.$_hide();return}!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame(function(){if(e.hidden){e.hidden=!1,e.$_hide();return}e.$_isDisposed?e.dispose():e.isOpen=!0})):e.dispose()})}var l=this.openGroup;if(l)for(var d,u=0;u<Q.length;u++)d=Q[u],d.openGroup!==l&&(d.hide(),d.$emit("close-group"));Q.push(this),this.$emit("apply-show")}},$_hide:function(){var e=this;if(this.isOpen){var r=Q.indexOf(this);r!==-1&&Q.splice(r,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var s=A.options.popover.disposeTimeout||A.options.disposeTimeout;s!==null&&(this.$_disposeTimer=setTimeout(function(){var i=e.$refs.popover;i&&(i.parentNode&&i.parentNode.removeChild(i),e.$_mounted=!1)},s)),this.$emit("apply-hide")}},$_findContainer:function(e,r){return typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=r.parentNode),e},$_getOffset:function(){var e=K(this.offset),r=this.offset;return(e==="number"||e==="string"&&r.indexOf(",")===-1)&&(r="0, ".concat(r)),r},$_addEventListeners:function(){var e=this,r=this.$refs.trigger,s=[],i=[],n=typeof this.trigger=="string"?this.trigger.split(" ").filter(function(o){return["click","hover","focus"].indexOf(o)!==-1}):[];n.forEach(function(o){switch(o){case"hover":s.push("mouseenter"),i.push("mouseleave");break;case"focus":s.push("focus"),i.push("blur");break;case"click":s.push("click"),i.push("click");break}}),s.forEach(function(o){var l=function(u){e.isOpen||(u.usedByTooltip=!0,!e.$_preventOpen&&e.show({event:u}),e.hidden=!1)};e.$_events.push({event:o,func:l}),r.addEventListener(o,l)}),i.forEach(function(o){var l=function(u){u.usedByTooltip||(e.hide({event:u}),e.hidden=!0)};e.$_events.push({event:o,func:l}),r.addEventListener(o,l)})},$_scheduleShow:function(){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(clearTimeout(this.$_scheduleTimer),e)this.$_show();else{var r=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),r)}},$_scheduleHide:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(clearTimeout(this.$_scheduleTimer),s)this.$_hide();else{var i=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout(function(){if(e.isOpen){if(r&&r.type==="mouseleave"){var n=e.$_setTooltipNodeEvent(r);if(n)return}e.$_hide()}},i)}},$_setTooltipNodeEvent:function(e){var r=this,s=this.$refs.trigger,i=this.$refs.popover,n=e.relatedreference||e.toElement||e.relatedTarget,o=function l(d){var u=d.relatedreference||d.toElement||d.relatedTarget;i.removeEventListener(e.type,l),s.contains(u)||r.hide({event:d})};return i.contains(n)?(i.addEventListener(e.type,o),!0):!1},$_removeEventListeners:function(){var e=this.$refs.trigger;this.$_events.forEach(function(r){var s=r.func,i=r.event;e.removeEventListener(i,s)}),this.$_events=[]},$_updatePopper:function(e){this.popperInstance&&(e(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var e=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),e&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(e){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.$_beingShowed||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),s&&(this.$_preventOpen=!0,setTimeout(function(){r.$_preventOpen=!1},300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};typeof document<"u"&&typeof window<"u"&&(Uo?document.addEventListener("touchend",qu,_e?{passive:!0,capture:!0}:!0):window.addEventListener("click",Lu,!0));function Lu(t){Ko(t)}function qu(t){Ko(t,!0)}function Ko(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=function(n){var o=Q[n];if(o.$refs.popover){var l=o.$refs.popover.contains(t.target);requestAnimationFrame(function(){(t.closeAllPopover||t.closePopover&&l||o.autoHide&&!l)&&o.$_handleGlobalClose(t,e)})}},s=0;s<Q.length;s++)r(s)}function Ru(t,e,r,s,i,n,o,l,d,u){const h=typeof r=="function"?r.options:r;return t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0),r}var Iu=Pu,Jo=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"v-popover",class:e.cssClass},[s("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":e.isOpen?e.popoverId:void 0,tabindex:e.trigger.indexOf("focus")!==-1?0:void 0}},[e._t("default")],2),e._v(" "),s("div",{ref:"popover",class:[e.popoverBaseClass,e.popoverClass,e.cssClass],style:{visibility:e.isOpen?"visible":"hidden"},attrs:{id:e.popoverId,"aria-hidden":e.isOpen?"false":"true",tabindex:e.autoHide?0:void 0},on:{keyup:function(n){if(!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"]))return null;e.autoHide&&e.hide()}}},[s("div",{class:e.popoverWrapperClass},[s("div",{ref:"inner",class:e.popoverInnerClass,staticStyle:{position:"relative"}},[s("div",[e._t("popover",null,{isOpen:e.isOpen})],2),e._v(" "),e.handleResize?s("ResizeObserver",{on:{notify:e.$_handleResize}}):e._e()],1),e._v(" "),s("div",{ref:"arrow",class:e.popoverArrowClass})])])])},Fu=[];Jo._withStripped=!0;var ju=void 0,Nu=Ru({render:Jo,staticRenderFns:Fu},ju,Iu);function Bu(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Yu=".resize-observer[data-v-8859cc6c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-8859cc6c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}";Bu(Yu);function hs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!hs.installed){hs.installed=!0;var r={};ku(r,No,e),Ts.options=r,A.options=r,t.directive("tooltip",A),t.directive("close-popover",Du),t.component("VPopover",Nu)}}var Ts={install:hs,get enabled(){return us.enabled},set enabled(t){us.enabled=t}},Ie=null;typeof window<"u"?Ie=window.Vue:typeof global<"u"&&(Ie=global.Vue);Ie&&Ie.use(Ts);const Gu={name:"Dashboard",components:{DashboardNavBar:sa,CalendarSidebar:ia,GradeDistributionChart:ca,CssYearComparisonChart:Oa,PerformanceChart:Ra,StrengthsRadarChart:Ya,ModuleComparisonChart:Wa,ModuleAnalyticsComponent:na},directives:{tooltip:Ts.VTooltip},data(){return{darkMode:!1,notLoggedIn:!1,sidebarVisible:!0,isMobile:!1,activeView:"overview",selectedTimeframe:"all",selectedYear:"all",sortMethod:"name",loading:!1,moduleSuggestions:[],showSuggestions:!1,isLoadingSuggestions:!1,suggestionTimeout:null,selectedSuggestionIndex:-1,activeModuleTab:"details",userProfile:{firstName:"",email:"",avatar:""},showSetupWizard:!1,showNextConfig:!1,showYearWeights:!1,userConfig:{academicLevel:"",enrollmentType:"",studyPreference:""},calculatorConfig:{years:[]},nextConfig:{currentYear:1,customCurrentYear:0,numYears:0,semesters:0,credits:0,customYears:0,customSemesters:0,customCredits:0},yearWeights:[],targetGrade:70,customTargetGrade:0,moduleData:[],showModuleDetail:!1,selectedModule:null,showModuleForm:!1,editingModule:!1,moduleForm:{name:"",code:"",credits:15,year:"",semester:1,score:0,isCurrentlyEnrolled:!1,assessments:[]},dashboardStats:{},dashboardConfig:{},recentActivities:[],goals:[],yearData:[],performanceData:[],strengthsData:[],scoreDistribution:[],personalizedTips:[],settings:{appearance:{accentColor:"purple",fontSize:"medium",highContrast:!1,enableAnimations:!0},academic:{academicLevel:"Undergraduate",enrollmentType:"Full time",studyPreferences:["Mornings"],currentYear:1,totalYears:3,semestersPerYear:2,creditsPerYear:120,targetGrade:70,gradingScale:[{letter:"A",minPercentage:70,gpaValue:4},{letter:"B",minPercentage:60,gpaValue:3},{letter:"C",minPercentage:50,gpaValue:2},{letter:"D",minPercentage:40,gpaValue:1},{letter:"F",minPercentage:0,gpaValue:0}],yearWeights:[]},accessibility:{colorBlindMode:"none",screenReaderOptimized:!1,reduceMotion:!1,motionIntensity:75,keyboardShortcuts:!0,focusMode:!1,textToSpeech:!1},calendar:{firstDayOfWeek:"sunday",defaultEventDuration:60,defaultEventType:"general",timeFormat:"12h",dateFormat:"MM/DD/YYYY",showWeekNumbers:!1,showCompleted:!0,highlightToday:!0,defaultView:"month"}}}},computed:{completedModuleData(){return this.moduleData.filter(t=>!t.isCurrentlyEnrolled)},filteredCompletedModules(){return this.selectedTimeframe==="all"?this.completedModuleData:this.completedModuleData.filter(t=>t.year===`Year ${this.selectedTimeframe}`)},currentModuleData(){return this.moduleData.filter(t=>t.isCurrentlyEnrolled)},totalWeight(){return this.yearWeights.length?this.yearWeights.reduce((t,e)=>t+(e.active?e.weight:0),0):0},hasActiveYears(){return this.yearWeights.some(t=>t.active)},totalAssessmentWeight(){return this.moduleForm.assessments.reduce((t,e)=>t+(e.weight||0),0)},isModuleFormValid(){return this.moduleForm.name&&this.moduleForm.credits>0&&this.moduleForm.year&&this.moduleForm.assessments.length>0&&this.totalAssessmentWeight===100},overallAverage(){const t=this.filteredCompletedModules;if(!t||t.length===0)return 0;const e=t.reduce((s,i)=>s+i.credits,0),r=t.reduce((s,i)=>s+i.score*i.credits,0);return e>0?Math.round(r/e*10)/10:0},yearlyAverage(){return this.overallAverage},completedCredits(){return this.filteredCompletedModules.reduce((t,e)=>t+e.credits,0)},totalCredits(){var t;return((t=this.dashboardStats)==null?void 0:t.totalCredits)||this.moduleData.reduce((e,r)=>e+r.credits,0)},yearTotalCredits(){var e,r;if(this.selectedTimeframe==="all")return((e=this.dashboardStats)==null?void 0:e.totalCredits)||this.moduleData.reduce((s,i)=>s+i.credits,0);const t=(r=this.calculatorConfig.years)==null?void 0:r.find(s=>s.year===`Year ${this.selectedTimeframe}`);return(t==null?void 0:t.credits)||120},topModule(){const t=this.filteredCompletedModules;return!t||t.length===0?{name:"N/A",score:0}:t.reduce((e,r)=>r.score>e.score?r:e,{name:"N/A",score:0})},achievedPercentage(){const t=this.filteredCompletedModules,e=t.reduce((s,i)=>s+i.credits*100,0),r=t.reduce((s,i)=>s+i.score*i.credits,0);return e>0?Math.round(r/e*100):0},lostPercentage(){const t=this.completedCredits,e=this.yearTotalCredits;return e===0?0:Math.round(t/e*100-this.achievedPercentage)},remainingPercentage(){const t=this.completedCredits,e=this.yearTotalCredits;return e===0?100:Math.round(100-t/e*100)},targetGrades(){var p,m,y;const t=this.overallAverage,e=this.completedCredits,r=this.yearTotalCredits,s=r-e;if(s<=0)return{firstClass:t,upperSecond:t,lowerSecond:t};const i=t*e,n=this.settings.academic.gradingScale||[],o=((p=n.find(c=>c.letter==="A"))==null?void 0:p.minPercentage)||70,l=((m=n.find(c=>c.letter==="B"))==null?void 0:m.minPercentage)||60,d=((y=n.find(c=>c.letter==="C"))==null?void 0:y.minPercentage)||50,u=Math.round((o*r-i)/s*10)/10,h=Math.round((l*r-i)/s*10)/10,f=Math.round((d*r-i)/s*10)/10;return{firstClass:Math.max(0,Math.min(100,u)),upperSecond:Math.max(0,Math.min(100,h)),lowerSecond:Math.max(0,Math.min(100,f))}},targetHighGrade(){return this.targetGrades.firstClass},targetMediumGrade(){return this.targetGrades.upperSecond},targetLowGrade(){return this.targetGrades.lowerSecond},averageVsTarget(){const t=this.settings.academic.targetGrade==="custom"?this.settings.academic.customTargetGrade:this.settings.academic.targetGrade||70;return Math.round((this.overallAverage-t)*10)/10},predictionAccuracy(){return 87},consistencyScore(){const t=this.completedModuleData;if(t.length<2)return 100;const e=t.map(o=>o.score),r=e.reduce((o,l)=>o+l,0)/e.length,i=e.map(o=>Math.pow(o-r,2)).reduce((o,l)=>o+l,0)/e.length,n=Math.sqrt(i);return Math.max(0,Math.round(100-n*3.33))},performanceVariance(){const t=this.completedModuleData;if(t.length<2)return 0;const e=t.map(i=>i.score),r=Math.max(...e),s=Math.min(...e);return Math.round((r-s)*10)/10},improvementRate(){const t=this.completedModuleData;if(t.length<2)return 0;const e=[...t].sort((o,l)=>{const d=parseInt(o.year.replace("Year ","")),u=parseInt(l.year.replace("Year ",""));return d-u}),r=e.filter(o=>o.year===e[0].year),s=e.filter(o=>o.year===e[e.length-1].year);if(r.length===0||s.length===0||r[0].year===s[0].year)return 0;const i=r.reduce((o,l)=>o+l.score,0)/r.length,n=s.reduce((o,l)=>o+l.score,0)/s.length;return Math.round((n-i)/i*100*10)/10},bestCaseGrade(){const t=this.completedCredits,e=this.totalCredits;if(e===0)return 0;const r=100-Math.round(t/e*100);return Math.min(100,Math.round(this.overallAverage*(100-r)/100+95*r/100))},expectedGrade(){return Math.min(100,Math.round(this.overallAverage+(this.improvementRate>0?this.improvementRate/10:0)))},minimumGrade(){var i;const t=this.settings.academic.gradingScale||[],e=((i=t.find(n=>n.letter==="D"))==null?void 0:i.minPercentage)||40,r=this.overallAverage;return t.map(n=>n.minPercentage).filter(n=>n<=r).sort((n,o)=>o-n)[0]||e},filteredYears(){var e;if(!this.calculatorConfig||!this.calculatorConfig.years||!this.calculatorConfig.years.length)return console.log("No years configured in calculator config"),[];console.log("Calculator config years:",this.calculatorConfig.years),console.log("Selected year:",this.selectedYear),console.log("Module data count:",((e=this.moduleData)==null?void 0:e.length)||0);let t=[];return this.calculatorConfig.years.forEach(r=>{if(!r.active){console.log(`Skipping inactive year: ${r.year}`);return}if(this.selectedYear!=="all"&&r.year!==this.selectedYear){console.log(`Skipping year ${r.year} - not matching selected year ${this.selectedYear}`);return}const s=this.moduleData.filter(u=>u.year===r.year),i=s.filter(u=>!u.isCurrentlyEnrolled);console.log(`Found ${s.length} modules for ${r.year}, ${i.length} completed`);let n=[...s];switch(this.sortMethod){case"name":n.sort((u,h)=>u.name.localeCompare(h.name));break;case"semester":n.sort((u,h)=>(u.semester||1)-(h.semester||1));break;case"score-asc":n.sort((u,h)=>u.isCurrentlyEnrolled&&!h.isCurrentlyEnrolled?1:!u.isCurrentlyEnrolled&&h.isCurrentlyEnrolled?-1:u.score-h.score);break;case"score-desc":n.sort((u,h)=>u.isCurrentlyEnrolled&&!h.isCurrentlyEnrolled?1:!u.isCurrentlyEnrolled&&h.isCurrentlyEnrolled?-1:h.score-u.score);break;case"credits":n.sort((u,h)=>h.credits-u.credits);break;case"status":n.sort((u,h)=>u.isCurrentlyEnrolled&&!h.isCurrentlyEnrolled?-1:!u.isCurrentlyEnrolled&&h.isCurrentlyEnrolled?1:u.name.localeCompare(h.name));break}const o=r.credits,l=i.reduce((u,h)=>u+h.credits,0),d=i.length?Math.round(i.reduce((u,h)=>u+h.score*h.credits,0)/l*10)/10:0;t.push({year:r.year,average:d,completedCredits:l,totalCredits:o,weight:r.weight,modules:n})}),console.log(`Filtered to ${t.length} visible years`),t.length===0&&this.moduleData.length>0&&(console.log("WARNING: No years are visible even though modules exist!"),console.log("Module years:",[...new Set(this.moduleData.map(r=>r.year))]),console.log("Active years in config:",this.calculatorConfig.years.filter(r=>r.active).map(r=>r.year))),t},yearsCompleted(){var t,e;return((e=(t=this.dashboardStats)==null?void 0:t.yearData)==null?void 0:e.length)||0},semesterOptions(){let t=this.settings.academic.semestersPerYear||2;if(this.calculatorConfig&&this.calculatorConfig.years&&this.calculatorConfig.years.length>0){const r=this.calculatorConfig.years.map(s=>s.semesters||0).filter(s=>s>0);r.length>0&&(t=Math.max(...r))}const e=[];for(let r=1;r<=t;r++)e.push({label:`Semester ${r}`,value:r});return e.push({label:"Full Academic Year",value:0}),e}},watch:{activeView(t){t==="insights"&&this.prepareInsightsData()},selectedTimeframe(t){console.log(`Timeframe changed to: ${t}`),this.prepareChartData()},"nextConfig.numYears":function(t){t!=="other"&&t>0&&this.initializeYearWeights(t)},"nextConfig.customYears":function(t){this.nextConfig.numYears==="other"&&t>0&&this.initializeYearWeights(t)},"moduleForm.isCurrentlyEnrolled":function(t){t&&(this.moduleForm.assessments=this.moduleForm.assessments.map(e=>e.hasOwnProperty("completed")?e:{...e,completed:!1}))},"settings.appearance.fontSize":function(t){this.applyFontSize(t)},"settings.appearance.highContrast":function(t){this.applyHighContrast(t)},"settings.accessibility.reduceMotion":function(t){this.applyReduceMotion(t)},"settings.accessibility.focusMode":function(t){this.applyFocusMode(t)}},async mounted(){this.yearData||(this.yearData=[]),setTimeout(()=>{(!this.yearData||this.yearData.length===0)&&(console.log("Initializing with sample year data"),this.yearData=this.generateYearDataFromModules(),this.yearData.length===0&&(this.yearData=[{name:"Year 1",average:65,credits:120,modules:8,highest:85,lowest:52},{name:"Year 2",average:68,credits:120,modules:6,highest:88,lowest:56},{name:"Year 3",average:72,credits:120,modules:4,highest:92,lowest:60}]))},1e3),this.darkMode=ta(),this.checkMobile(),window.addEventListener("resize",this.checkMobile);const t=localStorage.getItem("sidebarVisible");console.log(`Loading sidebar state from localStorage: ${t}`),t!==null&&(this.sidebarVisible=t==="true",console.log(`Set sidebar visibility to: ${this.sidebarVisible}`)),window.addEventListener("darkModeChange",this.onDarkModeChange),this.isCapacitorApp()&&(this.setupHardwareBackButton(),this.handleOrientationChange(),this.setupKeyboardListeners(),this.setupPullToRefresh(),window.Capacitor.Plugins.StatusBar&&(this.darkMode?(window.Capacitor.Plugins.StatusBar.setBackgroundColor({color:"#111827"}),window.Capacitor.Plugins.StatusBar.setStyle({style:"DARK"})):(window.Capacitor.Plugins.StatusBar.setBackgroundColor({color:"#f8f9fa"}),window.Capacitor.Plugins.StatusBar.setStyle({style:"LIGHT"}))));try{const e=await As.fetchSettings();e&&(this.settings=this.mergeDeep(this.settings,e),console.log("Settings loaded from userSettingsService:",this.settings),this.applyAllSettings())}catch(e){console.error("Error loading settings:",e)}this.setupSettingsEventListeners(),await this.checkLoginAndFetchConfig(),await this.fetchModules(),await this.fetchDashboardData()},beforeUnmount(){window.removeEventListener("resize",this.checkMobile),window.removeEventListener("darkModeChange",this.onDarkModeChange),this.removeSettingsEventListeners()},methods:{setupSettingsEventListeners(){window.addEventListener("fontSizeChanged",this.onFontSizeChanged),window.addEventListener("highContrastChanged",this.onHighContrastChanged),window.addEventListener("animationsChanged",this.onAnimationsChanged),window.addEventListener("colorBlindModeChanged",this.onColorBlindModeChanged),window.addEventListener("reduceMotionChanged",this.onReduceMotionChanged),window.addEventListener("settingsChange",this.onSettingsChanged),window.addEventListener("calendarSettingsChanged",this.onCalendarSettingsChanged),window.addEventListener("yearSettingsUpdated",this.onYearSettingsUpdated),window.addEventListener("screenReaderVerbosityChanged",this.onScreenReaderVerbosityChanged)},refreshYearChart(){return console.log("Year chart refresh requested - CSS chart renders automatically"),!0},generateYearDataFromModules(){const t={};return this.moduleData.forEach(e=>{t[e.year]||(t[e.year]=[]),t[e.year].push(e)}),Object.keys(t).map(e=>{const r=t[e],s=r.reduce((l,d)=>l+d.credits,0),i=r.filter(l=>!l.isCurrentlyEnrolled),n=i.map(l=>l.score);let o=0;return i.length>0&&(o=Math.round(i.reduce((l,d)=>l+d.score*d.credits,0)/i.reduce((l,d)=>l+d.credits,0))),{name:e,average:o,credits:s,modules:r.length,highest:n.length>0?Math.max(...n):0,lowest:n.length>0?Math.min(...n):0}})},updateTimeframe(t){this.selectedTimeframe=t},async fetchModuleSuggestions(){if(this.suggestionTimeout&&clearTimeout(this.suggestionTimeout),!this.moduleForm.name||this.moduleForm.name.length<2){this.moduleSuggestions=[],this.showSuggestions=!1;return}this.suggestionTimeout=setTimeout(async()=>{try{this.isLoadingSuggestions=!0;const t=await I.get(`${F}/modules/suggestions`,{params:{query:this.moduleForm.name,degree:this.moduleForm.degree||"COMPUTER SCIENCE",university:this.userProfile.university||"University of Southampton"},withCredentials:!0});this.moduleSuggestions=t.data||[],this.showSuggestions=this.moduleSuggestions.length>0,this.selectedSuggestionIndex=-1}catch(t){console.error("Error fetching module suggestions:",t),this.moduleSuggestions=[],this.showSuggestions=!1}finally{this.isLoadingSuggestions=!1}},300)},selectSuggestion(t){this.moduleForm.name=t.name,this.moduleForm.code=t.code,t.credits&&(this.moduleForm.credits=t.credits),this.showSuggestions=!1,this.moduleSuggestions=[]},handleSuggestionKeydown(t){if(this.showSuggestions)switch(t.key){case"ArrowDown":t.preventDefault(),this.selectedSuggestionIndex=Math.min(this.selectedSuggestionIndex+1,this.moduleSuggestions.length-1);break;case"ArrowUp":t.preventDefault(),this.selectedSuggestionIndex=Math.max(this.selectedSuggestionIndex-1,-1);break;case"Enter":t.preventDefault(),this.selectedSuggestionIndex>=0&&this.selectSuggestion(this.moduleSuggestions[this.selectedSuggestionIndex]);break;case"Escape":t.preventDefault(),this.showSuggestions=!1;break}},closeSuggestions(t){!t.target.closest(".module-name-input")&&!t.target.closest(".module-suggestions")&&(this.showSuggestions=!1)},viewModuleDetails(t){this.selectedModule=t,this.activeModuleTab="details",this.showModuleDetail=!0},getAnalyticsId(t){if(t.analyticsId)return t.analyticsId;const e=t.name.trim().toLowerCase().replace(/\s+/g,"_"),r=t.code?`-${t.code.trim().toLowerCase()}`:"";return`${e}${r}`},getScoreClass(t){return t>=70?"excellent-score":t>=60?"good-score":t>=50?"average-score":t>=40?"pass-score":"fail-score"},removeSettingsEventListeners(){window.removeEventListener("fontSizeChanged",this.onFontSizeChanged),window.removeEventListener("highContrastChanged",this.onHighContrastChanged),window.removeEventListener("animationsChanged",this.onAnimationsChanged),window.removeEventListener("colorBlindModeChanged",this.onColorBlindModeChanged),window.removeEventListener("reduceMotionChanged",this.onReduceMotionChanged),window.removeEventListener("settingsChange",this.onSettingsChanged),window.removeEventListener("calendarSettingsChanged",this.onCalendarSettingsChanged),window.removeEventListener("yearSettingsUpdated",this.onYearSettingsUpdated),window.removeEventListener("screenReaderVerbosityChanged",this.onScreenReaderVerbosityChanged)},applyAllSettings(){this.applyFontSize(this.settings.appearance.fontSize),this.applyHighContrast(this.settings.appearance.highContrast),this.applyAnimations(this.settings.appearance.enableAnimations),this.applyColorBlindMode(this.settings.accessibility.colorBlindMode),this.applyReduceMotion(this.settings.accessibility.reduceMotion),this.applyFocusMode(this.settings.accessibility.focusMode),this.applyScreenReaderOptimization(this.settings.accessibility.screenReaderOptimized),this.updateAcademicSettings(),this.updateCalendarSettings()},onFontSizeChanged(t){const e=t.detail.size;this.settings.appearance.fontSize=e,this.applyFontSize(e)},onHighContrastChanged(t){const e=t.detail.enabled;this.settings.appearance.highContrast=e,this.applyHighContrast(e)},onAnimationsChanged(t){const e=t.detail.enabled;this.settings.appearance.enableAnimations=e,this.applyAnimations(e)},onColorBlindModeChanged(t){const e=t.detail.mode;this.settings.accessibility.colorBlindMode=e,this.applyColorBlindMode(e)},onReduceMotionChanged(t){const e=t.detail.enabled;this.settings.accessibility.reduceMotion=e,this.applyReduceMotion(e)},onSettingsChanged(t){const{setting:e,value:r}=t.detail;e==="keyboardShortcuts"?this.settings.accessibility.keyboardShortcuts=r:e==="screenReaderOptimized"?(this.settings.accessibility.screenReaderOptimized=r,this.applyScreenReaderOptimization(r)):e==="focusMode"&&(this.settings.accessibility.focusMode=r,this.applyFocusMode(r))},onCalendarSettingsChanged(t){const e=t.detail;this.settings.calendar={...this.settings.calendar,...e},this.updateCalendarSettings()},onYearSettingsUpdated(t){const{yearWeights:e,totalYears:r,creditsPerYear:s}=t.detail;e&&(this.settings.academic.yearWeights=e),r&&(this.settings.academic.totalYears=r),s&&(this.settings.academic.creditsPerYear=s),this.updateAcademicSettings()},onScreenReaderVerbosityChanged(t){const e=t.detail.level;this.settings.accessibility.screenReaderVerbosity=e},applyFontSize(t){const e={small:"14px",medium:"16px",large:"18px"};document.documentElement.style.setProperty("--font-size-base",e[t]||"16px")},applyHighContrast(t){t?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},applyAnimations(t){t?document.documentElement.classList.remove("disable-animations"):document.documentElement.classList.add("disable-animations")},applyColorBlindMode(t){const e=document.getElementById("color-blind-filter");if(e&&e.remove(),t==="none"){document.documentElement.style.filter="";return}const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("id","color-blind-filter"),r.style.position="absolute",r.style.height="0",r.style.width="0",r.style.overflow="hidden";let s="";switch(t){case"protanopia":s=`
            <filter id="protanopia">
              <feColorMatrix
                type="matrix"
                values="0.567, 0.433, 0,     0, 0
                        0.558, 0.442, 0,     0, 0
                        0,     0.242, 0.758, 0, 0
                        0,     0,     0,     1, 0"/>
            </filter>
          `;break;case"deuteranopia":s=`
            <filter id="deuteranopia">
              <feColorMatrix
                type="matrix"
                values="0.625, 0.375, 0,   0, 0
                        0.7,   0.3,   0,   0, 0
                        0,     0.3,   0.7, 0, 0
                        0,     0,     0,   1, 0"/>
            </filter>
          `;break;case"tritanopia":s=`
            <filter id="tritanopia">
              <feColorMatrix
                type="matrix"
                values="0.95, 0.05,  0,     0, 0
                        0,    0.433, 0.567, 0, 0
                        0,    0.475, 0.525, 0, 0
                        0,    0,     0,     1, 0"/>
            </filter>
          `;break;case"achromatopsia":s=`
            <filter id="achromatopsia">
              <feColorMatrix
                type="matrix"
                values="0.299, 0.587, 0.114, 0, 0
                        0.299, 0.587, 0.114, 0, 0
                        0.299, 0.587, 0.114, 0, 0
                        0,     0,     0,     1, 0"/>
            </filter>
          `;break}r.innerHTML=s,document.body.appendChild(r),document.documentElement.style.filter=`url(#${t})`},applyReduceMotion(t){t?(document.documentElement.classList.add("reduce-motion"),document.documentElement.style.setProperty("--transition-speed","0s")):(document.documentElement.classList.remove("reduce-motion"),document.documentElement.style.setProperty("--transition-speed","0.3s"),this.applyMotionIntensity())},applyMotionIntensity(){if(!this.settings.accessibility.reduceMotion){const e=.1+this.settings.accessibility.motionIntensity/100*.4;document.documentElement.style.setProperty("--transition-speed",`${e}s`)}},applyFocusMode(t){t?document.documentElement.classList.add("focus-mode"):document.documentElement.classList.remove("focus-mode")},applyScreenReaderOptimization(t){t?(document.documentElement.classList.add("screen-reader-optimized"),this.addScreenReaderAttributes()):document.documentElement.classList.remove("screen-reader-optimized")},addScreenReaderAttributes(){document.querySelectorAll(".module-card").forEach((e,r)=>{var n,o;const s=((n=e.querySelector(".module-name"))==null?void 0:n.textContent)||`Module ${r+1}`,i=((o=e.querySelector(".module-score"))==null?void 0:o.textContent)||"No score";e.setAttribute("aria-label",`${s}, ${i}`)})},updateAcademicSettings(){var e;const t=this.settings.academic;t.totalYears&&t.creditsPerYear&&((e=t.yearWeights)!=null&&e.length)&&((!this.calculatorConfig.years||this.calculatorConfig.years.length===0)&&(this.calculatorConfig.years=t.yearWeights.map((r,s)=>({year:`Year ${s+1}`,active:r.active,credits:typeof t.creditsPerYear=="number"?t.creditsPerYear:parseInt(t.creditsPerYear)||120,weight:r.weight,semesters:t.semestersPerYear||2}))),this.targetGrade=t.targetGrade,this.customTargetGrade=t.customTargetGrade)},updateCalendarSettings(){console.log("Updating calendar with settings:",this.settings.calendar)},mergeDeep(t,e){const r=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(s=>{this.isObject(e[s])?s in t?r[s]=this.mergeDeep(t[s],e[s]):Object.assign(r,{[s]:e[s]}):Object.assign(r,{[s]:e[s]})}),r},isObject(t){return t&&typeof t=="object"&&!Array.isArray(t)},isCapacitorApp(){return window.Capacitor!==void 0&&window.Capacitor.isNative===!0},showGlobalAddModule(){var t;(!this.calculatorConfig.years||this.calculatorConfig.years.length===0)&&(this.settings.academic.totalYears&&((t=this.settings.academic.yearWeights)!=null&&t.length)?this.calculatorConfig.years=this.settings.academic.yearWeights.map((e,r)=>({year:`Year ${r+1}`,active:e.active,credits:typeof this.settings.academic.creditsPerYear=="number"?this.settings.academic.creditsPerYear:parseInt(this.settings.academic.creditsPerYear)||120,weight:e.weight,semesters:this.settings.academic.semestersPerYear||2})):this.calculatorConfig.years=[{year:"Year 1",active:!0,credits:120,weight:33,semesters:2},{year:"Year 2",active:!0,credits:120,weight:33,semesters:2},{year:"Year 3",active:!0,credits:120,weight:34,semesters:2}]),this.editingModule=!1,this.moduleForm={name:"",code:"",credits:15,year:this.calculatorConfig.years&&this.calculatorConfig.years.length>0?this.calculatorConfig.years[0].year:"Year 1",semester:1,score:0,isCurrentlyEnrolled:!0,assessments:[{name:"Exam",weight:100,score:0,completed:!1}]},this.showModuleForm=!0},setupHardwareBackButton(){this.isCapacitorApp()&&window.Capacitor.Plugins.App&&window.Capacitor.Plugins.App.addListener("backButton",()=>{if(this.showModuleDetail){this.showModuleDetail=!1;return}if(this.showModuleForm){this.showModuleForm=!1;return}if(this.sidebarVisible&&this.isMobile){this.sidebarVisible=!1;return}if(this.showYearWeights){this.goBackToDegreeConfig();return}if(this.showNextConfig){this.goBackToStep1();return}if(this.showSetupWizard){window.Capacitor.Plugins.App.exitApp();return}if(this.activeView!=="overview"){this.activeView="overview";return}window.Capacitor.Plugins.App.minimizeApp()})},handleOrientationChange(){this.isCapacitorApp()&&window.screen.orientation&&window.screen.orientation.addEventListener("change",()=>{this.checkMobile(),setTimeout(()=>{this.$refs.gradeChart&&this.$refs.gradeChart.redrawChart(),this.$refs.yearChart&&this.$refs.yearChart.redrawChart()},300)})},setupKeyboardListeners(){this.isCapacitorApp()&&window.Capacitor.Plugins.Keyboard&&(window.Capacitor.Plugins.Keyboard.addListener("keyboardWillShow",()=>{document.body.classList.add("keyboard-open")}),window.Capacitor.Plugins.Keyboard.addListener("keyboardWillHide",()=>{document.body.classList.remove("keyboard-open")}))},setupPullToRefresh(){if(this.isCapacitorApp()){let t=0,e=0;const r=100;let s=!1,i=null;const n=()=>(i=document.createElement("div"),i.className="pull-to-refresh-indicator",i.textContent="Pull down to refresh",document.querySelector(".dashboard-main-content").prepend(i),i);document.addEventListener("touchstart",o=>{window.scrollY===0&&(t=o.touches[0].clientY,s=!0,i||(i=n()))}),document.addEventListener("touchmove",o=>{if(!s)return;e=o.touches[0].clientY;const l=e-t;l>0&&l<r?(i.textContent="Pull down to refresh",i.style.marginTop=`${l-40}px`):l>=r&&(i.textContent="Release to refresh",i.style.marginTop=`${r-40}px`)}),document.addEventListener("touchend",async()=>{if(!s)return;const o=e-t;if(s=!1,o>=r){i.textContent="Refreshing...";try{await Promise.all([this.fetchModules(),this.fetchDashboardData()]),i.textContent="Updated!",setTimeout(()=>{i.style.marginTop="-40px"},500)}catch{i.textContent="Failed to refresh",setTimeout(()=>{i.style.marginTop="-40px"},500)}}else i.style.marginTop="-40px"})}},showLoading(){if(document.querySelector(".loading-overlay"))return;const t=document.createElement("div");t.className="loading-overlay";const e=document.createElement("div");e.className="loading-spinner",t.appendChild(e),document.body.appendChild(t)},hideLoading(){const t=document.querySelector(".loading-overlay");t&&t.remove()},showNativeToast(t){this.isCapacitorApp()&&window.Capacitor.Plugins.Toast?window.Capacitor.Plugins.Toast.show({text:t,duration:"short",position:"bottom"}):V({type:"info",message:t})},checkMobile(){const t=this.isMobile;this.isCapacitorApp()?this.isMobile=!0:this.isMobile=window.innerWidth<=768,this.isMobile?(document.body.classList.add("is-mobile"),this.isCapacitorApp()&&(window.Capacitor.getPlatform()==="ios"?document.body.classList.add("capacitor-ios"):window.Capacitor.getPlatform()==="android"&&document.body.classList.add("capacitor-android"))):(document.body.classList.remove("is-mobile"),document.body.classList.remove("capacitor-ios"),document.body.classList.remove("capacitor-android")),!t&&this.isMobile&&this.sidebarVisible&&(console.log("Switching to mobile - hiding sidebar"),this.sidebarVisible=!1,localStorage.setItem("sidebarVisible","false"))},async fetchUserProfile(){try{const t=await I.get(`${F}/user/profile`,{withCredentials:!0});return this.userProfile=t.data,t.data}catch(t){return console.error("Error fetching user profile:",t),t.response&&t.response.status===401&&(this.notLoggedIn=!0),null}},async fetchCalculatorConfig(){try{const t=await I.get(`${F}/calculator`,{withCredentials:!0});return this.calculatorConfig=t.data,this.syncCalculatorConfigWithSettings(),t.data}catch(t){return console.error("Error fetching calculator config:",t),null}},syncCalculatorConfigWithSettings(){!this.calculatorConfig||!this.calculatorConfig.years||this.settings.academic.yearWeights},async fetchModules(){var t;this.isMobile&&this.showLoading();try{this.loading=!0,console.log("Fetching modules from API...");const e=await I.get(`${F}/modules`,{withCredentials:!0});console.log("Modules from API:",e.data),this.moduleData=e.data,console.log("Current moduleData after assignment:",this.moduleData),console.log("Number of modules loaded:",this.moduleData.length),this.moduleData.length>0&&console.log("First module details:",{name:this.moduleData[0].name,year:this.moduleData[0].year,isCurrentlyEnrolled:this.moduleData[0].isCurrentlyEnrolled}),this.prepareChartData();const r=[...new Set(this.moduleData.map(s=>s.year))];return console.log("Years containing modules:",r),console.log("Calculator config years:",((t=this.calculatorConfig.years)==null?void 0:t.map(s=>s.year))||[]),e.data}catch(e){console.error("Error fetching modules:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data));try{const r=JSON.parse(localStorage.getItem("gradeGuardModules")||"[]");console.log("Loaded modules from local storage:",r),r.length>0&&(this.moduleData=r,console.log("Using local storage modules as fallback"))}catch(r){console.error("Error loading from local storage:",r)}return this.isCapacitorApp()&&this.showNativeToast("Failed to load modules"),[]}finally{this.loading=!1,this.isMobile&&this.hideLoading()}},async fetchDashboardData(){this.isMobile&&this.showLoading();try{this.loading=!0;const t=await I.get(`${F}/dashboard`,{withCredentials:!0}),{stats:e,config:r}=t.data;return this.dashboardStats=e,this.dashboardConfig=r,this.recentActivities=r.recentActivities||[],this.goals=r.goals||[],this.yearData=e.yearData||[],this.scoreDistribution=e.gradeDistribution||[],this.generatePersonalizedTips(),t.data}catch(t){return console.error("Error fetching dashboard data:",t),this.isCapacitorApp()&&this.showNativeToast("Failed to load dashboard data"),null}finally{this.loading=!1,this.isMobile&&this.hideLoading()}},onDarkModeChange(t){this.darkMode=t.detail.isDark,this.settings.appearance.darkMode=this.darkMode,this.isCapacitorApp()&&window.Capacitor.Plugins.StatusBar&&(this.darkMode?(window.Capacitor.Plugins.StatusBar.setBackgroundColor({color:"#111827"}),window.Capacitor.Plugins.StatusBar.setStyle({style:"DARK"})):(window.Capacitor.Plugins.StatusBar.setBackgroundColor({color:"#f8f9fa"}),window.Capacitor.Plugins.StatusBar.setStyle({style:"LIGHT"})));const e=this.settings.appearance.accentColor||"purple";this.applyAccentColor(e),this.settings.accessibility.colorBlindMode!=="none"&&this.applyColorBlindMode(this.settings.accessibility.colorBlindMode)},applyAccentColor(t){const e={purple:"#7b49ff",blue:"#2196f3",green:"#4caf50",red:"#f44336",orange:"#ff9800",pink:"#e91e63",teal:"#009688"},r=e[t]||e.purple;document.documentElement.style.setProperty("--primary-color",r);const s=this.adjustColor(r,-20);document.documentElement.style.setProperty("--primary-dark",s);const i=this.adjustColor(r,20);document.documentElement.style.setProperty("--primary-light",i)},adjustColor(t,e){let r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),i=parseInt(t.slice(5,7),16);return r=Math.max(0,Math.min(255,r+e)),s=Math.max(0,Math.min(255,s+e)),i=Math.max(0,Math.min(255,i+e)),`#${Math.round(r).toString(16).padStart(2,"0")}${Math.round(s).toString(16).padStart(2,"0")}${Math.round(i).toString(16).padStart(2,"0")}`},async handleLogout(){this.isMobile&&this.showLoading();try{await I.post(`${F}/logout`,{},{withCredentials:!0}),this.notLoggedIn=!0,this.isCapacitorApp()?(this.showNativeToast("Logged out successfully"),setTimeout(()=>{window.Capacitor.Plugins.App.exitApp()},1e3)):this.$router.push("/login?logout=true")}catch(t){console.error("Error during logout:",t),this.isCapacitorApp()?(this.showNativeToast("Error during logout"),this.hideLoading()):this.$router.push("/login?logout=true")}finally{this.isMobile&&this.hideLoading()}},getModuleIconClass(t){return t>=70?"excellent":t>=60?"good":t>=50?"average":t>=40?"pass":"fail"},getScoreClass(t){const e=this.settings.academic.gradingScale||[];if(e.length>=5){const r=e.find(o=>o.letter==="A"),s=e.find(o=>o.letter==="B"),i=e.find(o=>o.letter==="C"),n=e.find(o=>o.letter==="D");return r&&t>=r.minPercentage?"excellent-score":s&&t>=s.minPercentage?"good-score":i&&t>=i.minPercentage?"average-score":n&&t>=n.minPercentage?"pass-score":"fail-score"}return t>=70?"excellent-score":t>=60?"good-score":t>=50?"average-score":t>=40?"pass-score":"fail-score"},getComparisonClass(t){return t>5?"positive-large":t>0?"positive-small":t<-5?"negative-large":t<0?"negative-small":"neutral"},viewModuleDetails(t){this.selectedModule=t,this.showModuleDetail=!0},showAddModuleForm(t){this.editingModule=!1,this.moduleForm={name:"",code:"",credits:15,year:t.year,semester:1,score:0,isCurrentlyEnrolled:!0,assessments:[{name:"Exam",weight:100,score:0,completed:!1}]},this.showModuleForm=!0},editModule(t){this.editingModule=!0,this.moduleForm=JSON.parse(JSON.stringify(t)),this.moduleForm.semester===void 0&&(this.moduleForm.semester=1),this.moduleForm.isCurrentlyEnrolled===void 0&&(this.moduleForm.isCurrentlyEnrolled=!1),!this.moduleForm.assessments||!this.moduleForm.assessments.length?this.moduleForm.assessments=[{name:"Exam",weight:100,score:t.score,completed:!t.isCurrentlyEnrolled}]:this.moduleForm.isCurrentlyEnrolled&&(this.moduleForm.assessments=this.moduleForm.assessments.map(e=>e.hasOwnProperty("completed")?e:{...e,completed:!1})),this.showModuleDetail=!1,this.showModuleForm=!0},addAssessment(){this.moduleForm.assessments.push({name:`Assessment ${this.moduleForm.assessments.length+1}`,weight:0,score:0,completed:!1})},removeAssessment(t){this.moduleForm.assessments.splice(t,1)},exportGrades(){let t=`Year,Module,Code,Credits,Semester,Score,Currently Enrolled
`;if(this.moduleData.forEach(e=>{const r=e.semester===0?"Full Year":`Semester ${e.semester||1}`,s=e.isCurrentlyEnrolled?"In Progress":`${e.score}`;t+=`${e.year},${e.name},${e.code||""},${e.credits},${r},${s},${e.isCurrentlyEnrolled?"Yes":"No"}
`}),this.isCapacitorApp()&&window.Capacitor.Plugins.Filesystem){const e=`GradeGuard_Export_${new Date().toISOString().slice(0,10)}.csv`;window.Capacitor.Plugins.Filesystem.writeFile({path:e,data:t,directory:window.Capacitor.FilesystemDirectory.Documents,encoding:window.Capacitor.FilesystemEncoding.UTF8}).then(()=>{this.showNativeToast("Grades exported successfully to Documents folder"),window.Capacitor.Plugins.Share&&window.Capacitor.Plugins.Share.share({title:"GradeGuard Export",text:"Your exported grades",url:e,dialogTitle:"Share your grades"}).catch(r=>{console.error("Error sharing file:",r)})}).catch(r=>{console.error("Error saving file:",r),this.showNativeToast("Error exporting grades")})}else{const e=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(e),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download","GradeGuard_Export.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),V({type:"success",message:"Grades exported successfully!"})}},prepareChartData(){console.log(`Preparing chart data for timeframe: ${this.selectedTimeframe}`);const t=this.selectedTimeframe==="all"?this.completedModuleData:this.completedModuleData.filter(o=>o.year===`Year ${this.selectedTimeframe}`);console.log(`Found ${t.length} completed modules for the selected timeframe`);const e=t.map(o=>o.score);let r;const s=this.settings.academic.gradingScale;if(s&&s.length>=4){r=[];const o=[...s].sort((l,d)=>d.minPercentage-l.minPercentage);for(let l=0;l<o.length;l++){const d=o[l].minPercentage,u=l===0?100:o[l-1].minPercentage-1;r.push({name:`${o[l].letter} (${d}-${u}%)`,range:[d,u]})}}else r=[{name:"0-39%",range:[0,39]},{name:"40-49%",range:[40,49]},{name:"50-59%",range:[50,59]},{name:"60-69%",range:[60,69]},{name:"70-100%",range:[70,100]}];this.scoreDistribution=r.map(o=>({name:o.name,count:e.filter(l=>l>=o.range[0]&&l<=o.range[1]).length}));const i={};t.forEach(o=>{i[o.year]||(i[o.year]=[]),i[o.year].push(o)}),this.selectedTimeframe==="all"&&(this.yearData=Object.keys(i).map(o=>{const l=i[o],d=l.reduce((h,f)=>h+f.credits,0),u=l.length?Math.round(l.reduce((h,f)=>h+f.score*f.credits,0)/d*10)/10:0;return{name:o,average:u,credits:d,modules:l.length,highest:Math.max(...l.map(h=>h.score)),lowest:Math.min(...l.map(h=>h.score))}}).sort((o,l)=>{const d=parseInt(o.name.replace("Year ","")),u=parseInt(l.name.replace("Year ",""));return d-u}));const n=[{name:"Programming",pattern:/(programming|coding|development|software)/i},{name:"Theory",pattern:/(theory|concepts|foundations)/i},{name:"Mathematics",pattern:/(math|mathematics|calculation|statistics)/i},{name:"Design",pattern:/(design|architecture|interface)/i},{name:"Research",pattern:/(research|analysis|thesis)/i},{name:"Security",pattern:/(security|cyber|protection)/i}];if(this.strengthsData=n.map(o=>{const l=t.filter(d=>o.pattern.test(d.name)||d.code&&o.pattern.test(d.code));return{subject:o.name,score:l.length?Math.round(l.reduce((d,u)=>d+u.score,0)/l.length):50}}),this.selectedTimeframe==="all"){const o=[...t].sort((d,u)=>{const h=parseInt(d.year.replace("Year ","")),f=parseInt(u.year.replace("Year ",""));return h!==f?h-f:(d.semester||1)-(u.semester||1)}),l={};o.forEach(d=>{const u=`${d.year} - Sem ${d.semester||1}`;l[u]||(l[u]={modules:[],totalCredits:0}),l[u].modules.push(d),l[u].totalCredits+=d.credits}),this.performanceData=Object.keys(l).map(d=>{const u=l[d],h=u.modules.reduce((p,m)=>p+m.score*m.credits,0),f=u.totalCredits>0?Math.round(h/u.totalCredits*10)/10:0;return{period:d,average:f,highest:Math.max(...u.modules.map(p=>p.score)),lowest:Math.min(...u.modules.map(p=>p.score)),credits:u.totalCredits}}).sort((d,u)=>d.period.localeCompare(u.period))}console.log("Chart data prepared successfully")},prepareInsightsData(){const t=this.completedModuleData,e={};t.forEach(s=>{e[s.year]||(e[s.year]=[]),e[s.year].push(s)}),this.performanceData=Object.keys(e).map(s=>{const i=e[s];return{name:s,average:Math.round(i.reduce((n,o)=>n+o.score,0)/i.length*10)/10,highest:Math.max(...i.map(n=>n.score)),lowest:Math.min(...i.map(n=>n.score)),count:i.length}}).sort((s,i)=>parseInt(s.name.replace("Year ",""))-parseInt(i.name.replace("Year ","")));const r=[{name:"Programming",pattern:/(programming|coding|development|software)/i},{name:"Theory",pattern:/(theory|concepts|foundations)/i},{name:"Mathematics",pattern:/(math|mathematics|calculation|statistics)/i},{name:"Design",pattern:/(design|architecture|interface)/i},{name:"Research",pattern:/(research|analysis|thesis)/i},{name:"Security",pattern:/(security|cyber|protection)/i}];this.strengthsData=r.map(s=>{const i=t.filter(n=>s.pattern.test(n.name)||s.pattern.test(n.code));return{subject:s.name,score:i.length?Math.round(i.reduce((n,o)=>n+o.score,0)/i.length):50}}),this.generatePersonalizedTips()},generatePersonalizedTips(){const t=[],e=this.currentModuleData;if(e.length>0&&(e.slice(0,3).forEach(s=>{t.push({title:`Focus on ${s.name}`,description:"You're currently enrolled in this module. Create a study plan and allocate regular time to stay on top of the coursework."})}),e.length>0&&t.push({title:"Current Modules Strategy",description:`You're currently enrolled in ${e.length} module${e.length>1?"s":""}. Try to distribute your effort based on credit weighting and assessment schedules.`})),this.settings.academic.studyPreferences&&this.settings.academic.studyPreferences.length>0){const r=this.settings.academic.studyPreferences.join(" and ");t.push({title:"Leverage Your Study Preferences",description:`You've indicated that ${r} are your best study times. Schedule your most difficult work during these periods to maximize productivity.`})}if(t.push({title:"Effective Time Management",description:"Break down large assignments into smaller tasks and set deadlines for each part. This makes progress more manageable and reduces last-minute stress."}),t.push({title:"Active Learning Techniques",description:"Instead of passive reading, try active recall by testing yourself on key concepts. Research shows this significantly improves retention compared to re-reading materials."}),this.settings.academic.academicLevel){let r={title:`${this.settings.academic.academicLevel} Level Tips`,description:""};this.settings.academic.academicLevel==="Undergraduate"?r.description="Focus on building a solid foundation across all your subjects. Make connections between different modules to deepen your understanding.":this.settings.academic.academicLevel.includes("Masters")?r.description="Develop your critical analysis skills. Go beyond just learning content to evaluating, critiquing, and applying concepts in new contexts.":this.settings.academic.academicLevel.includes("PhD")&&(r.description="Regular writing is essential. Set aside time each week to document your research progress and ideas, even if they're not fully formed yet."),r.description&&t.push(r)}t.length<4&&t.push({title:"Balance Your Workload",description:"Try spacing out your work to reduce stress and improve quality. Setting regular study periods can help maintain consistent progress."}),this.personalizedTips=t.slice(0,4)},initializeYearWeights(t){const e=Math.floor(100/t),r=100-e*t;this.yearWeights=[];for(let s=0;s<t;s++){const i=s===t-1?e+r:e;this.yearWeights.push({year:s+1,weight:i,active:!0})}},validateYearWeights(){if(!this.yearWeights)return;this.yearWeights.forEach(e=>{e.weight>100&&(e.weight=100),e.weight<0&&(e.weight=0)});const t=this.yearWeights.filter(e=>e.active);t.length===1&&(t[0].weight=100)},async checkLoginAndFetchConfig(){var t;try{if(!await this.fetchUserProfile()){this.notLoggedIn=!0;return}const r=await this.fetchCalculatorConfig();(!r||!r.years||r.years.length===0)&&((t=this.settings.academic.yearWeights)!=null&&t.length?this.calculatorConfig.years=this.settings.academic.yearWeights.map((s,i)=>({year:`Year ${i+1}`,active:s.active,credits:typeof this.settings.academic.creditsPerYear=="number"?this.settings.academic.creditsPerYear:parseInt(this.settings.academic.creditsPerYear)||120,weight:s.weight,semesters:this.settings.academic.semestersPerYear||2})):this.showSetupWizard=!0)}catch(e){console.error("Error checking login and config:",e),this.notLoggedIn=!0}},logSidebarStatus(){console.log(`[Sidebar Debug] sidebarVisible: ${this.sidebarVisible},
     localStorage value: ${localStorage.getItem("sidebarVisible")},
     isMobile: ${this.isMobile}`)},toggleSidebar(){this.sidebarVisible=!this.sidebarVisible,localStorage.setItem("sidebarVisible",this.sidebarVisible.toString()),console.log(`Sidebar toggled to: ${this.sidebarVisible}`),this.sidebarVisible&&this.isMobile?document.querySelector(".dashboard-sidebar").classList.add("visible"):!this.sidebarVisible&&this.isMobile&&document.querySelector(".dashboard-sidebar").classList.remove("visible")},saveUserConfig(){if(!this.userConfig.academicLevel||!this.userConfig.enrollmentType||!this.userConfig.studyPreference){const t="Please complete all preference fields.";this.isCapacitorApp()?this.showNativeToast(t):V({type:"warning",message:t});return}this.settings.academic.academicLevel=this.userConfig.academicLevel,this.settings.academic.enrollmentType=this.userConfig.enrollmentType,this.settings.academic.studyPreferences=[this.userConfig.studyPreference],this.showSetupWizard=!1,this.showNextConfig=!0},goBackToStep1(){this.showNextConfig=!1,this.showSetupWizard=!0},goToYearWeights(){const t=this.nextConfig.numYears==="other"?this.nextConfig.customYears:this.nextConfig.numYears,e=this.nextConfig.semesters==="other"?this.nextConfig.customSemesters:this.nextConfig.semesters,r=this.nextConfig.credits==="other"?this.nextConfig.customCredits:this.nextConfig.credits;if(!t||!e||!r){const s="Please fill all degree details (years, semesters, credits).";this.isCapacitorApp()?this.showNativeToast(s):V({type:"warning",message:s});return}this.settings.academic.totalYears=t,this.settings.academic.semestersPerYear=e,this.settings.academic.creditsPerYear=r,this.showNextConfig=!1,this.showYearWeights=!0,this.yearWeights.length===0&&this.initializeYearWeights(t)},goBackToDegreeConfig(){this.showYearWeights=!1,this.showNextConfig=!0},async completeSetup(){var t,e;if(this.totalWeight!==100&&this.hasActiveYears){const r="The total weight of active years should equal 100%.";this.isCapacitorApp()?this.showNativeToast(r):V({type:"warning",message:r});return}this.isMobile&&this.showLoading();try{this.loading=!0;const r=this.nextConfig.numYears==="other"?this.nextConfig.customYears:this.nextConfig.numYears,s=this.nextConfig.semesters==="other"?this.nextConfig.customSemesters:this.nextConfig.semesters,i=this.nextConfig.credits==="other"?this.nextConfig.customCredits:this.nextConfig.credits,n={numYears:r,semesters:s,credits:i,years:this.yearWeights.map((u,h)=>({year:`Year ${h+1}`,active:u.active,credits:i,weight:u.weight,semesters:s}))};this.settings.academic.totalYears=r,this.settings.academic.semestersPerYear=s,this.settings.academic.creditsPerYear=i,this.settings.academic.yearWeights=this.yearWeights,this.settings.academic.targetGrade=this.targetGrade,this.settings.academic.customTargetGrade=this.customTargetGrade,await I.put(`${F}/calculator/update`,n,{withCredentials:!0});const o=this.targetGrade==="custom"?this.customTargetGrade:this.targetGrade,l=[{title:"First Class Degree",description:`Achieve overall average of ${o}% or higher`,progress:0,target_score:o}];await I.put(`${F}/dashboard/goals`,l,{withCredentials:!0}),(this.userConfig.academicLevel||this.userConfig.enrollmentType||this.userConfig.studyPreference)&&await I.put(`${F}/user/config`,{studyPreferences:this.userConfig},{withCredentials:!0}),await As.saveSettings(this.settings),this.showYearWeights=!1,this.showSetupWizard=!1,this.showNextConfig=!1,await this.fetchCalculatorConfig(),await this.fetchModules(),await this.fetchDashboardData();const d="Setup completed successfully!";this.isCapacitorApp()?this.showNativeToast(d):V({type:"success",message:d})}catch(r){console.error("Error completing setup:",r);const s=`Setup failed: ${((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||r.message}`;this.isCapacitorApp()?this.showNativeToast(s):V({type:"error",message:s})}finally{this.loading=!1,this.isMobile&&this.hideLoading()}},async saveModule(){var t,e;if(!this.isModuleFormValid){V({type:"warning",message:"Please complete all required fields and ensure assessment weights total 100%."});return}this.isMobile&&this.showLoading();try{if(this.loading=!0,console.log("Saving module:",this.moduleForm),this.moduleForm.isCurrentlyEnrolled){const n=this.moduleForm.assessments.filter(o=>o.completed);if(n.length>0){const o=n.reduce((d,u)=>d+u.weight,0),l=n.reduce((d,u)=>d+u.score*u.weight,0);this.moduleForm.score=o>0?Math.round(l/o*10)/10:0}else this.moduleForm.score=0;this.moduleForm.status="in_progress"}else{const n=this.moduleForm.assessments.reduce((o,l)=>o+l.score*l.weight/100,0);this.moduleForm.score=Math.round(n*10)/10,this.moduleForm.status="completed"}let r,s=!1;try{this.editingModule?(console.log("Updating existing module with ID:",this.moduleForm.id),r=await I.put(`${F}/modules/${this.moduleForm.id}`,this.moduleForm,{withCredentials:!0}),s=!0,console.log("Module updated successfully via API")):(console.log("Creating new module"),r=await I.post(`${F}/modules`,this.moduleForm,{withCredentials:!0}),s=!0,console.log("Module created successfully via API")),r&&r.data&&console.log("API response after save:",r.data)}catch(n){console.warn("API save failed, will use local storage instead:",n),n.response&&(console.error("Response status:",n.response.status),console.error("Response data:",n.response.data))}if(s)try{console.log("API save successful, updating calculator config if needed...");const n=this.moduleForm.year;let l=(await I.get(`${F}/calculator`,{withCredentials:!0})).data;l.years||(l.years=[]);let d=l.years.find(h=>h.year===n),u=!1;if(d)d.active||(console.log(`Activating existing year ${n} in calculator config`),d.active=!0,u=!0);else{console.log(`Adding new year ${n} to calculator config`);const h=l.years.length>0?Math.floor(100/(l.years.length+1)):100;if(l.years.push({year:n,active:!0,credits:120,weight:h,semesters:2}),l.years.length>1){const f=l.years.reduce((p,m)=>p+m.weight,0);if(f>100){const p=100/f;l.years.forEach(y=>{y.weight=Math.floor(y.weight*p)});const m=l.years.reduce((y,c)=>y+c.weight,0);if(m!==100){const y=100-m;l.years[l.years.length-1].weight+=y}}}u=!0}u&&(await I.put(`${F}/calculator`,l,{withCredentials:!0}),console.log("Calculator config updated with active year:",n),this.calculatorConfig=l),console.log("Refreshing modules and dashboard data..."),await this.fetchCalculatorConfig(),await this.fetchModules(),await this.fetchDashboardData(),this.activeView="yearly",this.selectedYear="all",setTimeout(()=>{this.$forceUpdate(),console.log("UI forcefully updated")},100)}catch(n){console.error("Error updating calculator config:",n),await this.fetchModules(),await this.fetchDashboardData()}else{console.log("Using local storage fallback for module save");const n={...this.moduleForm};if(this.editingModule||(n.id="local-"+Date.now(),console.log("Generated local ID for new module:",n.id)),this.editingModule){const o=this.moduleData.findIndex(l=>l.id===n.id);o>=0?(console.log("Updating module at index:",o),this.moduleData[o]=n):(console.log("Module ID not found, adding as new"),this.moduleData.push(n))}else console.log("Adding new module to moduleData"),this.moduleData.push(n);console.log("Current moduleData after local update:",this.moduleData.length);try{const o=this.moduleForm.year;let l=!1,d=!1;if(this.calculatorConfig&&this.calculatorConfig.years){const u=this.calculatorConfig.years.find(h=>h.year===o);u&&(l=!0,d=u.active,d||(u.active=!0,console.log(`Activated year ${o} in local calculator config`)))}!l&&this.calculatorConfig&&(this.calculatorConfig.years||(this.calculatorConfig.years=[]),this.calculatorConfig.years.push({year:o,active:!0,credits:120,weight:100/(this.calculatorConfig.years.length+1),semesters:2}),console.log(`Added new year ${o} to local calculator config`))}catch(o){console.error("Error updating local calculator config:",o)}this.$nextTick(()=>{this.activeView="yearly",this.selectedYear="all",this.$forceUpdate(),console.log("UI updated after local update")})}try{const n=JSON.parse(localStorage.getItem("gradeGuardModules")||"[]");this.editingModule||(this.moduleForm.id=this.moduleForm.id||"local-"+Date.now());const o=n.findIndex(l=>l.id===this.moduleForm.id);o>=0?(n[o]={...this.moduleForm},console.log("Updated module in local storage")):(n.push({...this.moduleForm}),console.log("Added module to local storage")),localStorage.setItem("gradeGuardModules",JSON.stringify(n)),console.log("Local storage updated with modules")}catch(n){console.error("Error saving to local storage:",n)}const i=`Module ${this.editingModule?"updated":"added"} successfully!`;this.isCapacitorApp()?this.showNativeToast(i):V({type:"success",message:i}),this.showModuleForm=!1,this.addActivity({type:"grade",title:this.editingModule?"Module Updated":"Module Added",description:`${this.moduleForm.name}: ${this.moduleForm.isCurrentlyEnrolled?"In Progress":`${this.moduleForm.score}%`}`,time:"Just now"}),console.log("Module save completed successfully")}catch(r){console.error("Unhandled error saving module:",r);const s=`Failed to ${this.editingModule?"update":"add"} module: ${((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||r.message}`;this.isCapacitorApp()?this.showNativeToast(s):V({type:"error",message:s})}finally{this.loading=!1,this.isMobile&&this.hideLoading()}},async deleteModule(t){var r,s;let e=!1;if(this.isCapacitorApp()&&window.Capacitor.Plugins.Dialog){const{value:i}=await window.Capacitor.Plugins.Dialog.confirm({title:"Confirm Deletion",message:`Are you sure you want to delete "${t.name}"?`,okButtonTitle:"Delete",cancelButtonTitle:"Cancel"});e=i}else e=confirm(`Are you sure you want to delete "${t.name}"?`);if(e){this.isMobile&&this.showLoading();try{this.loading=!0,await I.delete(`${F}/modules/${t.id}`,{withCredentials:!0}),await this.fetchModules(),await this.fetchDashboardData();const i="Module deleted successfully!";this.isCapacitorApp()?this.showNativeToast(i):V({type:"success",message:i}),this.showModuleDetail=!1,this.addActivity({type:"grade",title:"Module Deleted",description:`${t.name}`,time:"Just now"})}catch(i){console.error("Error deleting module:",i);const n=`Failed to delete module: ${((s=(r=i.response)==null?void 0:r.data)==null?void 0:s.error)||i.message}`;this.isCapacitorApp()?this.showNativeToast(n):V({type:"error",message:n})}finally{this.loading=!1,this.isMobile&&this.hideLoading()}}},async addActivity(t){try{await I.post(`${F}/dashboard/activity`,t,{withCredentials:!0}),Array.isArray(this.recentActivities)||(this.recentActivities=[]),this.recentActivities.unshift(t),this.recentActivities.length>10&&(this.recentActivities=this.recentActivities.slice(0,10))}catch(e){console.error("Error adding activity:",e)}},async updateGoals(){try{await I.put(`${F}/dashboard/goals`,this.goals,{withCredentials:!0})}catch(t){console.error("Error updating goals:",t)}},async updateDashboardConfig(t){try{await I.put(`${F}/dashboard`,t,{withCredentials:!0})}catch(e){console.error("Error updating dashboard config:",e)}}}},Vu={class:"dashboard-layout"},$u={class:"dashboard-header"},zu={class:"view-controls"},Hu={key:0,class:"center-content auth-prompt"},Wu={key:1,class:"center-content"},Uu={class:"setup-wizard"},Ku={class:"wizard-card"},Ju={class:"form-group"},Xu={class:"select-group"},Zu={class:"form-group"},Qu={class:"select-group"},ec={class:"form-group"},tc={class:"select-group"},rc={key:2,class:"center-content"},sc={class:"next-config"},ic={class:"wizard-card"},nc={class:"form-group"},oc={class:"select-group"},ac=["onClick"],lc={class:"form-group"},dc={class:"select-group"},uc=["onClick"],cc={class:"form-group"},hc={class:"select-group"},fc=["onClick"],pc={class:"form-group"},gc={class:"select-group"},vc={class:"button-group"},mc={key:3,class:"center-content"},yc={class:"next-config"},bc={class:"wizard-card"},Cc={class:"year-weights-container"},wc={class:"year-column"},_c={class:"weight-column"},Sc=["onUpdate:modelValue","disabled"],Mc={class:"active-column"},xc={class:"toggle-container"},kc=["onUpdate:modelValue"],Tc={class:"form-group"},Ac={class:"select-group"},Oc={class:"button-group"},Ec=["disabled"],Dc={key:4,class:"dashboard-content"},Pc={key:0,class:"dashboard-overview"},Lc={class:"overview-card summary-card"},qc={class:"overview-header"},Rc={class:"time-filters"},Ic=["onClick"],Fc={class:"overview-body"},jc={class:"grade-summary"},Nc={class:"grade-value"},Bc={class:"grade-stats"},Yc={class:"stats-item"},Gc={class:"stats-value"},Vc={class:"stats-item"},$c={class:"stats-value"},zc={class:"stats-item"},Hc={class:"stats-value"},Wc={class:"progress-section"},Uc={class:"progress-bar"},Kc={class:"progress-targets"},Jc={class:"target-item"},Xc={class:"target-value"},Zc={class:"target-item"},Qc={class:"target-value"},eh={class:"target-item"},th={class:"target-value"},rh={class:"visualization-row"},sh={class:"chart-card"},ih={class:"chart-container grade-chart"},nh={class:"chart-card"},oh={class:"chart-container year-chart",style:{height:"300px","max-height":"300px",overflow:"hidden"}},ah={class:"bottom-row"},lh={class:"activity-card"},dh={class:"activity-list"},uh={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ch={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},hh={key:2,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},fh={class:"activity-content"},ph={class:"activity-title"},gh={class:"activity-description"},vh={class:"activity-time"},mh={class:"goals-card"},yh={class:"goals-list"},bh={class:"goal-progress"},Ch={viewBox:"0 0 36 36",class:"goal-circle"},wh=["stroke-dasharray"],_h={x:"18",y:"20.35",class:"goal-percentage"},Sh={class:"goal-details"},Mh={class:"goal-title"},xh={class:"goal-description"},kh={key:1,class:"yearly-view"},Th={class:"filters-row"},Ah={class:"filter-group"},Oh=["value"],Eh={class:"filter-group"},Dh={class:"filter-group"},Ph={class:"year-header"},Lh={class:"year-stats"},qh={class:"year-stat"},Rh={class:"stat-value"},Ih={class:"year-stat"},Fh={class:"stat-value"},jh={class:"year-stat"},Nh={class:"stat-value"},Bh={class:"year-progress"},Yh={class:"progress-bar year-progress-bar"},Gh={class:"modules-grid"},Vh=["onClick"],$h={class:"module-details"},zh={class:"module-name"},Hh={key:0,class:"enrolled-badge"},Wh={class:"module-info"},Uh=["onClick"],Kh={key:2,class:"insights-view"},Jh={class:"insights-card"},Xh={class:"insight-metrics"},Zh={class:"metric-item"},Qh={class:"metric-comparison"},ef={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},tf={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},rf={class:"metric-item"},sf={class:"metric-value"},nf={class:"metric-item"},of={class:"metric-value"},af={class:"metric-comparison"},lf={class:"metric-item"},df={class:"metric-value"},uf={class:"insights-charts"},cf={class:"chart-card large-chart"},hf={class:"chart-container performance-chart"},ff={class:"small-charts"},pf={class:"chart-card"},gf={class:"chart-container strengths-chart"},vf={class:"chart-card"},mf={class:"chart-container distribution-chart"},yf={class:"insights-tips"},bf={class:"tips-container"},Cf={class:"tip-content"},wf={class:"insights-prediction"},_f={class:"prediction-scenarios"},Sf={class:"scenario-card best"},Mf={class:"scenario-grade"},xf={class:"scenario-card expected"},kf={class:"scenario-grade"},Tf={class:"scenario-card minimum"},Af={class:"scenario-grade"},Of={key:3,class:"module-detail-dialog"},Ef={class:"dialog-content"},Df={class:"dialog-header"},Pf={class:"module-tabs"},Lf={key:0},qf={class:"module-info-grid"},Rf={class:"info-item"},If={class:"info-value"},Ff={class:"info-item"},jf={class:"info-value"},Nf={class:"info-item"},Bf={class:"info-value"},Yf={class:"info-item"},Gf={class:"info-value"},Vf={class:"info-item"},$f={class:"info-item"},zf={class:"info-value"},Hf={class:"assessments-table"},Wf={class:"table-cell"},Uf={class:"table-cell"},Kf={class:"table-cell"},Jf={class:"module-charts"},Xf={class:"module-chart"},Zf={key:1},Qf={class:"dialog-actions"},ep={key:4,class:"module-form-dialog"},tp={class:"dialog-content"},rp={class:"dialog-header"},sp={class:"form-grid"},ip={class:"form-group"},np={class:"module-name-container"},op={key:0,class:"suggestions-loading"},ap={key:1,class:"module-suggestions"},lp=["onClick"],dp={class:"suggestion-main"},up={class:"suggestion-name"},cp={class:"suggestion-code"},hp={key:0,class:"suggestion-details"},fp={class:"form-group"},pp={class:"form-group"},gp={class:"form-group"},vp=["value"],mp={class:"form-group"},yp=["value"],bp={class:"form-group enrollment-checkbox"},Cp={class:"checkbox-container"},wp={class:"assessments-form"},_p={class:"assessment-inputs"},Sp=["onUpdate:modelValue"],Mp={class:"assessment-numbers"},xp=["onUpdate:modelValue"],kp=["onUpdate:modelValue","disabled"],Tp={key:0,class:"assessment-status"},Ap={class:"checkbox-container"},Op=["onUpdate:modelValue"],Ep=["onClick"],Dp={class:"dialog-actions"},Pp=["disabled"],Lp={key:0,class:"dashboard-sidebar"};function qp(t,e,r,s,i,n){const o=J("DashboardNavBar"),l=J("GradeDistributionChart"),d=J("CssYearComparisonChart"),u=J("PerformanceChart"),h=J("StrengthsRadarChart"),f=J("ModuleComparisonChart"),p=J("ModuleAnalyticsComponent"),m=J("CalendarSidebar"),y=ra("tooltip");return v(),g("div",{class:S(["dashboard",{"dark-mode":i.darkMode}])},[z(o,{userName:i.userProfile.firstName||"User",userEmail:i.userProfile.email||"user@example.com",userAvatar:i.userProfile.avatar,isMobile:i.isMobile,onLogout:n.handleLogout},null,8,["userName","userEmail","userAvatar","isMobile","onLogout"]),a("div",Vu,[i.sidebarVisible?q("",!0):(v(),g("button",{key:0,onClick:e[0]||(e[0]=(...c)=>n.toggleSidebar&&n.toggleSidebar(...c)),class:"sidebar-toggle sidebar-show-button","aria-label":"Show sidebar"},e[60]||(e[60]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M15 18l-6-6 6-6"})],-1),a("span",{class:"toggle-text"},"Calendar",-1)]))),a("div",{class:S(["dashboard-main-content",{expanded:!i.sidebarVisible}])},[a("div",$u,[e[61]||(e[61]=a("h1",null,"My Dashboard",-1)),a("div",zu,[a("button",{class:S({active:i.activeView==="overview"}),onClick:e[1]||(e[1]=c=>i.activeView="overview")},"Overview",2),a("button",{class:S({active:i.activeView==="yearly"}),onClick:e[2]||(e[2]=c=>i.activeView="yearly")},"Yearly View",2),a("button",{class:S({active:i.activeView==="insights"}),onClick:e[3]||(e[3]=c=>i.activeView="insights")},"Insights",2)])]),i.notLoggedIn?(v(),g("div",Hu,e[62]||(e[62]=[ne('<div class="auth-card" data-v-c3fd6c3e><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c3fd6c3e><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-c3fd6c3e></path><circle cx="12" cy="7" r="4" data-v-c3fd6c3e></circle></svg><h2 data-v-c3fd6c3e>Welcome to GradeGuard</h2><p data-v-c3fd6c3e>Please sign in to access your personalized dashboard.</p><a href="/login" class="login-button" data-v-c3fd6c3e>Go to Login</a></div>',1)]))):i.showSetupWizard?(v(),g("div",Wu,[a("div",Uu,[a("div",Ku,[e[76]||(e[76]=a("div",{class:"wizard-header"},[a("div",{class:"step-indicator"},"Step 1 of 3"),a("h2",null,"Welcome! Let's set up your preferences"),a("p",null,"Please select an option for each question to personalize your experience.")],-1)),a("div",Ju,[e[66]||(e[66]=a("label",null,"What is your current academic level?",-1)),a("div",Xu,[a("button",{class:S(["select-btn",{active:i.userConfig.academicLevel==="Undergraduate"}]),onClick:e[4]||(e[4]=c=>i.userConfig.academicLevel="Undergraduate")},e[63]||(e[63]=[a("span",{class:"btn-icon"},"🎓",-1),a("span",{class:"btn-text"},"Undergraduate",-1)]),2),a("button",{class:S(["select-btn",{active:i.userConfig.academicLevel==="Postgraduate (Masters)"}]),onClick:e[5]||(e[5]=c=>i.userConfig.academicLevel="Postgraduate (Masters)")},e[64]||(e[64]=[a("span",{class:"btn-icon"},"🧑‍🎓",-1),a("span",{class:"btn-text"},"Masters",-1)]),2),a("button",{class:S(["select-btn",{active:i.userConfig.academicLevel==="Postgraduate (PhD)"}]),onClick:e[6]||(e[6]=c=>i.userConfig.academicLevel="Postgraduate (PhD)")},e[65]||(e[65]=[a("span",{class:"btn-icon"},"👨‍🎓",-1),a("span",{class:"btn-text"},"PhD",-1)]),2)])]),a("div",Zu,[e[69]||(e[69]=a("label",null,"Are you full-time or part-time?",-1)),a("div",Qu,[a("button",{class:S(["select-btn",{active:i.userConfig.enrollmentType==="Full time"}]),onClick:e[7]||(e[7]=c=>i.userConfig.enrollmentType="Full time")},e[67]||(e[67]=[a("span",{class:"btn-icon"},"✅",-1),a("span",{class:"btn-text"},"Full time",-1)]),2),a("button",{class:S(["select-btn",{active:i.userConfig.enrollmentType==="Part time"}]),onClick:e[8]||(e[8]=c=>i.userConfig.enrollmentType="Part time")},e[68]||(e[68]=[a("span",{class:"btn-icon"},"⏳",-1),a("span",{class:"btn-text"},"Part time",-1)]),2)])]),a("div",ec,[e[74]||(e[74]=a("label",null,"What describes your study preferences best?",-1)),a("div",tc,[a("button",{class:S(["select-btn",{active:i.userConfig.studyPreference==="Mornings are best"}]),onClick:e[9]||(e[9]=c=>i.userConfig.studyPreference="Mornings are best")},e[70]||(e[70]=[a("span",{class:"btn-icon"},"🌅",-1),a("span",{class:"btn-text"},"Mornings",-1)]),2),a("button",{class:S(["select-btn",{active:i.userConfig.studyPreference==="Afternoons are best"}]),onClick:e[10]||(e[10]=c=>i.userConfig.studyPreference="Afternoons are best")},e[71]||(e[71]=[a("span",{class:"btn-icon"},"☀️",-1),a("span",{class:"btn-text"},"Afternoons",-1)]),2),a("button",{class:S(["select-btn",{active:i.userConfig.studyPreference==="Evenings are best"}]),onClick:e[11]||(e[11]=c=>i.userConfig.studyPreference="Evenings are best")},e[72]||(e[72]=[a("span",{class:"btn-icon"},"🌆",-1),a("span",{class:"btn-text"},"Evenings",-1)]),2),a("button",{class:S(["select-btn",{active:i.userConfig.studyPreference==="Late night"}]),onClick:e[12]||(e[12]=c=>i.userConfig.studyPreference="Late night")},e[73]||(e[73]=[a("span",{class:"btn-icon"},"🌙",-1),a("span",{class:"btn-text"},"Late Night",-1)]),2)])]),a("button",{onClick:e[13]||(e[13]=(...c)=>n.saveUserConfig&&n.saveUserConfig(...c)),class:"save-button"},e[75]||(e[75]=[a("span",null,"Continue to Step 2",-1),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M5 12h14"}),a("path",{d:"M12 5l7 7-7 7"})],-1)]))])])])):i.showNextConfig?(v(),g("div",rc,[a("div",sc,[a("div",ic,[e[83]||(e[83]=a("div",{class:"wizard-header"},[a("div",{class:"step-indicator"},"Step 2 of 3"),a("h2",null,"Degree Configuration"),a("p",null,"Please provide the details for your degree program.")],-1)),a("div",nc,[e[77]||(e[77]=a("label",null,"What year are you currently in?",-1)),a("div",oc,[(v(),g(j,null,N(5,c=>a("button",{class:S(["select-btn",{active:i.nextConfig.currentYear===c}]),key:c,onClick:w=>i.nextConfig.currentYear=c}," Year "+b(c),11,ac)),64)),a("button",{class:S(["select-btn",{active:i.nextConfig.currentYear==="other"}]),onClick:e[14]||(e[14]=c=>i.nextConfig.currentYear="other")}," Other ",2)]),i.nextConfig.currentYear==="other"?D((v(),g("input",{key:0,type:"number",min:"1",placeholder:"Enter your current year","onUpdate:modelValue":e[15]||(e[15]=c=>i.nextConfig.customCurrentYear=c)},null,512)),[[G,i.nextConfig.customCurrentYear,void 0,{number:!0}]]):q("",!0)]),a("div",lc,[e[78]||(e[78]=a("label",null,"How many years in your degree program?",-1)),a("div",dc,[(v(),g(j,null,N(5,c=>a("button",{class:S(["select-btn",{active:i.nextConfig.numYears===c}]),key:`years-${c}`,onClick:w=>i.nextConfig.numYears=c},b(c),11,uc)),64)),a("button",{class:S(["select-btn",{active:i.nextConfig.numYears==="other"}]),onClick:e[16]||(e[16]=c=>i.nextConfig.numYears="other")}," Other ",2)]),i.nextConfig.numYears==="other"?D((v(),g("input",{key:0,type:"number",min:"1",placeholder:"Enter number of years","onUpdate:modelValue":e[17]||(e[17]=c=>i.nextConfig.customYears=c)},null,512)),[[G,i.nextConfig.customYears,void 0,{number:!0}]]):q("",!0)]),a("div",cc,[e[79]||(e[79]=a("label",null,"How many semesters in one academic year?",-1)),a("div",hc,[(v(),g(j,null,N(4,c=>a("button",{class:S(["select-btn",{active:i.nextConfig.semesters===c}]),key:`semesters-${c}`,onClick:w=>i.nextConfig.semesters=c},b(c),11,fc)),64)),a("button",{class:S(["select-btn",{active:i.nextConfig.semesters==="other"}]),onClick:e[18]||(e[18]=c=>i.nextConfig.semesters="other")}," Other ",2)]),i.nextConfig.semesters==="other"?D((v(),g("input",{key:0,type:"number",min:"1",placeholder:"Enter number of semesters","onUpdate:modelValue":e[19]||(e[19]=c=>i.nextConfig.customSemesters=c)},null,512)),[[G,i.nextConfig.customSemesters,void 0,{number:!0}]]):q("",!0)]),a("div",pc,[e[80]||(e[80]=a("label",null,"How many credits per academic year?",-1)),a("div",gc,[a("button",{class:S(["select-btn",{active:i.nextConfig.credits===30}]),onClick:e[20]||(e[20]=c=>i.nextConfig.credits=30)}," 30 ",2),a("button",{class:S(["select-btn",{active:i.nextConfig.credits===60}]),onClick:e[21]||(e[21]=c=>i.nextConfig.credits=60)}," 60 ",2),a("button",{class:S(["select-btn",{active:i.nextConfig.credits===90}]),onClick:e[22]||(e[22]=c=>i.nextConfig.credits=90)}," 90 ",2),a("button",{class:S(["select-btn",{active:i.nextConfig.credits===120}]),onClick:e[23]||(e[23]=c=>i.nextConfig.credits=120)}," 120 ",2),a("button",{class:S(["select-btn",{active:i.nextConfig.credits==="other"}]),onClick:e[24]||(e[24]=c=>i.nextConfig.credits="other")}," Other ",2)]),i.nextConfig.credits==="other"?D((v(),g("input",{key:0,type:"number",min:"1",placeholder:"Enter number of credits","onUpdate:modelValue":e[25]||(e[25]=c=>i.nextConfig.customCredits=c)},null,512)),[[G,i.nextConfig.customCredits,void 0,{number:!0}]]):q("",!0)]),a("div",vc,[a("button",{class:"back-button",onClick:e[26]||(e[26]=(...c)=>n.goBackToStep1&&n.goBackToStep1(...c))},e[81]||(e[81]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M19 12H5"}),a("path",{d:"M12 19l-7-7 7-7"})],-1),a("span",null,"Back",-1)])),a("button",{class:"save-button",onClick:e[27]||(e[27]=(...c)=>n.goToYearWeights&&n.goToYearWeights(...c))},e[82]||(e[82]=[a("span",null,"Continue to Year Weights",-1),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M5 12h14"}),a("path",{d:"M12 5l7 7-7 7"})],-1)]))])])])])):i.showYearWeights?(v(),g("div",mc,[a("div",yc,[a("div",bc,[e[94]||(e[94]=a("div",{class:"wizard-header"},[a("div",{class:"step-indicator"},"Step 3 of 3"),a("h2",null,"Year Weightings"),a("p",null,"Please specify how much each year contributes to your final grade.")],-1)),a("div",Cc,[e[85]||(e[85]=a("div",{class:"year-weights-header"},[a("div",{class:"year-column"},"Year"),a("div",{class:"weight-column"},"Weight (%)"),a("div",{class:"active-column"},"Active")],-1)),(v(!0),g(j,null,N(i.yearWeights,(c,w)=>(v(),g("div",{key:w,class:"year-weight-row"},[a("div",wc,"Year "+b(w+1),1),a("div",_c,[D(a("input",{type:"number","onUpdate:modelValue":C=>c.weight=C,min:"0",max:"100",onInput:e[28]||(e[28]=(...C)=>n.validateYearWeights&&n.validateYearWeights(...C)),disabled:!c.active},null,40,Sc),[[G,c.weight,void 0,{number:!0}]])]),a("div",Mc,[a("label",xc,[D(a("input",{type:"checkbox","onUpdate:modelValue":C=>c.active=C,onChange:e[29]||(e[29]=(...C)=>n.validateYearWeights&&n.validateYearWeights(...C))},null,40,kc),[[Ve,c.active]]),e[84]||(e[84]=a("span",{class:"toggle-switch"},null,-1))])])]))),128)),a("div",{class:S(["total-weight",{"weight-error":n.totalWeight!==100&&n.hasActiveYears}])}," Total Weight: "+b(n.totalWeight)+"% "+b(n.totalWeight!==100&&n.hasActiveYears?"(Should be 100%)":""),3)]),a("div",Tc,[e[91]||(e[91]=a("label",null,"What is your target grade at the end of your degree?",-1)),a("div",Ac,[a("button",{class:S(["select-btn",{active:i.targetGrade===70}]),onClick:e[30]||(e[30]=c=>i.targetGrade=70)},e[86]||(e[86]=[a("span",{class:"btn-text"},"First Class (70%+)",-1)]),2),a("button",{class:S(["select-btn",{active:i.targetGrade===60}]),onClick:e[31]||(e[31]=c=>i.targetGrade=60)},e[87]||(e[87]=[a("span",{class:"btn-text"},"2:1 (60-69%)",-1)]),2),a("button",{class:S(["select-btn",{active:i.targetGrade===50}]),onClick:e[32]||(e[32]=c=>i.targetGrade=50)},e[88]||(e[88]=[a("span",{class:"btn-text"},"2:2 (50-59%)",-1)]),2),a("button",{class:S(["select-btn",{active:i.targetGrade===40}]),onClick:e[33]||(e[33]=c=>i.targetGrade=40)},e[89]||(e[89]=[a("span",{class:"btn-text"},"Third (40-49%)",-1)]),2),a("button",{class:S(["select-btn",{active:i.targetGrade==="custom"}]),onClick:e[34]||(e[34]=c=>i.targetGrade="custom")},e[90]||(e[90]=[a("span",{class:"btn-text"},"Custom",-1)]),2)]),i.targetGrade==="custom"?D((v(),g("input",{key:0,type:"number",min:"0",max:"100",placeholder:"Enter your target percentage","onUpdate:modelValue":e[35]||(e[35]=c=>i.customTargetGrade=c)},null,512)),[[G,i.customTargetGrade,void 0,{number:!0}]]):q("",!0)]),a("div",Oc,[a("button",{class:"back-button",onClick:e[36]||(e[36]=(...c)=>n.goBackToDegreeConfig&&n.goBackToDegreeConfig(...c))},e[92]||(e[92]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M19 12H5"}),a("path",{d:"M12 19l-7-7 7-7"})],-1),a("span",null,"Back",-1)])),a("button",{class:"save-button",onClick:e[37]||(e[37]=(...c)=>n.completeSetup&&n.completeSetup(...c)),disabled:n.totalWeight!==100&&n.hasActiveYears},e[93]||(e[93]=[a("span",null,"Complete Setup",-1),a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M20 6L9 17l-5-5"})],-1)]),8,Ec)])])])])):(v(),g("div",Dc,[i.activeView==="overview"?(v(),g("div",Pc,[a("div",Lc,[a("div",qc,[e[95]||(e[95]=a("h2",null,"Overall Performance",-1)),a("div",Rc,[a("button",{class:S({active:i.selectedTimeframe==="all"}),onClick:e[38]||(e[38]=c=>n.updateTimeframe("all"))},"All Years",2),(v(!0),g(j,null,N(i.calculatorConfig.years.filter(c=>c.active),c=>(v(),g("button",{key:c.year,class:S({active:i.selectedTimeframe===c.year.replace("Year ","")}),onClick:w=>n.updateTimeframe(c.year.replace("Year ",""))},b(c.year),11,Ic))),128))])]),a("div",Fc,[a("div",jc,[a("div",{class:"grade-circle",style:ae({"--percent":n.overallAverage/100})},[a("div",Nc,b(n.overallAverage)+"%",1),e[96]||(e[96]=a("div",{class:"grade-label"},"Average",-1))],4),a("div",Bc,[a("div",Yc,[e[97]||(e[97]=a("div",{class:"stats-label"},"Year Average",-1)),a("div",Gc,b(n.yearlyAverage)+"%",1)]),a("div",Vc,[e[98]||(e[98]=a("div",{class:"stats-label"},"Completed",-1)),a("div",$c,b(n.completedCredits)+"/"+b(n.totalCredits)+" Credits",1)]),a("div",zc,[e[99]||(e[99]=a("div",{class:"stats-label"},"Top Module",-1)),a("div",Hc,b(n.topModule.name)+" ("+b(n.topModule.score)+"%)",1)])])]),a("div",Wc,[e[103]||(e[103]=ne('<div class="progress-header" data-v-c3fd6c3e><h3 data-v-c3fd6c3e>Progress Breakdown</h3><div class="progress-legend" data-v-c3fd6c3e><div class="legend-item" data-v-c3fd6c3e><div class="legend-color" style="background-color:#2ecc71;" data-v-c3fd6c3e></div><div data-v-c3fd6c3e>Achieved</div></div><div class="legend-item" data-v-c3fd6c3e><div class="legend-color" style="background-color:#3498db;" data-v-c3fd6c3e></div><div data-v-c3fd6c3e>Lost</div></div><div class="legend-item" data-v-c3fd6c3e><div class="legend-color" style="background-color:#ecf0f1;" data-v-c3fd6c3e></div><div data-v-c3fd6c3e>Remaining</div></div></div></div>',1)),a("div",Uc,[a("div",{class:"progress-segment achieved",style:ae({width:n.achievedPercentage+"%"})},b(n.achievedPercentage)+"% ",5),a("div",{class:"progress-segment lost",style:ae({width:n.lostPercentage+"%"})},b(n.lostPercentage)+"% ",5),a("div",{class:"progress-segment remaining",style:ae({width:n.remainingPercentage+"%"})},b(n.remainingPercentage)+"% ",5)]),a("div",Kc,[a("div",Jc,[a("div",Xc,b(n.targetHighGrade)+"%",1),e[100]||(e[100]=a("div",{class:"target-label"},"Needed for First Class",-1))]),a("div",Zc,[a("div",Qc,b(n.targetMediumGrade)+"%",1),e[101]||(e[101]=a("div",{class:"target-label"},"Needed for 2:1",-1))]),a("div",eh,[a("div",th,b(n.targetLowGrade)+"%",1),e[102]||(e[102]=a("div",{class:"target-label"},"Needed for 2:2",-1))])])])])]),a("div",rh,[a("div",sh,[e[104]||(e[104]=a("h3",null,"Grade Distribution",-1)),a("div",ih,[z(l,{moduleData:n.completedModuleData},null,8,["moduleData"])])]),a("div",nh,[e[105]||(e[105]=a("h3",null,"Year Comparison",-1)),a("div",oh,[z(d,{yearData:i.yearData,ref:"yearChart"},null,8,["yearData"])])])]),a("div",ah,[a("div",lh,[e[109]||(e[109]=a("h3",null,"Recent Activity",-1)),a("div",dh,[(v(!0),g(j,null,N(i.recentActivities,(c,w)=>(v(),g("div",{key:w,class:"activity-item"},[a("div",{class:S(["activity-icon",c.type])},[c.type==="grade"?(v(),g("svg",uh,e[106]||(e[106]=[a("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},null,-1),a("polyline",{points:"22 4 12 14.01 9 11.01"},null,-1)]))):c.type==="submission"?(v(),g("svg",ch,e[107]||(e[107]=[a("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},null,-1),a("polyline",{points:"14 2 14 8 20 8"},null,-1),a("path",{d:"M12 18v-6"},null,-1),a("path",{d:"M8 15h8"},null,-1)]))):(v(),g("svg",hh,e[108]||(e[108]=[a("circle",{cx:"12",cy:"12",r:"10"},null,-1),a("line",{x1:"12",y1:"8",x2:"12",y2:"12"},null,-1),a("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"},null,-1)])))],2),a("div",fh,[a("div",ph,b(c.title),1),a("div",gh,b(c.description),1)]),a("div",vh,b(c.time),1)]))),128))])]),a("div",mh,[e[111]||(e[111]=a("h3",null,"Target Goals",-1)),a("div",yh,[(v(!0),g(j,null,N(i.goals,(c,w)=>(v(),g("div",{key:w,class:"goal-item"},[a("div",bh,[(v(),g("svg",Ch,[e[110]||(e[110]=a("path",{class:"goal-circle-bg",d:`M18 2.0845\r
                            a 15.9155 15.9155 0 0 1 0 31.831\r
                            a 15.9155 15.9155 0 0 1 0 -31.831`},null,-1)),a("path",{class:"goal-circle-progress","stroke-dasharray":`${c.progress}, 100`,d:`M18 2.0845\r
                            a 15.9155 15.9155 0 0 1 0 31.831\r
                            a 15.9155 15.9155 0 0 1 0 -31.831`},null,8,wh),a("text",_h,b(c.progress)+"%",1)]))]),a("div",Sh,[a("div",Mh,b(c.title),1),a("div",xh,b(c.description),1)])]))),128))])])])])):i.activeView==="yearly"?(v(),g("div",kh,[a("div",Th,[a("div",Ah,[e[113]||(e[113]=a("label",{for:"yearFilter"},"Year:",-1)),D(a("select",{id:"yearFilter","onUpdate:modelValue":e[39]||(e[39]=c=>i.selectedYear=c)},[e[112]||(e[112]=a("option",{value:"all"},"All Years",-1)),(v(!0),g(j,null,N(i.calculatorConfig.years,c=>(v(),g("option",{key:c.year,value:c.year},b(c.year),9,Oh))),128))],512),[[Ee,i.selectedYear]])]),a("div",Eh,[e[115]||(e[115]=a("label",{for:"sortBy"},"Sort By:",-1)),D(a("select",{id:"sortBy","onUpdate:modelValue":e[40]||(e[40]=c=>i.sortMethod=c)},e[114]||(e[114]=[ne('<option value="name" data-v-c3fd6c3e>Module Name</option><option value="semester" data-v-c3fd6c3e>Semester</option><option value="score-asc" data-v-c3fd6c3e>Score (Low to High)</option><option value="score-desc" data-v-c3fd6c3e>Score (High to Low)</option><option value="credits" data-v-c3fd6c3e>Credits</option><option value="status" data-v-c3fd6c3e>Enrollment Status</option>',6)]),512),[[Ee,i.sortMethod]])]),a("div",Dh,[a("button",{onClick:e[41]||(e[41]=(...c)=>n.exportGrades&&n.exportGrades(...c)),class:"export-button"},e[116]||(e[116]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a("polyline",{points:"7 10 12 15 17 10"}),a("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),H(" Export Grades ")]))])]),(v(!0),g(j,null,N(n.filteredYears,(c,w)=>(v(),g("div",{key:c.year,class:"year-card"},[a("div",Ph,[a("h2",null,b(c.year),1),a("div",Lh,[a("div",qh,[a("div",Rh,b(c.average)+"%",1),e[117]||(e[117]=a("div",{class:"stat-label"},"Average",-1))]),a("div",Ih,[a("div",Fh,b(c.completedCredits)+"/"+b(c.totalCredits),1),e[118]||(e[118]=a("div",{class:"stat-label"},"Credits",-1))]),a("div",jh,[a("div",Nh,b(c.weight)+"%",1),e[119]||(e[119]=a("div",{class:"stat-label"},"Weight",-1))])])]),a("div",Bh,[a("div",Yh,[a("div",{class:"progress-value",style:ae({width:c.average+"%"})},b(c.average)+"% ",5)])]),a("div",Gh,[(v(!0),g(j,null,N(c.modules,(C,_)=>(v(),g("div",{key:_,class:"module-card",onClick:O=>n.viewModuleDetails(C)},[a("div",{class:S(["module-icon",n.getModuleIconClass(C.score)])},b(C.code?C.code.charAt(0):C.name.charAt(0)),3),a("div",$h,[a("div",zh,[H(b(C.name)+" ",1),C.isCurrentlyEnrolled?(v(),g("span",Hh,"Current")):q("",!0)]),a("div",Wh,b(C.credits)+" credits | "+b(C.semester===0?"Full Year":`Semester ${C.semester||1}`),1)]),a("div",{class:S(["module-score",n.getScoreClass(C.score)])},b(C.isCurrentlyEnrolled?"In Progress":`${C.score}%`),3)],8,Vh))),128))]),a("button",{onClick:C=>n.showAddModuleForm(c),class:"add-module-button"},e[120]||(e[120]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),a("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),H(" Add Module ")]),8,Uh)]))),128))])):i.activeView==="insights"?(v(),g("div",Kh,[a("div",Jh,[e[129]||(e[129]=a("h2",null,"Performance Insights",-1)),a("div",Xh,[D((v(),g("div",Zh,[a("div",{class:S(["metric-value",n.getComparisonClass(n.averageVsTarget)])},b(n.overallAverage)+"%",3),e[123]||(e[123]=a("div",{class:"metric-label"},"Current Average",-1)),a("div",Qh,[a("span",{class:S(n.getComparisonClass(n.averageVsTarget))},[n.averageVsTarget>0?(v(),g("svg",ef,e[121]||(e[121]=[a("polyline",{points:"18 15 12 9 6 15"},null,-1)]))):n.averageVsTarget<0?(v(),g("svg",tf,e[122]||(e[122]=[a("polyline",{points:"6 9 12 15 18 9"},null,-1)]))):q("",!0),H(" "+b(Math.abs(n.averageVsTarget))+"% "+b(n.averageVsTarget>=0?"above":"below")+" target ",1)],2)])])),[[y,"This compares your current average (excluding ongoing modules) with your target grade"]]),D((v(),g("div",rf,[a("div",sf,b(n.predictionAccuracy)+"%",1),e[124]||(e[124]=a("div",{class:"metric-label"},"Prediction Accuracy",-1)),e[125]||(e[125]=a("div",{class:"metric-comparison"}," Based on past performance patterns ",-1))])),[[y,"Calculated based on how accurately your previous performance predicted your next results. Higher accuracy means more reliable future predictions."]]),D((v(),g("div",nf,[a("div",of,b(n.consistencyScore)+"%",1),e[126]||(e[126]=a("div",{class:"metric-label"},"Consistency Score",-1)),a("div",af," Variance: "+b(n.performanceVariance)+"% ",1)])),[[y,"Measures how consistent your scores are across all modules. Higher consistency (closer to 100%) means your performance is stable, while lower scores indicate variability. Variance shows the difference between your highest and lowest scores."]]),D((v(),g("div",lf,[a("div",df,b(n.improvementRate)+"%",1),e[127]||(e[127]=a("div",{class:"metric-label"},"Improvement Rate",-1)),e[128]||(e[128]=a("div",{class:"metric-comparison"}," Over the last semester ",-1))])),[[y,"Shows how much your performance has improved over time. Calculated as the percentage change between your earliest and latest completed modules."]])])]),a("div",uf,[a("div",cf,[e[130]||(e[130]=a("h3",null,"Performance Trends",-1)),a("div",hf,[z(u,{performanceData:i.performanceData},null,8,["performanceData"])])]),a("div",ff,[a("div",pf,[e[131]||(e[131]=a("h3",null,"Subject Strengths",-1)),a("div",gf,[z(h,{strengthsData:i.strengthsData},null,8,["strengthsData"])])]),a("div",vf,[e[132]||(e[132]=a("h3",null,"Grade Distribution",-1)),a("div",mf,[z(l,{scoreDistribution:i.scoreDistribution},null,8,["scoreDistribution"])])])])]),a("div",yf,[e[134]||(e[134]=a("h2",null,"Personalized Tips",-1)),a("div",bf,[(v(!0),g(j,null,N(i.personalizedTips,(c,w)=>(v(),g("div",{key:w,class:"tip-card"},[e[133]||(e[133]=ne('<div class="tip-icon" data-v-c3fd6c3e><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c3fd6c3e><circle cx="12" cy="12" r="10" data-v-c3fd6c3e></circle><path d="M12 8v4" data-v-c3fd6c3e></path><path d="M12 16h.01" data-v-c3fd6c3e></path></svg></div>',1)),a("div",Cf,[a("h4",null,b(c.title),1),a("p",null,b(c.description),1)])]))),128))])]),a("div",wf,[e[141]||(e[141]=a("h2",null,"Predictive Analysis",-1)),a("div",_f,[D((v(),g("div",Sf,[e[135]||(e[135]=a("h3",null,"Best Case",-1)),a("div",Mf,b(n.bestCaseGrade)+"%",1),e[136]||(e[136]=a("p",null,"Based on your top performance in similar modules",-1))])),[[y,"This scenario represents the best possible outcome based on your top performances in previous modules."]]),D((v(),g("div",xf,[e[137]||(e[137]=a("h3",null,"Expected",-1)),a("div",kf,b(n.expectedGrade)+"%",1),e[138]||(e[138]=a("p",null,"Based on your average performance pattern",-1))])),[[y,"This represents the most likely outcome based on your average performance and current trend."]]),D((v(),g("div",Tf,[e[139]||(e[139]=a("h3",null,"Minimum Target",-1)),a("div",Af,b(n.minimumGrade)+"%",1),e[140]||(e[140]=a("p",null,"To maintain your current classification",-1))])),[[y,"This is the minimum grade needed to maintain your current degree classification."]])])])])):q("",!0),i.showModuleDetail?(v(),g("div",Of,[a("div",Ef,[a("div",Df,[a("h2",null,b(i.selectedModule.name),1),a("button",{class:"close-dialog",onClick:e[42]||(e[42]=c=>i.showModuleDetail=!1)},e[142]||(e[142]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),a("div",Pf,[a("button",{class:S({active:i.activeModuleTab==="details"}),onClick:e[43]||(e[43]=c=>t.onModuleTabChange("details"))}," Module Details ",2),a("button",{class:S({active:i.activeModuleTab==="analytics"}),onClick:e[44]||(e[44]=c=>t.onModuleTabChange("analytics"))}," Analytics ",2)]),i.activeModuleTab==="details"?(v(),g("div",Lf,[a("div",qf,[a("div",Rf,[e[143]||(e[143]=a("div",{class:"info-label"},"Module Code",-1)),a("div",If,b(i.selectedModule.code||"N/A"),1)]),a("div",Ff,[e[144]||(e[144]=a("div",{class:"info-label"},"Credits",-1)),a("div",jf,b(i.selectedModule.credits),1)]),a("div",Nf,[e[145]||(e[145]=a("div",{class:"info-label"},"Year",-1)),a("div",Bf,b(i.selectedModule.year),1)]),a("div",Yf,[e[146]||(e[146]=a("div",{class:"info-label"},"Semester",-1)),a("div",Gf,b(i.selectedModule.semester===0?"Full Academic Year":`Semester ${i.selectedModule.semester||1}`),1)]),a("div",Vf,[e[147]||(e[147]=a("div",{class:"info-label"},"Overall Score",-1)),a("div",{class:S(["info-value score",n.getScoreClass(i.selectedModule.score)])},b(i.selectedModule.isCurrentlyEnrolled?"In Progress":`${i.selectedModule.score}%`),3)]),a("div",$f,[e[148]||(e[148]=a("div",{class:"info-label"},"Status",-1)),a("div",zf,[a("span",{class:S(["enrollment-status",{active:i.selectedModule.isCurrentlyEnrolled}])},b(i.selectedModule.isCurrentlyEnrolled?"Currently Enrolled":"Completed"),3)])])]),e[151]||(e[151]=a("h3",null,"Assessment Breakdown",-1)),a("div",Hf,[e[149]||(e[149]=ne('<div class="table-header" data-v-c3fd6c3e><div class="table-cell" data-v-c3fd6c3e>Assessment</div><div class="table-cell" data-v-c3fd6c3e>Weight</div><div class="table-cell" data-v-c3fd6c3e>Your Score</div><div class="table-cell" data-v-c3fd6c3e>Contribution</div></div>',1)),(v(!0),g(j,null,N(i.selectedModule.assessments,(c,w)=>(v(),g("div",{key:w,class:"table-row"},[a("div",Wf,b(c.name),1),a("div",Uf,b(c.weight)+"%",1),a("div",{class:S(["table-cell",n.getScoreClass(c.score)])},b(c.score)+"%",3),a("div",Kf,b((c.score*c.weight/100).toFixed(1))+"%",1)]))),128))]),a("div",Jf,[a("div",Xf,[e[150]||(e[150]=a("h4",null,"Performance vs Class Average",-1)),z(f,{moduleData:i.selectedModule,ref:"comparisonChart"},null,8,["moduleData"])])])])):i.activeModuleTab==="analytics"?(v(),g("div",Zf,[z(p,{moduleId:i.selectedModule.analyticsId||n.getAnalyticsId(i.selectedModule),yourScore:i.selectedModule.isCurrentlyEnrolled?null:i.selectedModule.score},null,8,["moduleId","yourScore"])])):q("",!0),a("div",Qf,[a("button",{class:"edit-button",onClick:e[45]||(e[45]=c=>n.editModule(i.selectedModule))},e[152]||(e[152]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),a("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),H(" Edit Module ")])),a("button",{class:"delete-button",onClick:e[46]||(e[46]=c=>n.deleteModule(i.selectedModule))},e[153]||(e[153]=[ne('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c3fd6c3e><polyline points="3 6 5 6 21 6" data-v-c3fd6c3e></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-v-c3fd6c3e></path><line x1="10" y1="11" x2="10" y2="17" data-v-c3fd6c3e></line><line x1="14" y1="11" x2="14" y2="17" data-v-c3fd6c3e></line></svg> Delete Module ',2)]))])])])):q("",!0),i.showModuleForm?(v(),g("div",ep,[a("div",tp,[a("div",rp,[a("h2",null,b(i.editingModule?"Edit Module":"Add New Module"),1),a("button",{class:"close-dialog",onClick:e[47]||(e[47]=c=>i.showModuleForm=!1)},e[154]||(e[154]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),a("div",sp,[a("div",ip,[e[156]||(e[156]=a("label",{for:"moduleName"},[H("Module Name "),a("span",{class:"required"},"*")],-1)),a("div",np,[D(a("input",{type:"text",id:"moduleName",class:"module-name-input","onUpdate:modelValue":e[48]||(e[48]=c=>i.moduleForm.name=c),placeholder:"e.g. Introduction to Programming",onInput:e[49]||(e[49]=(...c)=>n.fetchModuleSuggestions&&n.fetchModuleSuggestions(...c)),onKeydown:e[50]||(e[50]=(...c)=>n.handleSuggestionKeydown&&n.handleSuggestionKeydown(...c)),autocomplete:"off"},null,544),[[G,i.moduleForm.name]]),i.isLoadingSuggestions?(v(),g("div",op,e[155]||(e[155]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"spinner"},[a("circle",{cx:"12",cy:"12",r:"10"}),a("path",{d:"M12 6v6l4 2"})],-1)]))):q("",!0),i.showSuggestions?(v(),g("div",ap,[(v(!0),g(j,null,N(i.moduleSuggestions,(c,w)=>(v(),g("div",{key:c.code||w,class:S(["suggestion-item",{selected:w===i.selectedSuggestionIndex}]),onClick:C=>n.selectSuggestion(c)},[a("div",dp,[a("div",up,b(c.name),1),a("div",cp,b(c.code),1)]),c.average_score?(v(),g("div",hp," Avg: "+b(c.average_score)+"% | "+b(c.student_counter)+" students ",1)):q("",!0)],10,lp))),128))])):q("",!0)])]),a("div",fp,[e[157]||(e[157]=a("label",{for:"moduleCode"},"Module Code",-1)),D(a("input",{type:"text",id:"moduleCode","onUpdate:modelValue":e[51]||(e[51]=c=>i.moduleForm.code=c),placeholder:"e.g. CS101"},null,512),[[G,i.moduleForm.code]])]),a("div",pp,[e[158]||(e[158]=a("label",{for:"moduleCredits"},[H("Credits "),a("span",{class:"required"},"*")],-1)),D(a("input",{type:"number",id:"moduleCredits","onUpdate:modelValue":e[52]||(e[52]=c=>i.moduleForm.credits=c),min:"0"},null,512),[[G,i.moduleForm.credits,void 0,{number:!0}]])]),a("div",gp,[e[159]||(e[159]=a("label",{for:"moduleYear"},[H("Year "),a("span",{class:"required"},"*")],-1)),D(a("select",{id:"moduleYear","onUpdate:modelValue":e[53]||(e[53]=c=>i.moduleForm.year=c)},[(v(!0),g(j,null,N(i.calculatorConfig.years,c=>(v(),g("option",{key:c.year,value:c.year},b(c.year),9,vp))),128))],512),[[Ee,i.moduleForm.year]])]),a("div",mp,[e[160]||(e[160]=a("label",{for:"moduleSemester"},[H("Semester "),a("span",{class:"required"},"*")],-1)),D(a("select",{id:"moduleSemester","onUpdate:modelValue":e[54]||(e[54]=c=>i.moduleForm.semester=c)},[(v(!0),g(j,null,N(n.semesterOptions,c=>(v(),g("option",{key:c.value,value:c.value},b(c.label),9,yp))),128))],512),[[Ee,i.moduleForm.semester]])]),a("div",bp,[a("label",Cp,[D(a("input",{type:"checkbox",id:"moduleEnrolled","onUpdate:modelValue":e[55]||(e[55]=c=>i.moduleForm.isCurrentlyEnrolled=c)},null,512),[[Ve,i.moduleForm.isCurrentlyEnrolled]]),e[161]||(e[161]=a("span",{class:"checkbox-label"},"Currently Enrolled",-1))]),e[162]||(e[162]=a("div",{class:"field-hint"},"Check this if you are taking this module this semester",-1))])]),e[166]||(e[166]=a("h3",null,"Assessments",-1)),a("div",wp,[(v(!0),g(j,null,N(i.moduleForm.assessments,(c,w)=>(v(),g("div",{key:w,class:"assessment-row"},[a("div",_p,[D(a("input",{type:"text","onUpdate:modelValue":C=>c.name=C,placeholder:"Assessment name"},null,8,Sp),[[G,c.name]]),a("div",Mp,[D(a("input",{type:"number","onUpdate:modelValue":C=>c.weight=C,min:"0",max:"100",placeholder:"Weight %"},null,8,xp),[[G,c.weight,void 0,{number:!0}]]),D(a("input",{type:"number","onUpdate:modelValue":C=>c.score=C,min:"0",max:"100",placeholder:"Score %",disabled:i.moduleForm.isCurrentlyEnrolled&&!c.completed},null,8,kp),[[G,c.score,void 0,{number:!0}]])])]),i.moduleForm.isCurrentlyEnrolled?(v(),g("div",Tp,[a("label",Ap,[D(a("input",{type:"checkbox","onUpdate:modelValue":C=>c.completed=C},null,8,Op),[[Ve,c.completed]]),e[163]||(e[163]=a("span",{class:"checkbox-label"},"Completed",-1))])])):q("",!0),a("button",{class:"remove-assessment",onClick:C=>n.removeAssessment(w)},e[164]||(e[164]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]),8,Ep)]))),128)),a("button",{class:"add-assessment",onClick:e[56]||(e[56]=(...c)=>n.addAssessment&&n.addAssessment(...c))},e[165]||(e[165]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),a("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1),H(" Add Assessment ")]))]),a("div",{class:S(["total-weight-indicator",{"weight-error":n.totalAssessmentWeight!==100}])}," Total Weight: "+b(n.totalAssessmentWeight)+"% "+b(n.totalAssessmentWeight!==100?"(Should be 100%)":""),3),a("div",Dp,[a("button",{class:"cancel-button",onClick:e[57]||(e[57]=c=>i.showModuleForm=!1)},"Cancel"),a("button",{class:"save-button",onClick:e[58]||(e[58]=(...c)=>n.saveModule&&n.saveModule(...c)),disabled:!n.isModuleFormValid},b(i.editingModule?"Update Module":"Add Module"),9,Pp)])])])):q("",!0)]))],2),z(ea,{name:"slide"},{default:Qo(()=>[i.sidebarVisible?(v(),g("aside",Lp,[a("button",{onClick:e[59]||(e[59]=(...c)=>n.toggleSidebar&&n.toggleSidebar(...c)),class:"sidebar-toggle sidebar-hide-button","aria-label":"Hide sidebar"},e[167]||(e[167]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[a("path",{d:"M9 18l6-6-6-6"})],-1),a("span",{class:"toggle-text"},"Hide",-1)])),z(m)])):q("",!0)]),_:1})])],2)}const Yp=pe(Gu,[["render",qp],["__scopeId","data-v-c3fd6c3e"]]);export{Yp as default};
