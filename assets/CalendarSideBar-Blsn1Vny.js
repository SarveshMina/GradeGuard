import{_ as L,p as S,A as b,q as f,R,c as r,a as t,f as c,t as d,d as N,n as C,z as x,e as M,b as F,F as D,j as T,k as _,g,v as y,m as E,B as I,x as j,r as H,o as l}from"./index-BhzZdYAD.js";const U={name:"StudyHubSidebar",props:{events:{type:Array,default:()=>[]},selectedDate:{type:Date,default:null}},data(){return{isCollapsed:!1,currentDate:new Date,internalSelectedDate:new Date,loadingEvents:!1,showEventModal:!1,editMode:!1,eventToEdit:null,submitting:!1,showDeleteConfirmation:!1,eventToDelete:null,deleting:!1,focusMode:!1,pomodoroTimeLeft:25*60,pomodoroState:{isRunning:!1,isPaused:!1,isBreak:!1,completedPomodoros:0,currentSession:0,currentDuration:25*60,streak:0,totalFocusTime:0,activeTask:null},pomodoroSettings:{focusDuration:25,shortBreakDuration:5,longBreakDuration:15,sessionsBeforeLongBreak:4,autoStartBreaks:!0,autoStartPomodoros:!1,playSound:!0,showNotifications:!0},pomodoroTimer:null,showPomodoroSettingsModal:!1,showPomodoroCompletionModal:!1,showAnalytics:!0,showDetailedAnalytics:!1,weeklyStudyData:[{day:"Mon",label:"M",hours:2.5,isToday:!1},{day:"Tue",label:"T",hours:1.8,isToday:!1},{day:"Wed",label:"W",hours:3.2,isToday:!1},{day:"Thu",label:"T",hours:2,isToday:!1},{day:"Fri",label:"F",hours:4.5,isToday:!0},{day:"Sat",label:"S",hours:1,isToday:!1},{day:"Sun",label:"S",hours:.5,isToday:!1}],productivityByTime:[{time:"8-10",level:4},{time:"10-12",level:5},{time:"12-14",level:2},{time:"14-16",level:3},{time:"16-18",level:4},{time:"18-20",level:3},{time:"20-22",level:2}],studyStreak:7,weeklyStudyHours:15.5,focusRating:82,completedSessions:23,maxWeeklyHours:5,eventTagInput:"",showRescheduleModal:!1,sessionToReschedule:null,rescheduleForm:{date:"",startTime:"",endTime:""},rescheduleLoading:!1,availableColors:[{name:"Purple",value:"#7b49ff"},{name:"Blue",value:"#2196f3"},{name:"Green",value:"#4caf50"},{name:"Red",value:"#f44336"},{name:"Orange",value:"#ff9100"},{name:"Pink",value:"#e91e63"},{name:"Teal",value:"#009688"}],eventForm:{title:"",description:"",date:"",type:"general",all_day:!0,start_time:"09:00",end_time:"10:00",color:"#7b49ff",completed:!1,tags:[]},internalEvents:[],activeSchedule:null,upcomingSessions:[],userModules:[],loadingSessions:!1,refreshInterval:null,countdownInterval:null,showSessionFeedbackModal:!1,sessionToComplete:null,sessionFeedback:{productivity:3,difficulty:3,focusRating:3,notes:"",topics:[]},topicInput:"",submitFeedbackLoading:!1,completionStats:{total:0,completed:0,missed:0,rate:0}}},computed:{activeDate(){return this.selectedDate||this.internalSelectedDate},eventsForSelectedDate(){if(!this.activeDate)return[];const s=this.formatDateISO(this.activeDate);return(this.events.length>0?this.events:this.internalEvents).filter(a=>a.date===s)},todayEvents(){const s=this.formatDateISO(new Date);return(this.events.length>0?this.events:this.internalEvents).filter(a=>a.date===s)},calendarAttributes(){const s=[];s.push({dates:this.activeDate,highlight:{color:"purple",fillMode:"light"}});const e=this.events.length>0?this.events:this.internalEvents,a={};e.forEach(i=>{a[i.date]||(a[i.date]=[]),a[i.date].push(i)});const u={};return this.upcomingSessions.forEach(i=>{u[i.date]||(u[i.date]=[]),u[i.date].push(i)}),Object.keys(a).forEach(i=>{const n=a[i],h=n.length,m=n.some(w=>w.completed),v=n.some(w=>!w.completed);let k="#7b49ff";h>3?k="#7b49ff":m&&!v?k="#4caf50":m&&v&&(k="#ff9100"),s.push({dates:new Date(i),dot:{color:k,className:h>3?"event-dot-highlight":""}})}),Object.keys(u).forEach(i=>{const n=u[i],h=n.some(w=>this.isSessionActive(w)),m=n.some(w=>w.status==="completed"),v=n.some(w=>w.status==="missed");let k="#4caf50";h?k="#ff9100":v&&!m?k="#f44336":v&&m?k="#ff9100":m&&(k="#4caf50"),a[i]||s.push({dates:new Date(i),dot:{color:k,className:n.length>3?"event-dot-highlight":""}})}),s}},watch:{selectedDate(s){if(s){const e=this.currentDate.getMonth(),a=s.getMonth(),u=this.currentDate.getFullYear(),i=s.getFullYear();(e!==a||u!==i)&&(this.currentDate=new Date(s))}}},async mounted(){this.onDayClick({date:new Date}),this.events.length===0&&await this.fetchEvents(),await this.fetchActiveSchedule(),await this.fetchUserModules(),await this.fetchUpcomingSessions(),await R(),this.applyCalendarTheme(),window.addEventListener("darkModeChange",this.onDarkModeChange),this.refreshInterval=setInterval(()=>{this.updateSessionStatuses(),this.fetchUpcomingSessions()},6e4),this.countdownInterval=setInterval(()=>{this.$forceUpdate()},1e3);const s=localStorage.getItem("studyHubSidebarCollapsed");s&&(this.isCollapsed=s==="true");const e=localStorage.getItem("pomodoroSettings");e&&(this.pomodoroSettings=JSON.parse(e)),this.pomodoroTimeLeft=this.pomodoroSettings.focusDuration*60,this.pomodoroState.currentDuration=this.pomodoroSettings.focusDuration*60;const a=localStorage.getItem("pomodoroState");if(a){const u=JSON.parse(a),i=new Date().toDateString();u.date===i&&(this.pomodoroState={...u,isRunning:!1,isPaused:!0},this.pomodoroTimeLeft=u.timeLeft||this.pomodoroSettings.focusDuration*60)}this.pomodoroSettings.showNotifications&&"Notification"in window&&Notification.requestPermission(),this.initAnalyticsData()},beforeUnmount(){window.removeEventListener("darkModeChange",this.onDarkModeChange),this.refreshInterval&&clearInterval(this.refreshInterval),this.countdownInterval&&clearInterval(this.countdownInterval),this.pomodoroTimer&&clearInterval(this.pomodoroTimer)},methods:{initAnalyticsData(){const s=new Date().getDay(),e=s===0?6:s-1;this.weeklyStudyData=this.weeklyStudyData.map((a,u)=>({...a,isToday:u===e})),this.maxWeeklyHours=Math.max(...this.weeklyStudyData.map(a=>a.hours))*1.2},toggleSidebar(){this.isCollapsed=!this.isCollapsed,localStorage.setItem("studyHubSidebarCollapsed",this.isCollapsed),this.$emit("toggle-collapse",this.isCollapsed)},toggleFocusMode(){this.focusMode=!this.focusMode,this.focusMode&&!this.pomodoroState.isRunning&&!this.pomodoroState.isPaused&&this.startPomodoroTimer()},toggleAnalytics(){this.showDetailedAnalytics=!this.showDetailedAnalytics},openPomodoroSettings(){this.showPomodoroSettingsModal=!0},closePomodoroSettings(){this.showPomodoroSettingsModal=!1},savePomodoroSettings(){this.pomodoroState.currentDuration=this.pomodoroSettings.focusDuration*60,!this.pomodoroState.isRunning&&!this.pomodoroState.isPaused&&(this.pomodoroTimeLeft=this.pomodoroState.isBreak?this.pomodoroState.currentSession%this.pomodoroSettings.sessionsBeforeLongBreak===0?this.pomodoroSettings.longBreakDuration*60:this.pomodoroSettings.shortBreakDuration*60:this.pomodoroSettings.focusDuration*60),localStorage.setItem("pomodoroSettings",JSON.stringify(this.pomodoroSettings)),this.closePomodoroSettings(),f({type:"success",message:"Pomodoro settings saved!"})},startPomodoroTimer(){this.pomodoroTimer&&clearInterval(this.pomodoroTimer),this.pomodoroState.isRunning=!0,this.pomodoroState.isPaused=!1,this.pomodoroTimer=setInterval(()=>{this.pomodoroTimeLeft>0?(this.pomodoroTimeLeft--,this.pomodoroState.isBreak||this.pomodoroState.totalFocusTime++,this.pomodoroTimeLeft%10===0&&this.savePomodoroState()):this.handlePomodoroCompletion()},1e3)},pausePomodoroTimer(){this.pomodoroTimer&&clearInterval(this.pomodoroTimer),this.pomodoroState.isRunning=!1,this.pomodoroState.isPaused=!0,this.savePomodoroState()},resumePomodoroTimer(){this.startPomodoroTimer()},resetPomodoroTimer(){this.pomodoroTimer&&clearInterval(this.pomodoroTimer),this.pomodoroTimeLeft=this.pomodoroSettings.focusDuration*60,this.pomodoroState.currentDuration=this.pomodoroSettings.focusDuration*60,this.pomodoroState.isRunning=!1,this.pomodoroState.isPaused=!1,this.pomodoroState.isBreak=!1,this.savePomodoroState()},skipPomodoroPhase(){this.handlePomodoroCompletion(!0)},handlePomodoroCompletion(s=!1){if(this.pomodoroTimer&&clearInterval(this.pomodoroTimer),this.pomodoroSettings.playSound&&!s&&this.playCompletionSound(),this.pomodoroSettings.showNotifications&&!s&&this.showCompletionNotification(),this.pomodoroState.isBreak)this.pomodoroState.isBreak=!1,this.pomodoroTimeLeft=this.pomodoroSettings.focusDuration*60,this.pomodoroState.currentDuration=this.pomodoroSettings.focusDuration*60;else{this.pomodoroState.completedPomodoros++,this.pomodoroState.currentSession++,this.pomodoroState.streak++,this.pomodoroState.isBreak=!0;const a=this.pomodoroState.currentSession%this.pomodoroSettings.sessionsBeforeLongBreak===0?this.pomodoroSettings.longBreakDuration*60:this.pomodoroSettings.shortBreakDuration*60;this.pomodoroTimeLeft=a,this.pomodoroState.currentDuration=a}this.pomodoroState.isRunning=!1,this.pomodoroState.isPaused=!1,this.savePomodoroState(),s?(this.pomodoroSettings.autoStartBreaks||this.pomodoroSettings.autoStartPomodoros)&&this.startNextPomodoro():this.showPomodoroCompletionModal=!0},startNextPomodoro(){this.showPomodoroCompletionModal=!1,(this.pomodoroState.isBreak&&this.pomodoroSettings.autoStartPomodoros||!this.pomodoroState.isBreak&&this.pomodoroSettings.autoStartBreaks)&&this.startPomodoroTimer()},startPomodoroForSession(s){this.pomodoroState.activeTask={type:"session",id:s.id,title:s.title,module:this.getModuleName(s.module)},this.pomodoroState.isBreak=!1,this.pomodoroTimeLeft=this.pomodoroSettings.focusDuration*60,this.pomodoroState.currentDuration=this.pomodoroSettings.focusDuration*60,this.startPomodoroTimer(),this.focusMode||this.toggleFocusMode()},startPomodoroForEvent(s){this.pomodoroState.activeTask={type:"event",id:s.id,title:s.title},this.pomodoroState.isBreak=!1,this.pomodoroTimeLeft=this.pomodoroSettings.focusDuration*60,this.pomodoroState.currentDuration=this.pomodoroSettings.focusDuration*60,this.startPomodoroTimer(),this.focusMode||this.toggleFocusMode()},savePomodoroState(){const s={...this.pomodoroState,timeLeft:this.pomodoroTimeLeft,date:new Date().toDateString()};localStorage.setItem("pomodoroState",JSON.stringify(s))},playCompletionSound(){try{const s=new Audio;s.src=this.pomodoroState.isBreak?"/sounds/break-completed.mp3":"/sounds/pomodoro-completed.mp3",s.play()}catch(s){console.error("Error playing sound:",s)}},showCompletionNotification(){if("Notification"in window&&Notification.permission==="granted"){const s=this.pomodoroState.isBreak?"Break Completed!":"Pomodoro Completed!",e=this.pomodoroState.isBreak?"Your break is over. Time to get back to work!":"Good job! Time for a break.";new Notification(s,{body:e,icon:"/icons/pomodoro-icon.png"})}},closePomodoroCompletionModal(){this.showPomodoroCompletionModal=!1},formatPomodoroTime(s){const e=Math.floor(s/60),a=s%60;return`${e}:${a.toString().padStart(2,"0")}`},calculateCircleProgress(s,e){const a=1-s/e;return 2*Math.PI*45*(1-a)},formatMinutes(s){const e=Math.floor(s/60),a=s%60;return e===0?`${a}m`:a===0?`${e}h`:`${e}h ${a}m`},calculateDailyProgress(){const e=this.calculateStudyHours(),a=Math.min(e/5*100,100);return Math.round(a)},calculateSessionProgress(s){if(!this.isSessionActive(s))return 0;const e=new Date,a=new Date(s.date),[u,i]=s.startTime.split(":").map(Number),[n,h]=s.endTime.split(":").map(Number),m=new Date(a);m.setHours(u,i,0);const v=new Date(a);v.setHours(n,h,0);const k=v-m,w=e-m,B=Math.min(w/k*100,100);return Math.round(B)},getActiveSessionsCount(){let s=0;return this.todayEvents.forEach(e=>{e.type==="study"&&!e.completed&&this.isEventActive(e)&&s++}),this.upcomingSessions.forEach(e=>{this.isSessionActive(e)&&s++}),s},isEventActive(s){if(s.all_day||!s.start_time||!s.end_time)return!1;const e=new Date,a=new Date(s.date);if(e.toDateString()!==a.toDateString())return!1;const[u,i]=s.start_time.split(":").map(Number),[n,h]=s.end_time.split(":").map(Number),m=new Date(a);m.setHours(u,i,0);const v=new Date(a);return v.setHours(n,h,0),e>=m&&e<=v},async fetchEvents(s=null,e=null){if(!(this.events.length>0))try{this.loadingEvents=!0;let a=`${b}/calendar/events`;const u=new URLSearchParams;s&&u.append("start_date",s),e&&u.append("end_date",e),u.toString()&&(a+=`?${u.toString()}`);const i=await S.get(a,{withCredentials:!0});this.internalEvents=i.data}catch(a){console.error("Error fetching events:",a),f({type:"error",message:"Failed to load events. Please try again."})}finally{this.loadingEvents=!1}},async fetchActiveSchedule(){try{const s=await S.get(`${b}/study/schedules/active`,{withCredentials:!0});this.activeSchedule=s.data,this.activeSchedule&&await this.calculateCompletionStats()}catch(s){console.error("Error fetching active schedule:",s)}},async fetchUserModules(){try{const s=await S.get(`${b}/modules`,{withCredentials:!0});this.userModules=s.data}catch(s){console.error("Error fetching modules:",s)}},async fetchUpcomingSessions(){try{this.loadingSessions=!0;const s=await S.get(`${b}/study/sessions/current`,{withCredentials:!0});this.upcomingSessions=s.data,this.upcomingSessions.sort((e,a)=>e.date<a.date?-1:e.date>a.date?1:e.startTime.localeCompare(a.startTime))}catch(s){console.error("Error fetching upcoming sessions:",s),f({type:"error",message:"Failed to load study sessions"})}finally{this.loadingSessions=!1}},async calculateCompletionStats(){try{if(!this.activeSchedule){this.completionStats={total:0,completed:0,missed:0,rate:0};return}const e=(await S.get(`${b}/study/sessions`,{withCredentials:!0,params:{schedule_id:this.activeSchedule.id}})).data,a=e.length,u=e.filter(h=>h.status==="completed").length,i=e.filter(h=>h.status==="missed").length,n=a>0?Math.round(u/a*100):0;this.completionStats={total:a,completed:u,missed:i,rate:n}}catch(s){console.error("Error calculating completion stats:",s),this.completionStats={total:0,completed:0,missed:0,rate:0}}},async updateSessionStatuses(){try{await S.post(`${b}/study/sessions/update-statuses`,{},{withCredentials:!0}),await this.fetchUpcomingSessions()}catch(s){console.error("Error updating session statuses:",s)}},isSessionActive(s){if(s.status==="in_progress")return!0;const e=new Date,a=new Date(s.date);if(e.toDateString()!==a.toDateString())return!1;const[u,i]=s.startTime.split(":").map(Number),[n,h]=s.endTime.split(":").map(Number),m=new Date(a);m.setHours(u,i,0);const v=new Date(a);return v.setHours(n,h,0),e>=m&&e<=v},getSessionCountdown(s){if(!this.isSessionActive(s))return"";const e=new Date,a=new Date(s.date),[u,i]=s.endTime.split(":").map(Number),n=new Date(a);n.setHours(u,i,0);const h=n-e;if(h<=0)return"0:00";const m=Math.floor(h/6e4),v=Math.floor(h%6e4/1e3);return`${m}:${v.toString().padStart(2,"0")}`},getSessionStatusClass(s){return s.status==="completed"?"completed-session":s.status==="missed"?"missed-session":s.status==="in_progress"||this.isSessionActive(s)?"active-session":"planned-session"},getModuleName(s){const e=this.userModules.find(a=>a.id===s);return e?e.name:"Unknown Module"},async markSessionCompleted(s){this.sessionToComplete=s,this.sessionFeedback={productivity:3,difficulty:3,focusRating:3,notes:"",topics:[]},this.topicInput="",this.showSessionFeedbackModal=!0},async markSessionMissed(s){try{await S.post(`${b}/study/sessions/${s.id}/miss`,{},{withCredentials:!0});const e=this.upcomingSessions.findIndex(a=>a.id===s.id);e!==-1&&(this.upcomingSessions[e].status="missed",this.upcomingSessions[e].missed=!0),await this.calculateCompletionStats(),f({type:"success",message:"Session marked as missed"})}catch(e){console.error("Error marking session as missed:",e),f({type:"error",message:"Failed to update session status"})}},rescheduleSession(s){this.sessionToReschedule=s,this.rescheduleForm={date:s.date,startTime:s.startTime,endTime:s.endTime};const e=new Date;e.setDate(e.getDate()+1),this.rescheduleForm.date=this.formatDateISO(e),this.showRescheduleModal=!0},async submitReschedule(){if(this.sessionToReschedule)try{this.rescheduleLoading=!0;const s={date:this.rescheduleForm.date,startTime:this.rescheduleForm.startTime,endTime:this.rescheduleForm.endTime};await S.post(`${b}/study/sessions/${this.sessionToReschedule.id}/reschedule`,s,{withCredentials:!0}),await this.fetchUpcomingSessions(),await this.calculateCompletionStats(),f({type:"success",message:"Session rescheduled successfully!"}),this.closeRescheduleModal()}catch(s){console.error("Error rescheduling session:",s),f({type:"error",message:"Failed to reschedule session. Please try again."})}finally{this.rescheduleLoading=!1}},closeRescheduleModal(){this.showRescheduleModal=!1,this.sessionToReschedule=null,this.rescheduleForm={date:"",startTime:"",endTime:""}},closeSessionFeedbackModal(){this.showSessionFeedbackModal=!1,this.sessionToComplete=null},async submitSessionFeedback(){if(this.sessionToComplete)try{this.submitFeedbackLoading=!0,await S.post(`${b}/study/sessions/${this.sessionToComplete.id}/complete`,this.sessionFeedback,{withCredentials:!0});const s=this.upcomingSessions.findIndex(e=>e.id===this.sessionToComplete.id);s!==-1&&(this.upcomingSessions[s].status="completed",this.upcomingSessions[s].completed=!0,this.upcomingSessions[s].completed_at=new Date().toISOString()),await this.calculateCompletionStats(),f({type:"success",message:"Session completed successfully!"}),this.closeSessionFeedbackModal()}catch(s){console.error("Error completing session:",s),f({type:"error",message:"Failed to complete session"})}finally{this.submitFeedbackLoading=!1}},addTopic(){this.topicInput.trim()&&(this.sessionFeedback.topics.includes(this.topicInput.trim())||this.sessionFeedback.topics.push(this.topicInput.trim()),this.topicInput="")},removeTopic(s){this.sessionFeedback.topics.splice(s,1)},addEventTag(){this.eventTagInput.trim()&&(this.eventForm.tags.includes(this.eventTagInput.trim())||this.eventForm.tags.push(this.eventTagInput.trim()),this.eventTagInput="")},removeEventTag(s){this.eventForm.tags.splice(s,1)},refreshSessions(){this.fetchUpcomingSessions(),this.updateSessionStatuses(),f({type:"info",message:"Refreshing sessions..."})},changeSchedule(){this.$emit("change-schedule"),this.$emit("navigate","schedule")},viewAllSessions(){this.$emit("navigate","schedule")},formatCompletionTime(s){return s?new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""},applyCalendarTheme(){const s=document.body.classList.contains("dark-mode");if(this.$refs.calendar){const e=this.$refs.calendar.$el;s?e.classList.add("vc-dark"):e.classList.remove("vc-dark")}},onDarkModeChange(){this.applyCalendarTheme()},onDayClick({date:s}){this.selectedDate?this.$emit("day-click",s):this.internalSelectedDate=s;const e=this.currentDate.getMonth(),a=s.getMonth();if(e!==a&&this.events.length===0){const u=new Date(s.getFullYear(),s.getMonth(),1),i=new Date(s.getFullYear(),s.getMonth()+1,0);this.fetchEvents(this.formatDateISO(u),this.formatDateISO(i))}},openCreateEventModal(s="general"){if(this.events.length>0){this.$emit("add-event",s);return}this.editMode=!1,this.eventToEdit=null,this.eventForm={title:"",description:"",date:this.formatDateISO(this.activeDate),type:s||"general",all_day:!0,start_time:"09:00",end_time:"10:00",color:"#7b49ff",completed:!1,tags:[]},this.showEventModal=!0},openEditEventModal(s){if(this.events.length>0){this.$emit("edit-event",s);return}this.editMode=!0,this.eventToEdit=s,this.eventForm={title:s.title,description:s.description||"",date:s.date,type:s.type||"general",all_day:s.all_day,start_time:s.start_time||"09:00",end_time:s.end_time||"10:00",color:s.color||"#7b49ff",completed:s.completed||!1,tags:s.tags||[]},this.showEventModal=!0},closeEventModal(){this.showEventModal=!1,this.editMode=!1,this.eventToEdit=null},async saveEvent(){if(!(this.events.length>0))try{this.submitting=!0;const s={title:this.eventForm.title,description:this.eventForm.description,date:this.eventForm.date,type:this.eventForm.type,all_day:this.eventForm.all_day,completed:this.eventForm.completed,color:this.eventForm.color,tags:this.eventForm.tags};this.eventForm.all_day||(s.start_time=this.eventForm.start_time,s.end_time=this.eventForm.end_time);let e;if(this.editMode&&this.eventToEdit){e=await S.put(`${b}/calendar/events/${this.eventToEdit.id}`,s,{withCredentials:!0});const a=this.internalEvents.findIndex(u=>u.id===this.eventToEdit.id);a!==-1&&(this.internalEvents[a]=e.data),f({type:"success",message:"Event updated successfully!"})}else e=await S.post(`${b}/calendar/events`,s,{withCredentials:!0}),this.internalEvents.push(e.data),f({type:"success",message:"Event created successfully!"});this.closeEventModal()}catch(s){console.error("Error saving event:",s),f({type:"error",message:"Failed to save event. Please try again."})}finally{this.submitting=!1}},confirmDeleteEvent(s){if(this.events.length>0){this.$emit("delete-event",s);return}this.eventToDelete=s,this.showDeleteConfirmation=!0},async deleteEvent(){if(!(this.events.length>0||!this.eventToDelete))try{this.deleting=!0,await S.delete(`${b}/calendar/events/${this.eventToDelete.id}`,{withCredentials:!0}),this.internalEvents=this.internalEvents.filter(s=>s.id!==this.eventToDelete.id),f({type:"success",message:"Event deleted successfully!"}),this.showDeleteConfirmation=!1,this.eventToDelete=null}catch(s){console.error("Error deleting event:",s),f({type:"error",message:"Failed to delete event. Please try again."})}finally{this.deleting=!1}},async toggleEventCompletion(s){if(this.events.length>0){this.$emit("toggle-completion",s);return}try{const e={...s,completed:!s.completed};await S.put(`${b}/calendar/events/${s.id}`,e,{withCredentials:!0});const a=this.internalEvents.findIndex(u=>u.id===s.id);a!==-1&&(this.internalEvents[a].completed=!s.completed),f({type:"success",message:e.completed?"Event marked as completed!":"Event marked as incomplete!"})}catch(e){console.error("Error updating event completion:",e),f({type:"error",message:"Failed to update event. Please try again."})}},formatDate(s){return s?new Date(s).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):""},formatDateShort(s){return s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""},formatMonthYear(s){return s?new Date(s).toLocaleDateString("en-US",{month:"long",year:"numeric"}):""},formatDateISO(s){if(!s)return"";const e=new Date(s);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},formatEventTime(s){return s.all_day?"All Day":`${this.formatTime(s.start_time)} - ${this.formatTime(s.end_time)}`},formatTime(s){if(!s)return"";const[e,a]=s.split(":"),u=parseInt(e,10),i=u>=12?"PM":"AM";return`${u%12||12}:${a} ${i}`},getEventClass(s){return{[{celebration:"celebration-event",meeting:"meeting-event",assignment:"assignment-event",study:"study-event",exam:"exam-event",general:"general-event"}[s.type]||"general-event"]:!0,"completed-event":s.completed}},calculateStudyHours(){const e=(this.events.length>0?this.events:this.internalEvents).filter(i=>i.type==="study"&&!i.all_day).reduce((i,n)=>{if(!n.start_time||!n.end_time)return i;const h=n.start_time.split(":").map(Number),m=n.end_time.split(":").map(Number),v=m[0]-h[0]+(m[1]-h[1])/60;return i+(v>0?v:0)},0),a=this.formatDateISO(new Date),u=this.upcomingSessions.filter(i=>i.date===a).reduce((i,n)=>{if(!n.startTime||!n.endTime)return i;const h=n.startTime.split(":").map(Number),m=n.endTime.split(":").map(Number),v=m[0]-h[0]+(m[1]-h[1])/60;return i+(v>0?v:0)},0);return(e+u).toFixed(1)},previousMonth(){const s=new Date(this.currentDate);if(s.setMonth(s.getMonth()-1),this.currentDate=s,this.events.length===0){const e=new Date(s.getFullYear(),s.getMonth(),1),a=new Date(s.getFullYear(),s.getMonth()+1,0);this.fetchEvents(this.formatDateISO(e),this.formatDateISO(a))}},nextMonth(){const s=new Date(this.currentDate);if(s.setMonth(s.getMonth()+1),this.currentDate=s,this.events.length===0){const e=new Date(s.getFullYear(),s.getMonth(),1),a=new Date(s.getFullYear(),s.getMonth()+1,0);this.fetchEvents(this.formatDateISO(e),this.formatDateISO(a))}}}},V=["title"],O={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},q={key:0,d:"M15 18l-6-6 6-6"},Y={key:1,d:"M9 18l6-6-6-6"},z={class:"sidebar-content"},W={class:"sidebar-header"},G={class:"month-navigator"},J={class:"current-month"},K={class:"calendar-wrapper"},Z={key:0,class:"pomodoro-timer-card"},Q={class:"card-header"},X={class:"header-actions"},$={class:"pomodoro-content"},ee={class:"timer-display"},te={class:"timer-circle-container"},oe={class:"timer-circle",viewBox:"0 0 100 100"},se={class:"timer-value"},ie={class:"timer-label"},ne={class:"timer-controls"},re=["disabled"],le=["disabled"],ae={class:"pomodoro-status"},de={class:"pomodoro-counts"},ue={class:"count-item"},ce={class:"count-value"},me={class:"count-item"},he={class:"count-value"},ve={class:"count-item"},pe={class:"count-value"},ge={class:"today-summary"},fe={class:"quick-stats"},ke={class:"stat-item"},ye={class:"stat-value"},we={class:"stat-item"},Se={class:"stat-value"},be={class:"stat-item"},Ce={class:"stat-value"},De={class:"daily-progress"},Te={class:"progress-label"},_e={class:"progress-bar"},Me={key:1,class:"active-schedule"},xe={class:"card-header"},Pe={class:"header-actions"},Fe={class:"schedule-info"},Ee={class:"schedule-name"},Be={class:"schedule-dates"},Ae={class:"progress-container"},Ie={class:"progress-label"},Le={class:"progress-bar"},Re={class:"schedule-stats"},Ne={class:"stat"},je={class:"value"},He={class:"stat"},Ue={class:"value"},Ve={class:"stat"},Oe={class:"value"},qe={class:"quick-actions-panel"},Ye={key:2,class:"upcoming-sessions"},ze={class:"card-header"},We={class:"header-actions"},Ge={class:"sessions-list"},Je={class:"session-time"},Ke={class:"session-date"},Ze={class:"session-hours"},Qe={key:0,class:"session-countdown"},Xe={class:"session-content"},$e={class:"session-title"},et={class:"session-module"},tt={key:0,class:"session-tags"},ot={key:0,class:"session-progress"},st={class:"progress-bar"},it={class:"session-actions"},nt=["onClick"],rt=["onClick"],lt=["onClick"],at=["onClick"],dt={class:"session-status"},ut={key:0,class:"status in-progress"},ct={key:1,class:"status completed"},mt={key:0,class:"completion-time"},ht={key:2,class:"status missed"},vt={key:3,class:"status active"},pt={key:4,class:"status planned"},gt={key:0,class:"more-sessions"},ft={key:3,class:"study-analytics"},kt={class:"card-header"},yt={class:"header-actions"},wt={class:"analytics-content"},St={class:"weekly-chart"},bt={class:"chart-container"},Ct={class:"chart-bar-container"},Dt={class:"chart-label"},Tt={class:"chart-value"},_t={key:0,class:"detailed-analytics"},Mt={class:"analytics-grid"},xt={class:"analytics-card"},Pt={class:"analytics-value"},Ft={class:"analytics-card"},Et={class:"analytics-value"},Bt={class:"analytics-card"},At={class:"analytics-value"},It={class:"analytics-card"},Lt={class:"analytics-value"},Rt={class:"productivity-chart"},Nt={class:"productivity-heatmap"},jt=["title"],Ht={class:"time-slot-label"},Ut={key:4,class:"events-container"},Vt={class:"events-header"},Ot={key:0,class:"loading-events"},qt={key:1,class:"no-events"},Yt={key:2,class:"events-list"},zt={class:"event-content"},Wt={class:"event-time"},Gt={class:"event-title"},Jt={class:"event-description"},Kt={key:0,class:"event-tags"},Zt={class:"event-actions"},Qt=["onClick"],Xt=["onClick"],$t=["onClick"],eo=["onClick","title"],to={class:"modal-container"},oo={class:"modal-header"},so={class:"modal-body"},io={class:"form-group"},no={class:"form-group"},ro={class:"form-group"},lo={class:"form-group"},ao={class:"form-group"},uo={class:"checkbox-group"},co={class:"form-group"},mo={class:"checkbox-group"},ho={class:"form-group"},vo={class:"checkbox-group"},po={class:"form-group"},go={class:"checkbox-group"},fo={class:"form-actions"},ko={class:"modal-container"},yo={class:"modal-header"},wo={class:"modal-body"},So={class:"session-details"},bo={class:"session-title"},Co={class:"session-time"},Do={class:"form-group"},To={class:"rating-buttons"},_o=["onClick"],Mo={class:"form-group"},xo={class:"rating-buttons"},Po=["onClick"],Fo={class:"form-group"},Eo={class:"rating-buttons"},Bo=["onClick"],Ao={class:"form-group"},Io={class:"form-group"},Lo={class:"tags-input"},Ro={class:"tags-container"},No=["onClick"],jo={class:"form-actions"},Ho=["disabled"],Uo={key:0},Vo={key:1},Oo={class:"modal-container confirmation-modal"},qo={class:"modal-header"},Yo={class:"modal-body"},zo={key:0,class:"event-to-delete"},Wo={class:"event-title"},Go={class:"event-date"},Jo={class:"confirmation-actions"},Ko=["disabled"],Zo={key:0},Qo={key:1},Xo={class:"modal-container"},$o={class:"modal-header"},es={class:"modal-body"},ts={class:"form-group"},os={class:"form-group"},ss={class:"form-row"},is={class:"form-group"},ns={class:"form-group"},rs={class:"form-group"},ls={class:"checkbox-group"},as={key:0,class:"form-row"},ds={class:"form-group"},us=["required"],cs={class:"form-group"},ms=["required"],hs={class:"form-group"},vs={class:"color-picker"},ps=["onClick"],gs={class:"form-group"},fs={class:"tags-input"},ks={class:"tags-container"},ys=["onClick"],ws={class:"form-actions"},Ss=["disabled"],bs={key:0},Cs={key:1},Ds={class:"modal-container"},Ts={class:"modal-header"},_s={class:"modal-body"},Ms={class:"session-details"},xs={class:"session-title"},Ps={class:"session-module"},Fs={class:"form-group"},Es={class:"form-row"},Bs={class:"form-group"},As={class:"form-group"},Is={class:"form-actions"},Ls=["disabled"],Rs={key:0},Ns={key:1},js={class:"modal-container"},Hs={class:"modal-header"},Us={class:"modal-body"},Vs={class:"pomodoro-completion"},Os={class:"pomodoro-completion-icon"},qs={xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ys={key:0,d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"},zs={key:1,points:"9 11 12 14 22 4"},Ws={key:2,d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"},Gs={class:"pomodoro-completion-message"},Js={key:0},Ks={key:1},Zs={key:2,class:"pomodoro-stat"},Qs={class:"pomodoro-completion-actions"},Xs={key:6,class:"focus-mode-overlay"},$s={class:"overlay-content"},ei={class:"pomodoro-display"},ti={class:"timer-circle-container large"},oi={class:"timer-circle",viewBox:"0 0 100 100"},si={class:"timer-value"},ii={class:"timer-label"},ni={class:"focus-mode-controls"},ri=["disabled"],li=["disabled"],ai={key:0,class:"focus-mode-info"},di={class:"active-task-info"},ui={class:"active-task-title"};function ci(s,e,a,u,i,n){var m,v,k,w,B,A;const h=H("vc-calendar");return l(),r("div",{class:C(["study-hub-sidebar",{collapsed:i.isCollapsed,"focus-mode":i.focusMode}])},[t("button",{onClick:e[0]||(e[0]=(...o)=>n.toggleSidebar&&n.toggleSidebar(...o)),class:"collapse-toggle",title:i.isCollapsed?"Expand sidebar":"Collapse sidebar"},[(l(),r("svg",O,[i.isCollapsed?(l(),r("path",Y)):(l(),r("path",q))]))],8,V),t("div",z,[t("div",W,[e[76]||(e[76]=t("h2",null,"Study Hub",-1)),t("div",G,[t("button",{onClick:e[1]||(e[1]=(...o)=>n.previousMonth&&n.previousMonth(...o)),class:"nav-btn"},e[74]||(e[74]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])),t("span",J,d(n.formatMonthYear(i.currentDate)),1),t("button",{onClick:e[2]||(e[2]=(...o)=>n.nextMonth&&n.nextMonth(...o)),class:"nav-btn"},e[75]||(e[75]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M9 18l6-6-6-6"})],-1)]))])]),t("div",K,[N(h,{modelValue:i.currentDate,"onUpdate:modelValue":e[3]||(e[3]=o=>i.currentDate=o),"is-inline":"",onDayclick:n.onDayClick,class:"custom-calendar",attributes:n.calendarAttributes},null,8,["modelValue","onDayclick","attributes"])]),i.isCollapsed?c("",!0):(l(),r("div",Z,[t("div",Q,[e[79]||(e[79]=t("h3",null,"Pomodoro Timer",-1)),t("div",X,[t("button",{onClick:e[4]||(e[4]=(...o)=>n.toggleFocusMode&&n.toggleFocusMode(...o)),class:C(["focus-mode-btn",{active:i.focusMode}]),title:"Toggle focus mode"},[e[77]||(e[77]=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1)),t("span",null,d(i.focusMode?"Exit Focus":"Focus Mode"),1)],2),t("button",{onClick:e[5]||(e[5]=(...o)=>n.openPomodoroSettings&&n.openPomodoroSettings(...o)),class:"settings-btn",title:"Timer settings"},e[78]||(e[78]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),t("circle",{cx:"12",cy:"12",r:"3"})],-1)]))])]),t("div",$,[t("div",ee,[t("div",te,[(l(),r("svg",oe,[e[80]||(e[80]=t("circle",{class:"timer-circle-bg",cx:"50",cy:"50",r:"45"},null,-1)),t("circle",{class:"timer-circle-progress",cx:"50",cy:"50",r:"45",style:x({strokeDashoffset:n.calculateCircleProgress(i.pomodoroTimeLeft,i.pomodoroState.currentDuration),stroke:i.pomodoroState.isBreak?"#4caf50":"#7b49ff"})},null,4)])),t("div",se,d(n.formatPomodoroTime(i.pomodoroTimeLeft)),1),t("div",ie,d(i.pomodoroState.isBreak?"Break Time":"Focus Time"),1)])]),t("div",ne,[!i.pomodoroState.isRunning&&!i.pomodoroState.isPaused?(l(),r("button",{key:0,onClick:e[6]||(e[6]=(...o)=>n.startPomodoroTimer&&n.startPomodoroTimer(...o)),class:"timer-btn start-btn"},e[81]||(e[81]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 3 19 12 5 21 5 3"})],-1),M(" Start ")]))):c("",!0),i.pomodoroState.isRunning?(l(),r("button",{key:1,onClick:e[7]||(e[7]=(...o)=>n.pausePomodoroTimer&&n.pausePomodoroTimer(...o)),class:"timer-btn pause-btn"},e[82]||(e[82]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("rect",{x:"6",y:"4",width:"4",height:"16"}),t("rect",{x:"14",y:"4",width:"4",height:"16"})],-1),M(" Pause ")]))):c("",!0),i.pomodoroState.isPaused?(l(),r("button",{key:2,onClick:e[8]||(e[8]=(...o)=>n.resumePomodoroTimer&&n.resumePomodoroTimer(...o)),class:"timer-btn resume-btn"},e[83]||(e[83]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 3 19 12 5 21 5 3"})],-1),M(" Resume ")]))):c("",!0),t("button",{onClick:e[9]||(e[9]=(...o)=>n.resetPomodoroTimer&&n.resetPomodoroTimer(...o)),class:"timer-btn reset-btn",disabled:!i.pomodoroState.isRunning&&!i.pomodoroState.isPaused},e[84]||(e[84]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),t("path",{d:"M3 3v5h5"})],-1),M(" Reset ")]),8,re),t("button",{onClick:e[10]||(e[10]=(...o)=>n.skipPomodoroPhase&&n.skipPomodoroPhase(...o)),class:"timer-btn skip-btn",disabled:!i.pomodoroState.isRunning&&!i.pomodoroState.isPaused},e[85]||(e[85]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 4 15 12 5 20 5 4"}),t("line",{x1:"19",y1:"5",x2:"19",y2:"19"})],-1),M(" Skip ")]),8,le)]),t("div",ae,[t("div",de,[t("div",ue,[t("div",ce,d(i.pomodoroState.completedPomodoros),1),e[86]||(e[86]=t("div",{class:"count-label"},"Completed",-1))]),t("div",me,[t("div",he,d(i.pomodoroState.streak),1),e[87]||(e[87]=t("div",{class:"count-label"},"Streak",-1))]),t("div",ve,[t("div",pe,d(n.formatMinutes(i.pomodoroState.totalFocusTime)),1),e[88]||(e[88]=t("div",{class:"count-label"},"Focus Time",-1))])])])])])),t("div",ge,[e[93]||(e[93]=t("div",{class:"date-pill"},"Today",-1)),t("div",fe,[t("div",ke,[t("div",ye,d(n.todayEvents.length),1),e[89]||(e[89]=t("div",{class:"stat-label"},"Events",-1))]),t("div",we,[t("div",Se,d(n.calculateStudyHours())+"h",1),e[90]||(e[90]=t("div",{class:"stat-label"},"Study",-1))]),t("div",be,[t("div",Ce,d(n.getActiveSessionsCount()),1),e[91]||(e[91]=t("div",{class:"stat-label"},"Active",-1))])]),t("div",De,[t("div",Te,[e[92]||(e[92]=t("span",null,"Daily Goal",-1)),t("span",null,d(n.calculateDailyProgress())+"%",1)]),t("div",_e,[t("div",{class:"progress-value",style:x({width:n.calculateDailyProgress()+"%"})},null,4)])])]),i.activeSchedule?(l(),r("div",Me,[t("div",xe,[e[95]||(e[95]=t("h3",null,"Active Schedule",-1)),t("div",Pe,[t("button",{onClick:e[11]||(e[11]=(...o)=>n.changeSchedule&&n.changeSchedule(...o)),class:"change-schedule-btn",title:"Change active schedule"},e[94]||(e[94]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})],-1),M(" Change ")])),t("span",{class:C(["badge",{"ai-badge":i.activeSchedule.is_ai_generated}])},d(i.activeSchedule.is_ai_generated?"AI Generated":"Custom"),3)])]),t("div",Fe,[t("div",Ee,d(i.activeSchedule.name),1),t("div",Be,d(n.formatDate(new Date(i.activeSchedule.start_date)))+" - "+d(n.formatDate(new Date(i.activeSchedule.end_date))),1),t("div",Ae,[t("div",Ie,[e[96]||(e[96]=t("span",null,"Progress",-1)),t("span",null,d(i.completionStats.rate)+"%",1)]),t("div",Le,[t("div",{class:"progress-value",style:x({width:i.completionStats.rate+"%"})},null,4)])]),t("div",Re,[t("div",Ne,[t("span",je,d(i.completionStats.total),1),e[97]||(e[97]=t("span",{class:"label"},"Sessions",-1))]),t("div",He,[t("span",Ue,d(i.completionStats.completed),1),e[98]||(e[98]=t("span",{class:"label"},"Completed",-1))]),t("div",Ve,[t("span",Oe,d(i.completionStats.missed||0),1),e[99]||(e[99]=t("span",{class:"label"},"Missed",-1))])])])])):c("",!0),t("div",qe,[t("button",{onClick:e[12]||(e[12]=o=>n.openCreateEventModal("study")),class:"action-button study-btn"},e[100]||(e[100]=[t("div",{class:"action-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})])],-1),t("span",null,"Study Session",-1)])),t("button",{onClick:e[13]||(e[13]=o=>n.openCreateEventModal("assignment")),class:"action-button assignment-btn"},e[101]||(e[101]=[t("div",{class:"action-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z"})])],-1),t("span",null,"Assignment",-1)])),t("button",{onClick:e[14]||(e[14]=o=>n.openCreateEventModal("exam")),class:"action-button exam-btn"},e[102]||(e[102]=[t("div",{class:"action-icon"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})])],-1),t("span",null,"Exam",-1)])),t("button",{onClick:e[15]||(e[15]=o=>n.openCreateEventModal("meeting")),class:"action-button meeting-btn"},e[103]||(e[103]=[F('<div class="action-icon" data-v-0a9f1635><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0a9f1635><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-0a9f1635></path><circle cx="9" cy="7" r="4" data-v-0a9f1635></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-0a9f1635></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-0a9f1635></path></svg></div><span data-v-0a9f1635>Meeting</span>',2)]))]),i.upcomingSessions.length>0?(l(),r("div",Ye,[t("div",ze,[e[105]||(e[105]=t("h3",null,"Upcoming Sessions",-1)),t("div",We,[t("button",{onClick:e[16]||(e[16]=(...o)=>n.viewAllSessions&&n.viewAllSessions(...o)),class:"view-all-btn",title:"View all sessions"}," View All "),t("button",{onClick:e[17]||(e[17]=(...o)=>n.refreshSessions&&n.refreshSessions(...o)),class:"refresh-btn",title:"Refresh sessions"},e[104]||(e[104]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M23 4v6h-6"}),t("path",{d:"M1 20v-6h6"}),t("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})],-1)]))])]),t("div",Ge,[(l(!0),r(D,null,T(i.upcomingSessions.slice(0,5),o=>(l(),r("div",{key:o.id,class:C(["session-card",[n.getSessionStatusClass(o),{"active-now":n.isSessionActive(o)}]])},[t("div",Je,[t("div",Ke,d(n.formatDateShort(new Date(o.date))),1),t("div",Ze,d(o.startTime)+" - "+d(o.endTime),1),n.isSessionActive(o)?(l(),r("div",Qe,d(n.getSessionCountdown(o))+" remaining ",1)):c("",!0)]),t("div",Xe,[t("div",$e,d(o.title),1),t("div",et,d(n.getModuleName(o.module)),1),o.tags&&o.tags.length>0?(l(),r("div",tt,[(l(!0),r(D,null,T(o.tags,(p,P)=>(l(),r("span",{key:P,class:"session-tag"},d(p),1))),128))])):c("",!0)]),n.isSessionActive(o)?(l(),r("div",ot,[t("div",st,[t("div",{class:"progress-value",style:x({width:n.calculateSessionProgress(o)+"%"})},null,4)])])):c("",!0),t("div",it,[n.isSessionActive(o)||o.status==="planned"?(l(),r("button",{key:0,onClick:p=>n.startPomodoroForSession(o),class:"action-btn pomodoro-btn",title:"Start Pomodoro for this session"},e[106]||(e[106]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})],-1)]),8,nt)):c("",!0),n.isSessionActive(o)||o.status==="planned"?(l(),r("button",{key:1,onClick:p=>n.markSessionCompleted(o),class:"action-btn complete-btn",title:"Mark as completed"},e[107]||(e[107]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"20 6 9 17 4 12"})],-1)]),8,rt)):c("",!0),n.isSessionActive(o)||o.status==="planned"?(l(),r("button",{key:2,onClick:p=>n.markSessionMissed(o),class:"action-btn missed-btn",title:"Mark as missed"},e[108]||(e[108]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]),8,lt)):c("",!0),o.status==="missed"?(l(),r("button",{key:3,onClick:p=>n.rescheduleSession(o),class:"action-btn reschedule-btn",title:"Reschedule session"},e[109]||(e[109]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})],-1)]),8,at)):c("",!0)]),t("div",dt,[o.status==="in_progress"?(l(),r("span",ut,"In Progress")):o.status==="completed"?(l(),r("span",ct,[e[110]||(e[110]=M(" Completed ")),o.completed_at?(l(),r("span",mt,d(n.formatCompletionTime(o.completed_at)),1)):c("",!0)])):o.status==="missed"?(l(),r("span",ht,"Missed")):n.isSessionActive(o)?(l(),r("span",vt,"Active Now")):(l(),r("span",pt,"Planned"))])],2))),128)),i.upcomingSessions.length>5?(l(),r("div",gt,[t("button",{onClick:e[18]||(e[18]=(...o)=>n.viewAllSessions&&n.viewAllSessions(...o)),class:"more-btn"}," + "+d(i.upcomingSessions.length-5)+" more sessions ",1)])):c("",!0)])])):c("",!0),i.showAnalytics?(l(),r("div",ft,[t("div",kt,[e[112]||(e[112]=t("h3",null,"Study Analytics",-1)),t("div",yt,[t("button",{onClick:e[19]||(e[19]=(...o)=>n.toggleAnalytics&&n.toggleAnalytics(...o)),class:"toggle-analytics-btn",title:"Toggle analytics"},[e[111]||(e[111]=F('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0a9f1635><path d="M3 3v18h18" data-v-0a9f1635></path><path d="M18.4 7.5v9.7" data-v-0a9f1635></path><path d="M13.5 11.5v5.7" data-v-0a9f1635></path><path d="M8.6 15.5v1.7" data-v-0a9f1635></path></svg>',1)),t("span",null,d(i.showDetailedAnalytics?"Simple View":"Detailed View"),1)])])]),t("div",wt,[t("div",St,[e[113]||(e[113]=t("div",{class:"chart-title"},"Weekly Study Hours",-1)),t("div",bt,[t("div",Ct,[(l(!0),r(D,null,T(i.weeklyStudyData,(o,p)=>(l(),r("div",{key:p,class:"chart-bar-wrapper"},[t("div",{class:C(["chart-bar",{"today-bar":o.isToday}]),style:x({height:o.hours/i.maxWeeklyHours*100+"%"})},null,6),t("div",Dt,d(o.label),1),t("div",Tt,d(o.hours)+"h",1)]))),128))])])]),i.showDetailedAnalytics?(l(),r("div",_t,[t("div",Mt,[t("div",xt,[t("div",Pt,d(i.studyStreak)+" days",1),e[114]||(e[114]=t("div",{class:"analytics-label"},"Current Streak",-1))]),t("div",Ft,[t("div",Et,d(i.weeklyStudyHours)+"h",1),e[115]||(e[115]=t("div",{class:"analytics-label"},"This Week",-1))]),t("div",Bt,[t("div",At,d(i.focusRating)+"%",1),e[116]||(e[116]=t("div",{class:"analytics-label"},"Focus Rating",-1))]),t("div",It,[t("div",Lt,d(i.completedSessions),1),e[117]||(e[117]=t("div",{class:"analytics-label"},"Completed",-1))])]),t("div",Rt,[e[118]||(e[118]=t("div",{class:"chart-title"},"Productivity by Time of Day",-1)),t("div",Nt,[(l(!0),r(D,null,T(i.productivityByTime,(o,p)=>(l(),r("div",{key:p,class:C(["heatmap-cell","heat-level-"+o.level]),title:`${o.time}: ${o.level}/5 productivity`},[t("div",Ht,d(o.time),1)],10,jt))),128))])])])):c("",!0)])])):c("",!0),n.activeDate?(l(),r("div",Ut,[t("div",Vt,[t("h3",null,d(n.formatDate(n.activeDate)),1),t("button",{onClick:e[20]||(e[20]=(...o)=>n.openCreateEventModal&&n.openCreateEventModal(...o)),class:"add-event-btn",title:"Add new event"},e[119]||(e[119]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)]))]),i.loadingEvents?(l(),r("div",Ot,e[120]||(e[120]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading events...",-1)]))):n.eventsForSelectedDate.length===0?(l(),r("div",qt,[e[121]||(e[121]=F('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="empty-icon" data-v-0a9f1635><rect x="3" y="4" width="18" height="18" rx="2" ry="2" data-v-0a9f1635></rect><line x1="16" y1="2" x2="16" y2="6" data-v-0a9f1635></line><line x1="8" y1="2" x2="8" y2="6" data-v-0a9f1635></line><line x1="3" y1="10" x2="21" y2="10" data-v-0a9f1635></line></svg><p data-v-0a9f1635>No events scheduled for this day</p>',2)),t("button",{onClick:e[21]||(e[21]=o=>n.openCreateEventModal("study")),class:"schedule-btn"},"Schedule Study Time")])):(l(),r("div",Yt,[(l(!0),r(D,null,T(n.eventsForSelectedDate,o=>(l(),r("div",{key:o.id,class:C(["event-card",n.getEventClass(o)])},[e[126]||(e[126]=t("div",{class:"event-dot"},null,-1)),t("div",zt,[t("div",Wt,d(n.formatEventTime(o)),1),t("div",Gt,d(o.title),1),t("div",Jt,d(o.description),1),o.tags&&o.tags.length>0?(l(),r("div",Kt,[(l(!0),r(D,null,T(o.tags,(p,P)=>(l(),r("span",{key:P,class:"event-tag"},d(p),1))),128))])):c("",!0)]),t("div",Zt,[o.type==="study"?(l(),r("button",{key:0,onClick:p=>n.startPomodoroForEvent(o),class:"action-btn pomodoro-btn",title:"Start Pomodoro for this event"},e[122]||(e[122]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 6 12 12 16 14"})],-1)]),8,Qt)):c("",!0),t("button",{onClick:p=>n.openEditEventModal(o),class:"action-btn edit-btn",title:"Edit event"},e[123]||(e[123]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),8,Xt),t("button",{onClick:p=>n.confirmDeleteEvent(o),class:"action-btn delete-btn",title:"Delete event"},e[124]||(e[124]=[F('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-0a9f1635><polyline points="3 6 5 6 21 6" data-v-0a9f1635></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-v-0a9f1635></path><line x1="10" y1="11" x2="10" y2="17" data-v-0a9f1635></line><line x1="14" y1="11" x2="14" y2="17" data-v-0a9f1635></line></svg>',1)]),8,$t),t("button",{onClick:p=>n.toggleEventCompletion(o),class:C(["action-btn complete-btn",{completed:o.completed}]),title:o.completed?"Mark as incomplete":"Mark as complete"},e[125]||(e[125]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polyline",{points:"20 6 9 17 4 12"})],-1)]),10,eo)])],2))),128))]))])):c("",!0)]),i.showPomodoroSettingsModal?(l(),r("div",{key:0,class:"modal-overlay",onClick:e[33]||(e[33]=_((...o)=>n.closePomodoroSettings&&n.closePomodoroSettings(...o),["self"]))},[t("div",to,[t("div",oo,[e[128]||(e[128]=t("h2",null,"Pomodoro Settings",-1)),t("button",{onClick:e[22]||(e[22]=(...o)=>n.closePomodoroSettings&&n.closePomodoroSettings(...o)),class:"close-btn"},e[127]||(e[127]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",so,[t("form",{onSubmit:e[32]||(e[32]=_((...o)=>n.savePomodoroSettings&&n.savePomodoroSettings(...o),["prevent"]))},[t("div",io,[e[129]||(e[129]=t("label",{for:"focus-duration"},"Focus Duration (minutes)",-1)),g(t("input",{type:"number",id:"focus-duration","onUpdate:modelValue":e[23]||(e[23]=o=>i.pomodoroSettings.focusDuration=o),min:"1",max:"120",required:""},null,512),[[y,i.pomodoroSettings.focusDuration]])]),t("div",no,[e[130]||(e[130]=t("label",{for:"short-break"},"Short Break Duration (minutes)",-1)),g(t("input",{type:"number",id:"short-break","onUpdate:modelValue":e[24]||(e[24]=o=>i.pomodoroSettings.shortBreakDuration=o),min:"1",max:"60",required:""},null,512),[[y,i.pomodoroSettings.shortBreakDuration]])]),t("div",ro,[e[131]||(e[131]=t("label",{for:"long-break"},"Long Break Duration (minutes)",-1)),g(t("input",{type:"number",id:"long-break","onUpdate:modelValue":e[25]||(e[25]=o=>i.pomodoroSettings.longBreakDuration=o),min:"1",max:"120",required:""},null,512),[[y,i.pomodoroSettings.longBreakDuration]])]),t("div",lo,[e[132]||(e[132]=t("label",{for:"sessions-before-long-break"},"Sessions Before Long Break",-1)),g(t("input",{type:"number",id:"sessions-before-long-break","onUpdate:modelValue":e[26]||(e[26]=o=>i.pomodoroSettings.sessionsBeforeLongBreak=o),min:"1",max:"10",required:""},null,512),[[y,i.pomodoroSettings.sessionsBeforeLongBreak]])]),t("div",ao,[t("div",uo,[g(t("input",{type:"checkbox",id:"auto-start-breaks","onUpdate:modelValue":e[27]||(e[27]=o=>i.pomodoroSettings.autoStartBreaks=o)},null,512),[[E,i.pomodoroSettings.autoStartBreaks]]),e[133]||(e[133]=t("label",{for:"auto-start-breaks"},"Auto-start breaks",-1))])]),t("div",co,[t("div",mo,[g(t("input",{type:"checkbox",id:"auto-start-pomodoros","onUpdate:modelValue":e[28]||(e[28]=o=>i.pomodoroSettings.autoStartPomodoros=o)},null,512),[[E,i.pomodoroSettings.autoStartPomodoros]]),e[134]||(e[134]=t("label",{for:"auto-start-pomodoros"},"Auto-start pomodoros",-1))])]),t("div",ho,[t("div",vo,[g(t("input",{type:"checkbox",id:"play-sound","onUpdate:modelValue":e[29]||(e[29]=o=>i.pomodoroSettings.playSound=o)},null,512),[[E,i.pomodoroSettings.playSound]]),e[135]||(e[135]=t("label",{for:"play-sound"},"Play sound when timer ends",-1))])]),t("div",po,[t("div",go,[g(t("input",{type:"checkbox",id:"show-notifications","onUpdate:modelValue":e[30]||(e[30]=o=>i.pomodoroSettings.showNotifications=o)},null,512),[[E,i.pomodoroSettings.showNotifications]]),e[136]||(e[136]=t("label",{for:"show-notifications"},"Show desktop notifications",-1))])]),t("div",fo,[t("button",{type:"button",onClick:e[31]||(e[31]=(...o)=>n.closePomodoroSettings&&n.closePomodoroSettings(...o)),class:"cancel-btn"},"Cancel"),e[137]||(e[137]=t("button",{type:"submit",class:"save-btn"},"Save Settings",-1))])],32)])])])):c("",!0),i.showSessionFeedbackModal?(l(),r("div",{key:1,class:"modal-overlay",onClick:e[40]||(e[40]=_((...o)=>n.closeSessionFeedbackModal&&n.closeSessionFeedbackModal(...o),["self"]))},[t("div",ko,[t("div",yo,[e[139]||(e[139]=t("h2",null,"Session Feedback",-1)),t("button",{onClick:e[34]||(e[34]=(...o)=>n.closeSessionFeedbackModal&&n.closeSessionFeedbackModal(...o)),class:"close-btn"},e[138]||(e[138]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",wo,[t("form",{onSubmit:e[39]||(e[39]=_((...o)=>n.submitSessionFeedback&&n.submitSessionFeedback(...o),["prevent"]))},[t("div",So,[t("div",bo,d((m=i.sessionToComplete)==null?void 0:m.title),1),t("div",Co,d(n.formatDateShort(new Date(((v=i.sessionToComplete)==null?void 0:v.date)||"")))+" | "+d((k=i.sessionToComplete)==null?void 0:k.startTime)+" - "+d((w=i.sessionToComplete)==null?void 0:w.endTime),1)]),t("div",Do,[e[140]||(e[140]=t("label",{for:"productivity"},"How productive was this session? (1-5)*",-1)),t("div",To,[(l(),r(D,null,T(5,o=>t("button",{key:o,type:"button",class:C(["rating-btn",{active:i.sessionFeedback.productivity===o}]),onClick:p=>i.sessionFeedback.productivity=o},d(o),11,_o)),64))])]),t("div",Mo,[e[141]||(e[141]=t("label",{for:"difficulty"},"How difficult was the material? (1-5)",-1)),t("div",xo,[(l(),r(D,null,T(5,o=>t("button",{key:o,type:"button",class:C(["rating-btn",{active:i.sessionFeedback.difficulty===o}]),onClick:p=>i.sessionFeedback.difficulty=o},d(o),11,Po)),64))])]),t("div",Fo,[e[142]||(e[142]=t("label",{for:"focus-rating"},"How was your focus? (1-5)",-1)),t("div",Eo,[(l(),r(D,null,T(5,o=>t("button",{key:o,type:"button",class:C(["rating-btn",{active:i.sessionFeedback.focusRating===o}]),onClick:p=>i.sessionFeedback.focusRating=o},d(o),11,Bo)),64))])]),t("div",Ao,[e[143]||(e[143]=t("label",{for:"session-notes"},"Notes (optional)",-1)),g(t("textarea",{id:"session-notes","onUpdate:modelValue":e[35]||(e[35]=o=>i.sessionFeedback.notes=o),placeholder:"What did you learn or accomplish?",rows:"3"},null,512),[[y,i.sessionFeedback.notes]])]),t("div",Io,[e[144]||(e[144]=t("label",null,"Topics Covered:",-1)),t("div",Lo,[g(t("input",{type:"text","onUpdate:modelValue":e[36]||(e[36]=o=>i.topicInput=o),onKeydown:e[37]||(e[37]=I(_((...o)=>n.addTopic&&n.addTopic(...o),["prevent"]),["enter"])),placeholder:"Enter topic and press Enter"},null,544),[[y,i.topicInput]]),t("div",Ro,[(l(!0),r(D,null,T(i.sessionFeedback.topics,(o,p)=>(l(),r("span",{key:p,class:"tag"},[M(d(o)+" ",1),t("button",{type:"button",onClick:P=>n.removeTopic(p),class:"remove-tag"},"×",8,No)]))),128))])])]),t("div",jo,[t("button",{type:"button",onClick:e[38]||(e[38]=(...o)=>n.closeSessionFeedbackModal&&n.closeSessionFeedbackModal(...o)),class:"cancel-btn"},"Cancel"),t("button",{type:"submit",class:"save-btn",disabled:i.submitFeedbackLoading},[i.submitFeedbackLoading?(l(),r("span",Uo,"Saving...")):(l(),r("span",Vo,"Submit Feedback"))],8,Ho)])],32)])])])):c("",!0),i.showDeleteConfirmation?(l(),r("div",{key:2,class:"modal-overlay",onClick:e[44]||(e[44]=_(o=>i.showDeleteConfirmation=!1,["self"]))},[t("div",Oo,[t("div",qo,[e[146]||(e[146]=t("h2",null,"Confirm Delete",-1)),t("button",{onClick:e[41]||(e[41]=o=>i.showDeleteConfirmation=!1),class:"close-btn"},e[145]||(e[145]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",Yo,[e[147]||(e[147]=t("p",null,"Are you sure you want to delete this event?",-1)),i.eventToDelete?(l(),r("div",zo,[t("div",Wo,d(i.eventToDelete.title),1),t("div",Go,d(n.formatDate(new Date(i.eventToDelete.date))),1)])):c("",!0),t("div",Jo,[t("button",{onClick:e[42]||(e[42]=o=>i.showDeleteConfirmation=!1),class:"cancel-btn"},"Cancel"),t("button",{onClick:e[43]||(e[43]=(...o)=>n.deleteEvent&&n.deleteEvent(...o)),class:"delete-confirm-btn",disabled:i.deleting},[i.deleting?(l(),r("span",Zo,"Deleting...")):(l(),r("span",Qo,"Delete Event"))],8,Ko)])])])])):c("",!0),i.showEventModal?(l(),r("div",{key:3,class:"modal-overlay",onClick:e[57]||(e[57]=_((...o)=>n.closeEventModal&&n.closeEventModal(...o),["self"]))},[t("div",Xo,[t("div",$o,[t("h2",null,d(i.editMode?"Edit Event":"Create New Event"),1),t("button",{onClick:e[45]||(e[45]=(...o)=>n.closeEventModal&&n.closeEventModal(...o)),class:"close-btn"},e[148]||(e[148]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",es,[t("form",{onSubmit:e[56]||(e[56]=_((...o)=>n.saveEvent&&n.saveEvent(...o),["prevent"]))},[t("div",ts,[e[149]||(e[149]=t("label",{for:"event-title"},"Event Title*",-1)),g(t("input",{type:"text",id:"event-title","onUpdate:modelValue":e[46]||(e[46]=o=>i.eventForm.title=o),placeholder:"Enter event title",required:""},null,512),[[y,i.eventForm.title]])]),t("div",os,[e[150]||(e[150]=t("label",{for:"event-description"},"Description",-1)),g(t("textarea",{id:"event-description","onUpdate:modelValue":e[47]||(e[47]=o=>i.eventForm.description=o),placeholder:"Enter event description",rows:"3"},null,512),[[y,i.eventForm.description]])]),t("div",ss,[t("div",is,[e[151]||(e[151]=t("label",{for:"event-date"},"Date*",-1)),g(t("input",{type:"date",id:"event-date","onUpdate:modelValue":e[48]||(e[48]=o=>i.eventForm.date=o),required:""},null,512),[[y,i.eventForm.date]])]),t("div",ns,[e[153]||(e[153]=t("label",{for:"event-type"},"Event Type*",-1)),g(t("select",{id:"event-type","onUpdate:modelValue":e[49]||(e[49]=o=>i.eventForm.type=o),required:""},e[152]||(e[152]=[F('<option value="general" data-v-0a9f1635>General</option><option value="study" data-v-0a9f1635>Study Session</option><option value="assignment" data-v-0a9f1635>Assignment</option><option value="exam" data-v-0a9f1635>Exam</option><option value="meeting" data-v-0a9f1635>Meeting</option>',5)]),512),[[j,i.eventForm.type]])])]),t("div",rs,[t("div",ls,[g(t("input",{type:"checkbox",id:"all-day","onUpdate:modelValue":e[50]||(e[50]=o=>i.eventForm.all_day=o)},null,512),[[E,i.eventForm.all_day]]),e[154]||(e[154]=t("label",{for:"all-day"},"All Day Event",-1))])]),i.eventForm.all_day?c("",!0):(l(),r("div",as,[t("div",ds,[e[155]||(e[155]=t("label",{for:"start-time"},"Start Time*",-1)),g(t("input",{type:"time",id:"start-time","onUpdate:modelValue":e[51]||(e[51]=o=>i.eventForm.start_time=o),required:!i.eventForm.all_day},null,8,us),[[y,i.eventForm.start_time]])]),t("div",cs,[e[156]||(e[156]=t("label",{for:"end-time"},"End Time*",-1)),g(t("input",{type:"time",id:"end-time","onUpdate:modelValue":e[52]||(e[52]=o=>i.eventForm.end_time=o),required:!i.eventForm.all_day},null,8,ms),[[y,i.eventForm.end_time]])])])),t("div",hs,[e[157]||(e[157]=t("label",{for:"event-color"},"Color",-1)),t("div",vs,[(l(!0),r(D,null,T(i.availableColors,o=>(l(),r("div",{key:o.value,class:C(["color-option",{active:i.eventForm.color===o.value}]),style:x({backgroundColor:o.value}),onClick:p=>i.eventForm.color=o.value},null,14,ps))),128))])]),t("div",gs,[e[158]||(e[158]=t("label",null,"Tags:",-1)),t("div",fs,[g(t("input",{type:"text","onUpdate:modelValue":e[53]||(e[53]=o=>i.eventTagInput=o),onKeydown:e[54]||(e[54]=I(_((...o)=>n.addEventTag&&n.addEventTag(...o),["prevent"]),["enter"])),placeholder:"Enter tag and press Enter"},null,544),[[y,i.eventTagInput]]),t("div",ks,[(l(!0),r(D,null,T(i.eventForm.tags,(o,p)=>(l(),r("span",{key:p,class:"tag"},[M(d(o)+" ",1),t("button",{type:"button",onClick:P=>n.removeEventTag(p),class:"remove-tag"},"×",8,ys)]))),128))])])]),t("div",ws,[t("button",{type:"button",onClick:e[55]||(e[55]=(...o)=>n.closeEventModal&&n.closeEventModal(...o)),class:"cancel-btn"},"Cancel"),t("button",{type:"submit",class:"save-btn",disabled:i.submitting},[i.submitting?(l(),r("span",bs,"Saving...")):(l(),r("span",Cs,d(i.editMode?"Update Event":"Create Event"),1))],8,Ss)])],32)])])])):c("",!0),i.showRescheduleModal?(l(),r("div",{key:4,class:"modal-overlay",onClick:e[64]||(e[64]=_((...o)=>n.closeRescheduleModal&&n.closeRescheduleModal(...o),["self"]))},[t("div",Ds,[t("div",Ts,[e[160]||(e[160]=t("h2",null,"Reschedule Session",-1)),t("button",{onClick:e[58]||(e[58]=(...o)=>n.closeRescheduleModal&&n.closeRescheduleModal(...o)),class:"close-btn"},e[159]||(e[159]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",_s,[t("form",{onSubmit:e[63]||(e[63]=_((...o)=>n.submitReschedule&&n.submitReschedule(...o),["prevent"]))},[t("div",Ms,[t("div",xs,d((B=i.sessionToReschedule)==null?void 0:B.title),1),t("div",Ps,d(n.getModuleName((A=i.sessionToReschedule)==null?void 0:A.module)),1)]),t("div",Fs,[e[161]||(e[161]=t("label",{for:"reschedule-date"},"New Date*",-1)),g(t("input",{type:"date",id:"reschedule-date","onUpdate:modelValue":e[59]||(e[59]=o=>i.rescheduleForm.date=o),required:""},null,512),[[y,i.rescheduleForm.date]])]),t("div",Es,[t("div",Bs,[e[162]||(e[162]=t("label",{for:"reschedule-start-time"},"Start Time*",-1)),g(t("input",{type:"time",id:"reschedule-start-time","onUpdate:modelValue":e[60]||(e[60]=o=>i.rescheduleForm.startTime=o),required:""},null,512),[[y,i.rescheduleForm.startTime]])]),t("div",As,[e[163]||(e[163]=t("label",{for:"reschedule-end-time"},"End Time*",-1)),g(t("input",{type:"time",id:"reschedule-end-time","onUpdate:modelValue":e[61]||(e[61]=o=>i.rescheduleForm.endTime=o),required:""},null,512),[[y,i.rescheduleForm.endTime]])])]),t("div",Is,[t("button",{type:"button",onClick:e[62]||(e[62]=(...o)=>n.closeRescheduleModal&&n.closeRescheduleModal(...o)),class:"cancel-btn"},"Cancel"),t("button",{type:"submit",class:"save-btn",disabled:i.rescheduleLoading},[i.rescheduleLoading?(l(),r("span",Rs,"Rescheduling...")):(l(),r("span",Ns,"Reschedule Session"))],8,Ls)])],32)])])])):c("",!0),i.showPomodoroCompletionModal?(l(),r("div",{key:5,class:"modal-overlay",onClick:e[68]||(e[68]=_((...o)=>n.closePomodoroCompletionModal&&n.closePomodoroCompletionModal(...o),["self"]))},[t("div",js,[t("div",Hs,[t("h2",null,d(i.pomodoroState.isBreak?"Break Completed!":"Pomodoro Completed!"),1),t("button",{onClick:e[65]||(e[65]=(...o)=>n.closePomodoroCompletionModal&&n.closePomodoroCompletionModal(...o)),class:"close-btn"},e[164]||(e[164]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),t("div",Us,[t("div",Vs,[t("div",Os,[(l(),r("svg",qs,[i.pomodoroState.isBreak?(l(),r("path",Ys)):c("",!0),i.pomodoroState.isBreak?c("",!0):(l(),r("polyline",zs)),i.pomodoroState.isBreak?c("",!0):(l(),r("path",Ws))]))]),t("div",Gs,[i.pomodoroState.isBreak?(l(),r("p",Js,"Your break time is over! Ready to get back to work?")):(l(),r("p",Ks,"Great job! You've completed a pomodoro session.")),i.pomodoroState.completedPomodoros>0?(l(),r("p",Zs," You've completed "+d(i.pomodoroState.completedPomodoros)+" pomodoro"+d(i.pomodoroState.completedPomodoros>1?"s":"")+" today! ",1)):c("",!0)]),t("div",Qs,[t("button",{onClick:e[66]||(e[66]=(...o)=>n.startNextPomodoro&&n.startNextPomodoro(...o)),class:"pomodoro-next-btn"},d(i.pomodoroState.isBreak?"Start Next Pomodoro":"Start Break"),1),t("button",{onClick:e[67]||(e[67]=(...o)=>n.closePomodoroCompletionModal&&n.closePomodoroCompletionModal(...o)),class:"pomodoro-pause-btn"}," Pause ")])])])])])):c("",!0),i.focusMode?(l(),r("div",Xs,[t("div",$s,[t("div",ei,[t("div",ti,[(l(),r("svg",oi,[e[165]||(e[165]=t("circle",{class:"timer-circle-bg",cx:"50",cy:"50",r:"45"},null,-1)),t("circle",{class:"timer-circle-progress",cx:"50",cy:"50",r:"45",style:x({strokeDashoffset:n.calculateCircleProgress(i.pomodoroTimeLeft,i.pomodoroState.currentDuration),stroke:i.pomodoroState.isBreak?"#4caf50":"#7b49ff"})},null,4)])),t("div",si,d(n.formatPomodoroTime(i.pomodoroTimeLeft)),1),t("div",ii,d(i.pomodoroState.isBreak?"Break Time":"Focus Time"),1)]),t("div",ni,[i.pomodoroState.isRunning?(l(),r("button",{key:0,onClick:e[69]||(e[69]=(...o)=>n.pausePomodoroTimer&&n.pausePomodoroTimer(...o)),class:"focus-control-btn pause-btn"},e[166]||(e[166]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("rect",{x:"6",y:"4",width:"4",height:"16"}),t("rect",{x:"14",y:"4",width:"4",height:"16"})],-1)]))):c("",!0),i.pomodoroState.isPaused?(l(),r("button",{key:1,onClick:e[70]||(e[70]=(...o)=>n.resumePomodoroTimer&&n.resumePomodoroTimer(...o)),class:"focus-control-btn resume-btn"},e[167]||(e[167]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 3 19 12 5 21 5 3"})],-1)]))):c("",!0),t("button",{onClick:e[71]||(e[71]=(...o)=>n.resetPomodoroTimer&&n.resetPomodoroTimer(...o)),class:"focus-control-btn reset-btn",disabled:!i.pomodoroState.isRunning&&!i.pomodoroState.isPaused},e[168]||(e[168]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),t("path",{d:"M3 3v5h5"})],-1)]),8,ri),t("button",{onClick:e[72]||(e[72]=(...o)=>n.skipPomodoroPhase&&n.skipPomodoroPhase(...o)),class:"focus-control-btn skip-btn",disabled:!i.pomodoroState.isRunning&&!i.pomodoroState.isPaused},e[169]||(e[169]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("polygon",{points:"5 4 15 12 5 20 5 4"}),t("line",{x1:"19",y1:"5",x2:"19",y2:"19"})],-1)]),8,li),t("button",{onClick:e[73]||(e[73]=(...o)=>n.toggleFocusMode&&n.toggleFocusMode(...o)),class:"focus-control-btn exit-btn"},e[170]||(e[170]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1)]))])]),i.pomodoroState.activeTask?(l(),r("div",ai,[t("div",di,[e[171]||(e[171]=t("div",{class:"active-task-label"},"Current Task:",-1)),t("div",ui,d(i.pomodoroState.activeTask.title),1)])])):c("",!0)])])):c("",!0)],2)}const hi=L(U,[["render",ci],["__scopeId","data-v-0a9f1635"]]);export{hi as C};
