import{_,c as d,a as t,f as y,t as a,n as m,g as p,F as w,j as M,v as k,y as F,b as G,x as T,e as P,d as L,m as E,p as C,A as b,C as S,q as x,u as V,r as U,o as u}from"./index-wRRb0eXn.js";import{M as N}from"./ModuleAnalyticsComponent-ChNWP25V.js";import"./chart-BOVB5OMx.js";const I={name:"MobileDashboard",components:{ModuleAnalyticsComponent:N},data(){return{activeView:"overview",selectedYear:"all",sortMethod:"name",loading:!1,showProfileMenu:!1,showModuleDetail:!1,selectedModule:null,activeModuleTab:"details",showModuleForm:!1,editingModule:!1,moduleSuggestions:[],showSuggestions:!1,isLoadingSuggestions:!1,suggestionTimeout:null,notLoggedIn:!1,userProfile:{firstName:"",email:"",avatar:""},showSetupWizard:!1,showNextConfig:!1,showYearWeights:!1,userConfig:{academicLevel:"",enrollmentType:"",studyPreference:""},calculatorConfig:{years:[]},nextConfig:{currentYear:1,customCurrentYear:0,numYears:0,semesters:0,credits:0,customYears:0,customSemesters:0,customCredits:0},yearWeights:[],targetGrade:70,customTargetGrade:0,moduleData:[],moduleForm:{name:"",code:"",credits:15,year:"",semester:1,score:0,isCurrentlyEnrolled:!1,assessments:[]},dashboardStats:{},dashboardConfig:{},recentActivities:[],goals:[],settings:{appearance:{accentColor:"purple",fontSize:"medium",highContrast:!1,enableAnimations:!0},academic:{academicLevel:"Undergraduate",enrollmentType:"Full time",studyPreferences:["Mornings"],currentYear:1,totalYears:3,semestersPerYear:2,creditsPerYear:120,targetGrade:70,gradingScale:[{letter:"A",minPercentage:70,gpaValue:4},{letter:"B",minPercentage:60,gpaValue:3},{letter:"C",minPercentage:50,gpaValue:2},{letter:"D",minPercentage:40,gpaValue:1},{letter:"F",minPercentage:0,gpaValue:0}],yearWeights:[]}}}},computed:{completedModuleData(){return this.moduleData.filter(i=>!i.isCurrentlyEnrolled)},currentModuleData(){return this.moduleData.filter(i=>i.isCurrentlyEnrolled)},filteredCompletedModules(){return this.selectedTimeframe==="all"?this.completedModuleData:this.completedModuleData.filter(i=>i.year===`Year ${this.selectedTimeframe}`)},totalWeight(){return this.yearWeights.length?this.yearWeights.reduce((i,e)=>i+(e.active?e.weight:0),0):0},hasActiveYears(){return this.yearWeights.some(i=>i.active)},totalAssessmentWeight(){return this.moduleForm.assessments.reduce((i,e)=>i+(e.weight||0),0)},isModuleFormValid(){return this.moduleForm.name&&this.moduleForm.credits>0&&this.moduleForm.year&&this.moduleForm.assessments.length>0&&this.totalAssessmentWeight===100},overallAverage(){const i=this.completedModuleData;if(!i||i.length===0)return 0;const e=i.reduce((n,s)=>n+s.credits,0),l=i.reduce((n,s)=>n+s.score*s.credits,0);return e>0?Math.round(l/e*10)/10:0},completedCredits(){return this.completedModuleData.reduce((i,e)=>i+e.credits,0)},totalCredits(){var i;return((i=this.dashboardStats)==null?void 0:i.totalCredits)||this.moduleData.reduce((e,l)=>e+l.credits,0)},topModule(){const i=this.completedModuleData;return!i||i.length===0?{name:"N/A",score:0}:i.reduce((e,l)=>l.score>e.score?l:e,{name:"N/A",score:0})},achievedPercentage(){const i=this.completedModuleData,e=i.reduce((n,s)=>n+s.credits*100,0),l=i.reduce((n,s)=>n+s.score*s.credits,0);return e>0?Math.round(l/e*100):0},lostPercentage(){const i=this.completedCredits,e=this.totalCredits;return e===0?0:Math.round(i/e*100-this.achievedPercentage)},remainingPercentage(){const i=this.completedCredits,e=this.totalCredits;return e===0?100:Math.round(100-i/e*100)},targetGrades(){var Y,W,D;const i=this.overallAverage,e=this.completedCredits,l=this.totalCredits,n=l-e;if(n<=0)return{firstClass:i,upperSecond:i,lowerSecond:i};const s=i*e,o=this.settings.academic.gradingScale||[],g=((Y=o.find(A=>A.letter==="A"))==null?void 0:Y.minPercentage)||70,r=((W=o.find(A=>A.letter==="B"))==null?void 0:W.minPercentage)||60,h=((D=o.find(A=>A.letter==="C"))==null?void 0:D.minPercentage)||50,c=Math.round((g*l-s)/n*10)/10,v=Math.round((r*l-s)/n*10)/10,f=Math.round((h*l-s)/n*10)/10;return{firstClass:Math.max(0,Math.min(100,c)),upperSecond:Math.max(0,Math.min(100,v)),lowerSecond:Math.max(0,Math.min(100,f))}},targetHighGrade(){return this.targetGrades.firstClass},targetMediumGrade(){return this.targetGrades.upperSecond},targetLowGrade(){return this.targetGrades.lowerSecond},averageVsTarget(){const i=this.settings.academic.targetGrade==="custom"?this.settings.academic.customTargetGrade:this.settings.academic.targetGrade||70;return Math.round((this.overallAverage-i)*10)/10},predictionAccuracy(){return 87},consistencyScore(){const i=this.completedModuleData;if(i.length<2)return 100;const e=i.map(g=>g.score),l=e.reduce((g,r)=>g+r,0)/e.length,s=e.map(g=>Math.pow(g-l,2)).reduce((g,r)=>g+r,0)/e.length,o=Math.sqrt(s);return Math.max(0,Math.round(100-o*3.33))},performanceVariance(){const i=this.completedModuleData;if(i.length<2)return 0;const e=i.map(s=>s.score),l=Math.max(...e),n=Math.min(...e);return Math.round((l-n)*10)/10},improvementRate(){const i=this.completedModuleData;if(i.length<2)return 0;const e=[...i].sort((g,r)=>{const h=parseInt(g.year.replace("Year ","")),c=parseInt(r.year.replace("Year ",""));return h-c}),l=e.filter(g=>g.year===e[0].year),n=e.filter(g=>g.year===e[e.length-1].year);if(l.length===0||n.length===0||l[0].year===n[0].year)return 0;const s=l.reduce((g,r)=>g+r.score,0)/l.length,o=n.reduce((g,r)=>g+r.score,0)/n.length;return Math.round((o-s)/s*100*10)/10},bestCaseGrade(){const i=this.completedCredits,e=this.totalCredits;if(e===0)return 0;const l=100-Math.round(i/e*100);return Math.min(100,Math.round(this.overallAverage*(100-l)/100+95*l/100))},expectedGrade(){return Math.min(100,Math.round(this.overallAverage+(this.improvementRate>0?this.improvementRate/10:0)))},minimumGrade(){var s;const i=this.settings.academic.gradingScale||[],e=((s=i.find(o=>o.letter==="D"))==null?void 0:s.minPercentage)||40,l=this.overallAverage;return i.map(o=>o.minPercentage).filter(o=>o<=l).sort((o,g)=>g-o)[0]||e},filteredYears(){var e,l;if(!((l=(e=this.calculatorConfig)==null?void 0:e.years)!=null&&l.length))return[];let i=[];return this.calculatorConfig.years.forEach(n=>{if(!n.active||this.selectedYear!=="all"&&n.year!==this.selectedYear)return;const s=this.moduleData.filter(v=>v.year===n.year),o=s.filter(v=>!v.isCurrentlyEnrolled);let g=[...s];switch(this.sortMethod){case"name":g.sort((v,f)=>v.name.localeCompare(f.name));break;case"score-asc":g.sort((v,f)=>v.isCurrentlyEnrolled&&!f.isCurrentlyEnrolled?1:!v.isCurrentlyEnrolled&&f.isCurrentlyEnrolled?-1:v.score-f.score);break;case"score-desc":g.sort((v,f)=>v.isCurrentlyEnrolled&&!f.isCurrentlyEnrolled?1:!v.isCurrentlyEnrolled&&f.isCurrentlyEnrolled?-1:f.score-v.score);break;case"status":g.sort((v,f)=>v.isCurrentlyEnrolled&&!f.isCurrentlyEnrolled?-1:!v.isCurrentlyEnrolled&&f.isCurrentlyEnrolled?1:v.name.localeCompare(f.name));break}const r=n.credits,h=o.reduce((v,f)=>v+f.credits,0),c=o.length?Math.round(o.reduce((v,f)=>v+f.score*f.credits,0)/h*10)/10:0;i.push({year:n.year,average:c,completedCredits:h,totalCredits:r,weight:n.weight,modules:g})}),i},semesterOptions(){var l,n;let i=this.settings.academic.semestersPerYear||2;if(((n=(l=this.calculatorConfig)==null?void 0:l.years)==null?void 0:n.length)>0){const s=this.calculatorConfig.years.map(o=>o.semesters||0).filter(o=>o>0);s.length>0&&(i=Math.max(...s))}const e=[];for(let s=1;s<=i;s++)e.push({label:`Semester ${s}`,value:s});return e.push({label:"Full Academic Year",value:0}),e}},async mounted(){S.isNativePlatform()&&this.setupHardwareBackButton();try{const i=await V.fetchSettings();i&&(this.settings=this.mergeDeep(this.settings,i)),await this.checkLoginAndFetchConfig(),await this.fetchModules(),await this.fetchDashboardData(),this.generatePersonalizedTips()}catch(i){console.error("Error initializing dashboard:",i),x({type:"error",message:"Failed to load dashboard data"})}},methods:{setupHardwareBackButton(){S.isNativePlatform()&&S.Plugins.App&&S.Plugins.App.addListener("backButton",()=>{if(this.showModuleDetail){this.showModuleDetail=!1;return}if(this.showModuleForm){this.showModuleForm=!1;return}if(this.showProfileMenu){this.showProfileMenu=!1;return}if(this.showYearWeights){this.goBackToDegreeConfig();return}if(this.showNextConfig){this.goBackToStep1();return}if(this.showSetupWizard){S.Plugins.App.exitApp();return}if(this.activeView!=="overview"){this.activeView="overview";return}S.Plugins.App.minimizeApp()})},toggleProfileMenu(){this.showProfileMenu=!this.showProfileMenu},navigateTo(i){this.showProfileMenu=!1,this.$router.push(i)},getUserInitial(){return this.userProfile.firstName?this.userProfile.firstName.charAt(0).toUpperCase():this.userProfile.email?this.userProfile.email.charAt(0).toUpperCase():"U"},async fetchUserProfile(){try{const i=await C.get(`${b}/user/profile`,{withCredentials:!0});return this.userProfile=i.data,i.data}catch(i){return console.error("Error fetching user profile:",i),i.response&&i.response.status===401&&(this.notLoggedIn=!0),null}},async fetchCalculatorConfig(){try{const i=await C.get(`${b}/calculator`,{withCredentials:!0});return this.calculatorConfig=i.data,i.data}catch(i){return console.error("Error fetching calculator config:",i),null}},async fetchModules(){try{this.loading=!0;const i=await C.get(`${b}/modules`,{withCredentials:!0});return this.moduleData=i.data,i.data}catch(i){console.error("Error fetching modules:",i);try{const e=JSON.parse(localStorage.getItem("gradeGuardModules")||"[]");e.length>0&&(this.moduleData=e)}catch(e){console.error("Error loading from local storage:",e)}return[]}finally{this.loading=!1}},async fetchDashboardData(){try{this.loading=!0;const i=await C.get(`${b}/dashboard`,{withCredentials:!0}),{stats:e,config:l}=i.data;return this.dashboardStats=e,this.dashboardConfig=l,this.recentActivities=l.recentActivities||[],this.goals=l.goals||[],i.data}catch(i){return console.error("Error fetching dashboard data:",i),null}finally{this.loading=!1}},async fetchModuleSuggestions(){if(this.suggestionTimeout&&clearTimeout(this.suggestionTimeout),!this.moduleForm.name||this.moduleForm.name.length<2){this.moduleSuggestions=[],this.showSuggestions=!1;return}this.suggestionTimeout=setTimeout(async()=>{try{this.isLoadingSuggestions=!0;const i=await C.get(`${b}/modules/suggestions`,{params:{query:this.moduleForm.name,degree:"COMPUTER SCIENCE",university:this.userProfile.university||"University"},withCredentials:!0});this.moduleSuggestions=i.data||[],this.showSuggestions=this.moduleSuggestions.length>0}catch(i){console.error("Error fetching module suggestions:",i),this.moduleSuggestions=[],this.showSuggestions=!1}finally{this.isLoadingSuggestions=!1}},300)},selectSuggestion(i){this.moduleForm.name=i.name,this.moduleForm.code=i.code,i.credits&&(this.moduleForm.credits=i.credits),this.showSuggestions=!1},viewModuleDetails(i){this.selectedModule=i,this.activeModuleTab="details",this.showModuleDetail=!0},getAnalyticsId(i){if(i.analyticsId)return i.analyticsId;const e=i.name.trim().toLowerCase().replace(/\s+/g,"_"),l=i.code?`-${i.code.trim().toLowerCase()}`:"";return`${e}${l}`},getScoreClass(i){return i>=70?"excellent-score":i>=60?"good-score":i>=50?"average-score":i>=40?"pass-score":"fail-score"},getModuleIconClass(i){return i>=70?"excellent":i>=60?"good":i>=50?"average":i>=40?"pass":"fail"},getComparisonClass(i){return i>5?"positive-large":i>0?"positive-small":i<-5?"negative-large":i<0?"negative-small":"neutral"},showAddModuleForm(i){this.editingModule=!1,this.moduleForm={name:"",code:"",credits:15,year:i.year,semester:1,score:0,isCurrentlyEnrolled:!0,assessments:[{name:"Exam",weight:100,score:0,completed:!1}]},this.showModuleForm=!0},showGlobalAddModule(){var i;(!this.calculatorConfig.years||this.calculatorConfig.years.length===0)&&(this.settings.academic.totalYears&&((i=this.settings.academic.yearWeights)!=null&&i.length)?this.calculatorConfig.years=this.settings.academic.yearWeights.map((e,l)=>({year:`Year ${l+1}`,active:e.active,credits:this.settings.academic.creditsPerYear||120,weight:e.weight,semesters:this.settings.academic.semestersPerYear||2})):this.calculatorConfig.years=[{year:"Year 1",active:!0,credits:120,weight:33,semesters:2},{year:"Year 2",active:!0,credits:120,weight:33,semesters:2},{year:"Year 3",active:!0,credits:120,weight:34,semesters:2}]),this.editingModule=!1,this.moduleForm={name:"",code:"",credits:15,year:this.calculatorConfig.years&&this.calculatorConfig.years.length>0?this.calculatorConfig.years[0].year:"Year 1",semester:1,score:0,isCurrentlyEnrolled:!0,assessments:[{name:"Exam",weight:100,score:0,completed:!1}]},this.showModuleForm=!0},editModule(i){this.editingModule=!0,this.moduleForm=JSON.parse(JSON.stringify(i)),this.moduleForm.semester===void 0&&(this.moduleForm.semester=1),this.moduleForm.isCurrentlyEnrolled===void 0&&(this.moduleForm.isCurrentlyEnrolled=!1),!this.moduleForm.assessments||!this.moduleForm.assessments.length?this.moduleForm.assessments=[{name:"Exam",weight:100,score:i.score,completed:!i.isCurrentlyEnrolled}]:this.moduleForm.isCurrentlyEnrolled&&(this.moduleForm.assessments=this.moduleForm.assessments.map(e=>e.hasOwnProperty("completed")?e:{...e,completed:!1})),this.showModuleDetail=!1,this.showModuleForm=!0},addAssessment(){this.moduleForm.assessments.push({name:`Assessment ${this.moduleForm.assessments.length+1}`,weight:0,score:0,completed:!1})},removeAssessment(i){this.moduleForm.assessments.splice(i,1)},async saveModule(){var i,e;if(!this.isModuleFormValid){x({type:"warning",message:"Please complete all required fields and ensure assessment weights total 100%."});return}try{if(this.loading=!0,this.moduleForm.isCurrentlyEnrolled){const l=this.moduleForm.assessments.filter(n=>n.completed);if(l.length>0){const n=l.reduce((o,g)=>o+g.weight,0),s=l.reduce((o,g)=>o+g.score*g.weight,0);this.moduleForm.score=n>0?Math.round(s/n*10)/10:0}else this.moduleForm.score=0;this.moduleForm.status="in_progress"}else{const l=this.moduleForm.assessments.reduce((n,s)=>n+s.score*s.weight/100,0);this.moduleForm.score=Math.round(l*10)/10,this.moduleForm.status="completed"}try{this.editingModule?await C.put(`${b}/modules/${this.moduleForm.id}`,this.moduleForm,{withCredentials:!0}):await C.post(`${b}/modules`,this.moduleForm,{withCredentials:!0});const l=this.moduleForm.year;let s=(await C.get(`${b}/calculator`,{withCredentials:!0})).data;s.years||(s.years=[]);let o=s.years.find(r=>r.year===l),g=!1;if(o)o.active||(o.active=!0,g=!0);else{const r=s.years.length>0?Math.floor(100/(s.years.length+1)):100;if(s.years.push({year:l,active:!0,credits:120,weight:r,semesters:2}),s.years.length>1){const h=s.years.reduce((c,v)=>c+v.weight,0);if(h>100){const c=100/h;s.years.forEach(f=>{f.weight=Math.floor(f.weight*c)});const v=s.years.reduce((f,Y)=>f+Y.weight,0);if(v!==100){const f=100-v;s.years[s.years.length-1].weight+=f}}}g=!0}g&&(await C.put(`${b}/calculator`,s,{withCredentials:!0}),this.calculatorConfig=s),await this.fetchModules(),await this.fetchDashboardData()}catch(l){console.warn("API save failed, using local storage backup",l);const n={...this.moduleForm};if(this.editingModule||(n.id="local-"+Date.now()),this.editingModule){const s=this.moduleData.findIndex(o=>o.id===n.id);s>=0?this.moduleData[s]=n:this.moduleData.push(n)}else this.moduleData.push(n);localStorage.setItem("gradeGuardModules",JSON.stringify(this.moduleData))}x({type:"success",message:`Module ${this.editingModule?"updated":"added"} successfully!`}),this.showModuleForm=!1,this.activeView="yearly",this.addActivity({type:"grade",title:this.editingModule?"Module Updated":"Module Added",description:`${this.moduleForm.name}: ${this.moduleForm.isCurrentlyEnrolled?"In Progress":`${this.moduleForm.score}%`}`,time:"Just now"})}catch(l){console.error("Error saving module:",l),x({type:"error",message:`Failed to ${this.editingModule?"update":"add"} module: ${((e=(i=l.response)==null?void 0:i.data)==null?void 0:e.error)||l.message}`})}finally{this.loading=!1}},async deleteModule(i){var l,n;if(confirm(`Are you sure you want to delete "${i.name}"?`))try{this.loading=!0,await C.delete(`${b}/modules/${i.id}`,{withCredentials:!0}),await this.fetchModules(),await this.fetchDashboardData(),x({type:"success",message:"Module deleted successfully!"}),this.showModuleDetail=!1,this.addActivity({type:"grade",title:"Module Deleted",description:`${i.name}`,time:"Just now"})}catch(s){console.error("Error deleting module:",s),x({type:"error",message:`Failed to delete module: ${((n=(l=s.response)==null?void 0:l.data)==null?void 0:n.error)||s.message}`})}finally{this.loading=!1}},async addActivity(i){try{await C.post(`${b}/dashboard/activity`,i,{withCredentials:!0}),Array.isArray(this.recentActivities)||(this.recentActivities=[]),this.recentActivities.unshift(i),this.recentActivities.length>10&&(this.recentActivities=this.recentActivities.slice(0,10))}catch(e){console.error("Error adding activity:",e)}},saveUserConfig(){if(!this.userConfig.academicLevel||!this.userConfig.enrollmentType||!this.userConfig.studyPreference){x({type:"warning",message:"Please complete all preference fields."});return}this.settings.academic.academicLevel=this.userConfig.academicLevel,this.settings.academic.enrollmentType=this.userConfig.enrollmentType,this.settings.academic.studyPreferences=[this.userConfig.studyPreference],this.showSetupWizard=!1,this.showNextConfig=!0},goBackToStep1(){this.showNextConfig=!1,this.showSetupWizard=!0},goToYearWeights(){const i=this.nextConfig.numYears==="other"?this.nextConfig.customYears:this.nextConfig.numYears,e=this.nextConfig.semesters==="other"?this.nextConfig.customSemesters:this.nextConfig.semesters,l=this.nextConfig.credits==="other"?this.nextConfig.customCredits:this.nextConfig.credits;if(!i||!e||!l){x({type:"warning",message:"Please fill all degree details (years, semesters, credits)."});return}this.settings.academic.totalYears=i,this.settings.academic.semestersPerYear=e,this.settings.academic.creditsPerYear=l,this.showNextConfig=!1,this.showYearWeights=!0,this.yearWeights.length===0&&this.initializeYearWeights(i)},goBackToDegreeConfig(){this.showYearWeights=!1,this.showNextConfig=!0},initializeYearWeights(i){const e=Math.floor(100/i),l=100-e*i;this.yearWeights=[];for(let n=0;n<i;n++){const s=n===i-1?e+l:e;this.yearWeights.push({year:n+1,weight:s,active:!0})}},validateYearWeights(){if(!this.yearWeights)return;this.yearWeights.forEach(e=>{e.weight>100&&(e.weight=100),e.weight<0&&(e.weight=0)});const i=this.yearWeights.filter(e=>e.active);i.length===1&&(i[0].weight=100)},async completeSetup(){var i,e;if(this.totalWeight!==100&&this.hasActiveYears){x({type:"warning",message:"The total weight of active years should equal 100%."});return}try{this.loading=!0;const l=this.nextConfig.numYears==="other"?this.nextConfig.customYears:this.nextConfig.numYears,n=this.nextConfig.semesters==="other"?this.nextConfig.customSemesters:this.nextConfig.semesters,s=this.nextConfig.credits==="other"?this.nextConfig.customCredits:this.nextConfig.credits,o={numYears:l,semesters:n,credits:s,years:this.yearWeights.map((h,c)=>({year:`Year ${c+1}`,active:h.active,credits:s,weight:h.weight,semesters:n}))};this.settings.academic.totalYears=l,this.settings.academic.semestersPerYear=n,this.settings.academic.creditsPerYear=s,this.settings.academic.yearWeights=this.yearWeights,this.settings.academic.targetGrade=this.targetGrade,this.settings.academic.customTargetGrade=this.customTargetGrade,await C.put(`${b}/calculator/update`,o,{withCredentials:!0});const g=this.targetGrade==="custom"?this.customTargetGrade:this.targetGrade,r=[{title:"First Class Degree",description:`Achieve overall average of ${g}% or higher`,progress:0,target_score:g}];await C.put(`${b}/dashboard/goals`,r,{withCredentials:!0}),(this.userConfig.academicLevel||this.userConfig.enrollmentType||this.userConfig.studyPreference)&&await C.put(`${b}/user/config`,{studyPreferences:this.userConfig},{withCredentials:!0}),await V.saveSettings(this.settings),this.showYearWeights=!1,this.showSetupWizard=!1,this.showNextConfig=!1,await this.fetchCalculatorConfig(),await this.fetchModules(),await this.fetchDashboardData(),x({type:"success",message:"Setup completed successfully!"})}catch(l){console.error("Error completing setup:",l),x({type:"error",message:`Setup failed: ${((e=(i=l.response)==null?void 0:i.data)==null?void 0:e.error)||l.message}`})}finally{this.loading=!1}},mergeDeep(i,e){const l=Object.assign({},i);return this.isObject(i)&&this.isObject(e)&&Object.keys(e).forEach(n=>{this.isObject(e[n])?n in i?l[n]=this.mergeDeep(i[n],e[n]):Object.assign(l,{[n]:e[n]}):Object.assign(l,{[n]:e[n]})}),l},isObject(i){return i&&typeof i=="object"&&!Array.isArray(i)},generatePersonalizedTips(){const i=[],e=this.currentModuleData;if(e.length>0&&(e.slice(0,2).forEach(n=>{i.push({title:`Focus on ${n.name}`,description:"Create a study plan and allocate regular time to stay on top of the coursework."})}),i.push({title:"Current Modules Strategy",description:`You're enrolled in ${e.length} module${e.length>1?"s":""}. Distribute effort based on credit weighting.`})),this.settings.academic.studyPreferences&&this.settings.academic.studyPreferences.length>0){const l=this.settings.academic.studyPreferences.join(" and ");i.push({title:"Leverage Your Study Preferences",description:`Schedule difficult work during ${l} to maximize productivity.`})}i.push({title:"Effective Time Management",description:"Break down assignments into smaller tasks with deadlines to reduce stress and improve quality."}),i.push({title:"Active Learning Techniques",description:"Instead of passive reading, test yourself on key concepts to improve retention."}),i.length<4&&i.push({title:"Balance Your Workload",description:"Regular study periods help maintain consistent progress and reduce stress."}),this.personalizedTips=i.slice(0,4)},async checkLoginAndFetchConfig(){var i;try{if(!await this.fetchUserProfile()){this.notLoggedIn=!0;return}const l=await this.fetchCalculatorConfig();(!l||!l.years||l.years.length===0)&&((i=this.settings.academic.yearWeights)!=null&&i.length?this.calculatorConfig.years=this.settings.academic.yearWeights.map((n,s)=>({year:`Year ${s+1}`,active:n.active,credits:this.settings.academic.creditsPerYear||120,weight:n.weight,semesters:this.settings.academic.semestersPerYear||2})):this.showSetupWizard=!0)}catch(e){console.error("Error checking login and config:",e),this.notLoggedIn=!0}},async handleLogout(){try{if(await C.post(`${b}/logout`,{},{withCredentials:!0}),this.notLoggedIn=!0,S.isNativePlatform()){const{Toast:i}=S.Plugins;i&&await i.show({text:"Logged out successfully",duration:"short"}),setTimeout(()=>{var e;(e=S.Plugins.App)==null||e.exitApp()},1e3)}else this.$router.push("/login?logout=true")}catch(i){console.error("Error during logout:",i),this.$router.push("/login?logout=true")}}}},z={class:"mobile-dashboard"},B={class:"app-header"},O={class:"logo-container"},q={key:0,class:"avatar"},R=["src"],j={key:1,class:"avatar default-avatar"},H={key:0,class:"profile-menu"},J={class:"profile-info"},K={class:"user-name"},Q={class:"user-email"},X={class:"menu-items"},Z={class:"view-tabs"},$={key:0,class:"center-content auth-prompt"},ee={class:"auth-card"},te={key:1,class:"center-content"},se={class:"setup-wizard"},ie={class:"wizard-card"},re={class:"form-group"},oe={class:"select-group"},le={class:"form-group"},ne={class:"select-group"},ae={class:"form-group"},de={class:"select-group"},ue={key:2,class:"center-content"},ce={class:"next-config"},ge={class:"wizard-card"},me={class:"form-group"},he={class:"select-group"},ve=["onClick"],fe={class:"form-group"},pe={class:"select-group"},ye=["onClick"],Ce={class:"form-group"},be={class:"select-group"},we=["onClick"],Me={class:"form-group"},ke={class:"select-group"},xe={class:"button-group"},Se={key:3,class:"center-content"},Pe={class:"next-config"},Ae={class:"wizard-card"},Ye={class:"year-weights-container"},Fe={class:"year-column"},Te={class:"weight-column"},Ee=["onUpdate:modelValue","disabled"],We={class:"active-column"},De={class:"toggle-container"},Ve=["onUpdate:modelValue"],_e={class:"form-group"},Ge={class:"select-group"},Le={class:"button-group"},Ue=["disabled"],Ne={key:4,class:"dashboard-main"},Ie={key:0,class:"dashboard-overview"},ze={class:"grade-card"},Be={class:"grade-value"},Oe={class:"grade-stats"},qe={class:"stat-item"},Re={class:"stat-value"},je={class:"stat-item"},He={class:"stat-value"},Je={class:"progress-card"},Ke={class:"progress-bar"},Qe={class:"targets-card"},Xe={class:"target-item"},Ze={class:"target-value"},$e={class:"target-item"},et={class:"target-value"},tt={class:"target-item"},st={class:"target-value"},it={class:"activity-card"},rt={class:"activity-list"},ot={key:0,class:"fas fa-check-circle"},lt={key:1,class:"fas fa-file-alt"},nt={key:2,class:"fas fa-info-circle"},at={class:"activity-content"},dt={class:"activity-title"},ut={class:"activity-description"},ct={class:"activity-time"},gt={key:1,class:"yearly-view"},mt={class:"filters-card"},ht={class:"filter-group"},vt=["value"],ft={class:"filter-group"},pt={class:"year-header"},yt={class:"year-summary"},Ct={class:"year-avg"},bt={class:"year-credits"},wt={class:"modules-list"},Mt=["onClick"],kt={class:"module-details"},xt={class:"module-name"},St={key:0,class:"enrolled-badge"},Pt={class:"module-info"},At=["onClick"],Yt={key:2,class:"insights-view"},Ft={class:"insights-card"},Tt={class:"insight-metrics"},Et={class:"metric-item"},Wt={class:"metric-comparison"},Dt={key:0,class:"fas fa-arrow-up"},Vt={key:1,class:"fas fa-arrow-down"},_t={class:"metric-item"},Gt={class:"metric-value"},Lt={class:"metric-item"},Ut={class:"metric-value"},Nt={class:"metric-comparison"},It={class:"metric-item"},zt={class:"metric-value"},Bt={class:"insights-tips"},Ot={class:"tips-container"},qt={class:"tip-content"},Rt={class:"insights-prediction"},jt={class:"prediction-scenarios"},Ht={class:"scenario-card best"},Jt={class:"scenario-grade"},Kt={class:"scenario-card expected"},Qt={class:"scenario-grade"},Xt={class:"scenario-card minimum"},Zt={class:"scenario-grade"},$t={key:6,class:"mobile-dialog module-detail-dialog"},es={class:"dialog-content"},ts={class:"dialog-header"},ss={class:"module-tabs"},is={key:0,class:"module-details-content"},rs={class:"module-overview"},os={class:"module-overview-item"},ls={class:"overview-value"},ns={class:"module-overview-item"},as={class:"overview-value"},ds={class:"module-overview-item"},us={class:"overview-value"},cs={class:"module-overview-item"},gs={class:"overview-value"},ms={class:"module-overview-item"},hs={class:"overview-value"},vs={class:"module-overview-item"},fs={class:"assessments-list"},ps={class:"assessment-details"},ys={class:"assessment-name"},Cs={class:"assessment-weight"},bs={key:1,class:"module-analytics-content"},ws={class:"dialog-actions"},Ms={key:7,class:"mobile-dialog module-form-dialog"},ks={class:"dialog-content"},xs={class:"dialog-header"},Ss={class:"module-form"},Ps={class:"form-group"},As={class:"module-name-container"},Ys={key:0,class:"suggestions-loading"},Fs={key:1,class:"module-suggestions"},Ts=["onClick"],Es={class:"suggestion-main"},Ws={class:"suggestion-name"},Ds={class:"suggestion-code"},Vs={key:0,class:"suggestion-details"},_s={class:"form-group"},Gs={class:"form-group"},Ls={class:"form-group"},Us=["value"],Ns={class:"form-group"},Is=["value"],zs={class:"form-group enrollment-checkbox"},Bs={class:"checkbox-container"},Os={class:"assessments-form"},qs={class:"assessment-inputs"},Rs=["onUpdate:modelValue"],js=["onUpdate:modelValue"],Hs=["onUpdate:modelValue","disabled"],Js={key:0,class:"assessment-status"},Ks={class:"checkbox-container"},Qs=["onUpdate:modelValue"],Xs=["onClick"],Zs={class:"dialog-actions"},$s=["disabled"];function ei(i,e,l,n,s,o){const g=U("ModuleAnalyticsComponent");return u(),d("div",z,[t("div",B,[t("div",O,[e[60]||(e[60]=t("div",{class:"app-logo"},[t("i",{class:"fas fa-shield-alt"}),t("span",{class:"logo-text"},"GradeGuard")],-1)),t("div",{onClick:e[0]||(e[0]=(...r)=>o.toggleProfileMenu&&o.toggleProfileMenu(...r)),class:"profile-button"},[s.userProfile.avatar?(u(),d("div",q,[t("img",{src:s.userProfile.avatar,alt:"User avatar"},null,8,R)])):(u(),d("div",j,a(o.getUserInitial()),1))])]),s.showProfileMenu?(u(),d("div",H,[t("div",J,[t("div",K,a(s.userProfile.firstName||"User"),1),t("div",Q,a(s.userProfile.email||"user@example.com"),1)]),t("div",X,[t("div",{class:"menu-item",onClick:e[1]||(e[1]=r=>o.navigateTo("/profile"))},e[61]||(e[61]=[t("i",{class:"fas fa-user"},null,-1),t("span",null,"My Profile",-1)])),t("div",{class:"menu-item",onClick:e[2]||(e[2]=r=>o.navigateTo("/settings"))},e[62]||(e[62]=[t("i",{class:"fas fa-cog"},null,-1),t("span",null,"Settings",-1)])),t("div",{class:"menu-item",onClick:e[3]||(e[3]=(...r)=>o.handleLogout&&o.handleLogout(...r))},e[63]||(e[63]=[t("i",{class:"fas fa-sign-out-alt"},null,-1),t("span",null,"Logout",-1)]))])])):y("",!0)]),t("div",Z,[t("div",{class:m(["tab",{active:s.activeView==="overview"}]),onClick:e[4]||(e[4]=r=>s.activeView="overview")},e[64]||(e[64]=[t("i",{class:"fas fa-chart-line"},null,-1),t("span",null,"Overview",-1)]),2),t("div",{class:m(["tab",{active:s.activeView==="yearly"}]),onClick:e[5]||(e[5]=r=>s.activeView="yearly")},e[65]||(e[65]=[t("i",{class:"fas fa-list-ul"},null,-1),t("span",null,"Modules",-1)]),2),t("div",{class:m(["tab",{active:s.activeView==="insights"}]),onClick:e[6]||(e[6]=r=>s.activeView="insights")},e[66]||(e[66]=[t("i",{class:"fas fa-lightbulb"},null,-1),t("span",null,"Insights",-1)]),2)]),s.notLoggedIn?(u(),d("div",$,[t("div",ee,[e[67]||(e[67]=t("i",{class:"fas fa-user-circle auth-icon"},null,-1)),e[68]||(e[68]=t("h2",null,"Welcome to GradeGuard",-1)),e[69]||(e[69]=t("p",null,"Please sign in to access your personalized dashboard.",-1)),t("button",{onClick:e[7]||(e[7]=r=>o.navigateTo("/login")),class:"login-button"},"Go to Login")])])):s.showSetupWizard?(u(),d("div",te,[t("div",se,[t("div",ie,[e[83]||(e[83]=t("div",{class:"wizard-header"},[t("div",{class:"step-indicator"},"Step 1 of 3"),t("h2",null,"Welcome! Let's set up your preferences"),t("p",null,"Please select an option for each question to personalize your experience.")],-1)),t("div",re,[e[73]||(e[73]=t("label",null,"What is your current academic level?",-1)),t("div",oe,[t("button",{class:m(["select-btn",{active:s.userConfig.academicLevel==="Undergraduate"}]),onClick:e[8]||(e[8]=r=>s.userConfig.academicLevel="Undergraduate")},e[70]||(e[70]=[t("span",{class:"btn-icon"},"ðŸŽ“",-1),t("span",{class:"btn-text"},"Undergraduate",-1)]),2),t("button",{class:m(["select-btn",{active:s.userConfig.academicLevel==="Postgraduate (Masters)"}]),onClick:e[9]||(e[9]=r=>s.userConfig.academicLevel="Postgraduate (Masters)")},e[71]||(e[71]=[t("span",{class:"btn-icon"},"ðŸ§‘â€ðŸŽ“",-1),t("span",{class:"btn-text"},"Masters",-1)]),2),t("button",{class:m(["select-btn",{active:s.userConfig.academicLevel==="Postgraduate (PhD)"}]),onClick:e[10]||(e[10]=r=>s.userConfig.academicLevel="Postgraduate (PhD)")},e[72]||(e[72]=[t("span",{class:"btn-icon"},"ðŸ‘¨â€ðŸŽ“",-1),t("span",{class:"btn-text"},"PhD",-1)]),2)])]),t("div",le,[e[76]||(e[76]=t("label",null,"Are you full-time or part-time?",-1)),t("div",ne,[t("button",{class:m(["select-btn",{active:s.userConfig.enrollmentType==="Full time"}]),onClick:e[11]||(e[11]=r=>s.userConfig.enrollmentType="Full time")},e[74]||(e[74]=[t("span",{class:"btn-icon"},"âœ…",-1),t("span",{class:"btn-text"},"Full time",-1)]),2),t("button",{class:m(["select-btn",{active:s.userConfig.enrollmentType==="Part time"}]),onClick:e[12]||(e[12]=r=>s.userConfig.enrollmentType="Part time")},e[75]||(e[75]=[t("span",{class:"btn-icon"},"â³",-1),t("span",{class:"btn-text"},"Part time",-1)]),2)])]),t("div",ae,[e[81]||(e[81]=t("label",null,"What describes your study preferences best?",-1)),t("div",de,[t("button",{class:m(["select-btn",{active:s.userConfig.studyPreference==="Mornings are best"}]),onClick:e[13]||(e[13]=r=>s.userConfig.studyPreference="Mornings are best")},e[77]||(e[77]=[t("span",{class:"btn-icon"},"ðŸŒ…",-1),t("span",{class:"btn-text"},"Mornings",-1)]),2),t("button",{class:m(["select-btn",{active:s.userConfig.studyPreference==="Afternoons are best"}]),onClick:e[14]||(e[14]=r=>s.userConfig.studyPreference="Afternoons are best")},e[78]||(e[78]=[t("span",{class:"btn-icon"},"â˜€ï¸",-1),t("span",{class:"btn-text"},"Afternoons",-1)]),2),t("button",{class:m(["select-btn",{active:s.userConfig.studyPreference==="Evenings are best"}]),onClick:e[15]||(e[15]=r=>s.userConfig.studyPreference="Evenings are best")},e[79]||(e[79]=[t("span",{class:"btn-icon"},"ðŸŒ†",-1),t("span",{class:"btn-text"},"Evenings",-1)]),2),t("button",{class:m(["select-btn",{active:s.userConfig.studyPreference==="Late night"}]),onClick:e[16]||(e[16]=r=>s.userConfig.studyPreference="Late night")},e[80]||(e[80]=[t("span",{class:"btn-icon"},"ðŸŒ™",-1),t("span",{class:"btn-text"},"Late Night",-1)]),2)])]),t("button",{onClick:e[17]||(e[17]=(...r)=>o.saveUserConfig&&o.saveUserConfig(...r)),class:"save-button"},e[82]||(e[82]=[t("span",null,"Continue to Step 2",-1),t("i",{class:"fas fa-arrow-right"},null,-1)]))])])])):s.showNextConfig?(u(),d("div",ue,[t("div",ce,[t("div",ge,[e[90]||(e[90]=t("div",{class:"wizard-header"},[t("div",{class:"step-indicator"},"Step 2 of 3"),t("h2",null,"Degree Configuration"),t("p",null,"Please provide the details for your degree program.")],-1)),t("div",me,[e[84]||(e[84]=t("label",null,"What year are you currently in?",-1)),t("div",he,[(u(),d(w,null,M(5,r=>t("button",{class:m(["select-btn",{active:s.nextConfig.currentYear===r}]),key:r,onClick:h=>s.nextConfig.currentYear=r}," Year "+a(r),11,ve)),64)),t("button",{class:m(["select-btn",{active:s.nextConfig.currentYear==="other"}]),onClick:e[18]||(e[18]=r=>s.nextConfig.currentYear="other")}," Other ",2)]),s.nextConfig.currentYear==="other"?p((u(),d("input",{key:0,type:"number",min:"1",placeholder:"Enter your current year","onUpdate:modelValue":e[19]||(e[19]=r=>s.nextConfig.customCurrentYear=r)},null,512)),[[k,s.nextConfig.customCurrentYear,void 0,{number:!0}]]):y("",!0)]),t("div",fe,[e[85]||(e[85]=t("label",null,"How many years in your degree program?",-1)),t("div",pe,[(u(),d(w,null,M(5,r=>t("button",{class:m(["select-btn",{active:s.nextConfig.numYears===r}]),key:`years-${r}`,onClick:h=>s.nextConfig.numYears=r},a(r),11,ye)),64)),t("button",{class:m(["select-btn",{active:s.nextConfig.numYears==="other"}]),onClick:e[20]||(e[20]=r=>s.nextConfig.numYears="other")}," Other ",2)]),s.nextConfig.numYears==="other"?p((u(),d("input",{key:0,type:"number",min:"1",placeholder:"Enter number of years","onUpdate:modelValue":e[21]||(e[21]=r=>s.nextConfig.customYears=r)},null,512)),[[k,s.nextConfig.customYears,void 0,{number:!0}]]):y("",!0)]),t("div",Ce,[e[86]||(e[86]=t("label",null,"How many semesters in one academic year?",-1)),t("div",be,[(u(),d(w,null,M(4,r=>t("button",{class:m(["select-btn",{active:s.nextConfig.semesters===r}]),key:`semesters-${r}`,onClick:h=>s.nextConfig.semesters=r},a(r),11,we)),64)),t("button",{class:m(["select-btn",{active:s.nextConfig.semesters==="other"}]),onClick:e[22]||(e[22]=r=>s.nextConfig.semesters="other")}," Other ",2)]),s.nextConfig.semesters==="other"?p((u(),d("input",{key:0,type:"number",min:"1",placeholder:"Enter number of semesters","onUpdate:modelValue":e[23]||(e[23]=r=>s.nextConfig.customSemesters=r)},null,512)),[[k,s.nextConfig.customSemesters,void 0,{number:!0}]]):y("",!0)]),t("div",Me,[e[87]||(e[87]=t("label",null,"How many credits per academic year?",-1)),t("div",ke,[t("button",{class:m(["select-btn",{active:s.nextConfig.credits===30}]),onClick:e[24]||(e[24]=r=>s.nextConfig.credits=30)}," 30 ",2),t("button",{class:m(["select-btn",{active:s.nextConfig.credits===60}]),onClick:e[25]||(e[25]=r=>s.nextConfig.credits=60)}," 60 ",2),t("button",{class:m(["select-btn",{active:s.nextConfig.credits===120}]),onClick:e[26]||(e[26]=r=>s.nextConfig.credits=120)}," 120 ",2),t("button",{class:m(["select-btn",{active:s.nextConfig.credits==="other"}]),onClick:e[27]||(e[27]=r=>s.nextConfig.credits="other")}," Other ",2)]),s.nextConfig.credits==="other"?p((u(),d("input",{key:0,type:"number",min:"1",placeholder:"Enter number of credits","onUpdate:modelValue":e[28]||(e[28]=r=>s.nextConfig.customCredits=r)},null,512)),[[k,s.nextConfig.customCredits,void 0,{number:!0}]]):y("",!0)]),t("div",xe,[t("button",{class:"back-button",onClick:e[29]||(e[29]=(...r)=>o.goBackToStep1&&o.goBackToStep1(...r))},e[88]||(e[88]=[t("i",{class:"fas fa-arrow-left"},null,-1),t("span",null,"Back",-1)])),t("button",{class:"save-button",onClick:e[30]||(e[30]=(...r)=>o.goToYearWeights&&o.goToYearWeights(...r))},e[89]||(e[89]=[t("span",null,"Continue to Year Weights",-1),t("i",{class:"fas fa-arrow-right"},null,-1)]))])])])])):s.showYearWeights?(u(),d("div",Se,[t("div",Pe,[t("div",Ae,[e[101]||(e[101]=t("div",{class:"wizard-header"},[t("div",{class:"step-indicator"},"Step 3 of 3"),t("h2",null,"Year Weightings"),t("p",null,"Please specify how much each year contributes to your final grade.")],-1)),t("div",Ye,[e[92]||(e[92]=t("div",{class:"year-weights-header"},[t("div",{class:"year-column"},"Year"),t("div",{class:"weight-column"},"Weight (%)"),t("div",{class:"active-column"},"Active")],-1)),(u(!0),d(w,null,M(s.yearWeights,(r,h)=>(u(),d("div",{key:h,class:"year-weight-row"},[t("div",Fe,"Year "+a(h+1),1),t("div",Te,[p(t("input",{type:"number","onUpdate:modelValue":c=>r.weight=c,min:"0",max:"100",onInput:e[31]||(e[31]=(...c)=>o.validateYearWeights&&o.validateYearWeights(...c)),disabled:!r.active},null,40,Ee),[[k,r.weight,void 0,{number:!0}]])]),t("div",We,[t("label",De,[p(t("input",{type:"checkbox","onUpdate:modelValue":c=>r.active=c,onChange:e[32]||(e[32]=(...c)=>o.validateYearWeights&&o.validateYearWeights(...c))},null,40,Ve),[[E,r.active]]),e[91]||(e[91]=t("span",{class:"toggle-switch"},null,-1))])])]))),128)),t("div",{class:m(["total-weight",{"weight-error":o.totalWeight!==100&&o.hasActiveYears}])}," Total Weight: "+a(o.totalWeight)+"% "+a(o.totalWeight!==100&&o.hasActiveYears?"(Should be 100%)":""),3)]),t("div",_e,[e[98]||(e[98]=t("label",null,"What is your target grade at the end of your degree?",-1)),t("div",Ge,[t("button",{class:m(["select-btn",{active:s.targetGrade===70}]),onClick:e[33]||(e[33]=r=>s.targetGrade=70)},e[93]||(e[93]=[t("span",{class:"btn-text"},"First Class (70%+)",-1)]),2),t("button",{class:m(["select-btn",{active:s.targetGrade===60}]),onClick:e[34]||(e[34]=r=>s.targetGrade=60)},e[94]||(e[94]=[t("span",{class:"btn-text"},"2:1 (60-69%)",-1)]),2),t("button",{class:m(["select-btn",{active:s.targetGrade===50}]),onClick:e[35]||(e[35]=r=>s.targetGrade=50)},e[95]||(e[95]=[t("span",{class:"btn-text"},"2:2 (50-59%)",-1)]),2),t("button",{class:m(["select-btn",{active:s.targetGrade===40}]),onClick:e[36]||(e[36]=r=>s.targetGrade=40)},e[96]||(e[96]=[t("span",{class:"btn-text"},"Third (40-49%)",-1)]),2),t("button",{class:m(["select-btn",{active:s.targetGrade==="custom"}]),onClick:e[37]||(e[37]=r=>s.targetGrade="custom")},e[97]||(e[97]=[t("span",{class:"btn-text"},"Custom",-1)]),2)]),s.targetGrade==="custom"?p((u(),d("input",{key:0,type:"number",min:"0",max:"100",placeholder:"Enter your target percentage","onUpdate:modelValue":e[38]||(e[38]=r=>s.customTargetGrade=r)},null,512)),[[k,s.customTargetGrade,void 0,{number:!0}]]):y("",!0)]),t("div",Le,[t("button",{class:"back-button",onClick:e[39]||(e[39]=(...r)=>o.goBackToDegreeConfig&&o.goBackToDegreeConfig(...r))},e[99]||(e[99]=[t("i",{class:"fas fa-arrow-left"},null,-1),t("span",null,"Back",-1)])),t("button",{class:"save-button",onClick:e[40]||(e[40]=(...r)=>o.completeSetup&&o.completeSetup(...r)),disabled:o.totalWeight!==100&&o.hasActiveYears},e[100]||(e[100]=[t("span",null,"Complete Setup",-1),t("i",{class:"fas fa-check"},null,-1)]),8,Ue)])])])])):(u(),d("div",Ne,[s.activeView==="overview"?(u(),d("div",Ie,[t("div",ze,[t("div",{class:"grade-circle",style:F({"--percent":o.overallAverage/100})},[t("div",Be,a(o.overallAverage)+"%",1),e[102]||(e[102]=t("div",{class:"grade-label"},"Average",-1))],4),t("div",Oe,[t("div",qe,[e[103]||(e[103]=t("div",{class:"stat-label"},"Credits Completed",-1)),t("div",Re,a(o.completedCredits)+"/"+a(o.totalCredits),1)]),t("div",je,[e[104]||(e[104]=t("div",{class:"stat-label"},"Top Module",-1)),t("div",He,a(o.topModule.score)+"%",1)])])]),t("div",Je,[e[105]||(e[105]=t("h3",null,"Progress Breakdown",-1)),t("div",Ke,[t("div",{class:"progress-segment achieved",style:F({width:o.achievedPercentage+"%"})},a(o.achievedPercentage)+"% ",5),t("div",{class:"progress-segment lost",style:F({width:o.lostPercentage+"%"})},a(o.lostPercentage)+"% ",5),t("div",{class:"progress-segment remaining",style:F({width:o.remainingPercentage+"%"})},a(o.remainingPercentage)+"% ",5)]),e[106]||(e[106]=G('<div class="legend" data-v-bfe2cd0f><div class="legend-item" data-v-bfe2cd0f><div class="legend-color achieved" data-v-bfe2cd0f></div><span data-v-bfe2cd0f>Achieved</span></div><div class="legend-item" data-v-bfe2cd0f><div class="legend-color lost" data-v-bfe2cd0f></div><span data-v-bfe2cd0f>Lost</span></div><div class="legend-item" data-v-bfe2cd0f><div class="legend-color remaining" data-v-bfe2cd0f></div><span data-v-bfe2cd0f>Remaining</span></div></div>',1))]),t("div",Qe,[e[110]||(e[110]=t("h3",null,"Target Grades",-1)),t("div",Xe,[e[107]||(e[107]=t("div",{class:"target-label"},"For First Class",-1)),t("div",Ze,a(o.targetHighGrade)+"%",1)]),t("div",$e,[e[108]||(e[108]=t("div",{class:"target-label"},"For 2:1",-1)),t("div",et,a(o.targetMediumGrade)+"%",1)]),t("div",tt,[e[109]||(e[109]=t("div",{class:"target-label"},"For 2:2",-1)),t("div",st,a(o.targetLowGrade)+"%",1)])]),t("div",it,[e[111]||(e[111]=t("h3",null,"Recent Activity",-1)),t("div",rt,[(u(!0),d(w,null,M(s.recentActivities.slice(0,3),(r,h)=>(u(),d("div",{key:h,class:"activity-item"},[t("div",{class:m(["activity-icon",r.type])},[r.type==="grade"?(u(),d("i",ot)):r.type==="submission"?(u(),d("i",lt)):(u(),d("i",nt))],2),t("div",at,[t("div",dt,a(r.title),1),t("div",ut,a(r.description),1)]),t("div",ct,a(r.time),1)]))),128))])])])):s.activeView==="yearly"?(u(),d("div",gt,[t("div",mt,[t("div",ht,[e[113]||(e[113]=t("label",{for:"yearFilter"},"Year:",-1)),p(t("select",{id:"yearFilter","onUpdate:modelValue":e[41]||(e[41]=r=>s.selectedYear=r)},[e[112]||(e[112]=t("option",{value:"all"},"All Years",-1)),(u(!0),d(w,null,M(s.calculatorConfig.years,r=>(u(),d("option",{key:r.year,value:r.year},a(r.year),9,vt))),128))],512),[[T,s.selectedYear]])]),t("div",ft,[e[115]||(e[115]=t("label",{for:"sortBy"},"Sort By:",-1)),p(t("select",{id:"sortBy","onUpdate:modelValue":e[42]||(e[42]=r=>s.sortMethod=r)},e[114]||(e[114]=[t("option",{value:"name"},"Module Name",-1),t("option",{value:"score-desc"},"Score (High to Low)",-1),t("option",{value:"score-asc"},"Score (Low to High)",-1),t("option",{value:"status"},"Status",-1)]),512),[[T,s.sortMethod]])])]),(u(!0),d(w,null,M(o.filteredYears,(r,h)=>(u(),d("div",{key:r.year,class:"year-section"},[t("div",pt,[t("h3",null,a(r.year),1),t("div",yt,[t("div",Ct,a(r.average)+"%",1),t("div",bt,a(r.completedCredits)+"/"+a(r.totalCredits)+" Credits",1)])]),t("div",wt,[(u(!0),d(w,null,M(r.modules,(c,v)=>(u(),d("div",{key:v,class:"module-item",onClick:f=>o.viewModuleDetails(c)},[t("div",{class:m(["module-icon",o.getModuleIconClass(c.score)])},a(c.code?c.code.charAt(0):c.name.charAt(0)),3),t("div",kt,[t("div",xt,[P(a(c.name)+" ",1),c.isCurrentlyEnrolled?(u(),d("span",St,"Current")):y("",!0)]),t("div",Pt,a(c.credits)+" credits | "+a(c.semester===0?"Full Year":`Semester ${c.semester||1}`),1)]),t("div",{class:m(["module-score",o.getScoreClass(c.score)])},a(c.isCurrentlyEnrolled?"In Progress":`${c.score}%`),3)],8,Mt))),128)),t("button",{onClick:c=>o.showAddModuleForm(r),class:"add-module-button"},e[116]||(e[116]=[t("i",{class:"fas fa-plus"},null,-1),t("span",null,"Add Module",-1)]),8,At)])]))),128))])):s.activeView==="insights"?(u(),d("div",Yt,[t("div",Ft,[e[121]||(e[121]=t("h3",null,"Performance Insights",-1)),t("div",Tt,[t("div",Et,[t("div",{class:m(["metric-value",o.getComparisonClass(o.averageVsTarget)])},a(o.overallAverage)+"%",3),e[117]||(e[117]=t("div",{class:"metric-label"},"Current Average",-1)),t("div",Wt,[t("span",{class:m(o.getComparisonClass(o.averageVsTarget))},[o.averageVsTarget>0?(u(),d("i",Dt)):o.averageVsTarget<0?(u(),d("i",Vt)):y("",!0),P(" "+a(Math.abs(o.averageVsTarget))+"% "+a(o.averageVsTarget>=0?"above":"below")+" target ",1)],2)])]),t("div",_t,[t("div",Gt,a(o.predictionAccuracy)+"%",1),e[118]||(e[118]=t("div",{class:"metric-label"},"Prediction Accuracy",-1))]),t("div",Lt,[t("div",Ut,a(o.consistencyScore)+"%",1),e[119]||(e[119]=t("div",{class:"metric-label"},"Consistency Score",-1)),t("div",Nt," Variance: "+a(o.performanceVariance)+"% ",1)]),t("div",It,[t("div",zt,a(o.improvementRate)+"%",1),e[120]||(e[120]=t("div",{class:"metric-label"},"Improvement Rate",-1))])])]),t("div",Bt,[e[123]||(e[123]=t("h3",null,"Personalized Tips",-1)),t("div",Ot,[(u(!0),d(w,null,M(i.personalizedTips,(r,h)=>(u(),d("div",{key:h,class:"tip-card"},[e[122]||(e[122]=t("div",{class:"tip-icon"},[t("i",{class:"fas fa-lightbulb"})],-1)),t("div",qt,[t("h4",null,a(r.title),1),t("p",null,a(r.description),1)])]))),128))])]),t("div",Rt,[e[130]||(e[130]=t("h3",null,"Predictive Analysis",-1)),t("div",jt,[t("div",Ht,[e[124]||(e[124]=t("h4",null,"Best Case",-1)),t("div",Jt,a(o.bestCaseGrade)+"%",1),e[125]||(e[125]=t("p",null,"Based on your top performance",-1))]),t("div",Kt,[e[126]||(e[126]=t("h4",null,"Expected",-1)),t("div",Qt,a(o.expectedGrade)+"%",1),e[127]||(e[127]=t("p",null,"Based on your average",-1))]),t("div",Xt,[e[128]||(e[128]=t("h4",null,"Minimum",-1)),t("div",Zt,a(o.minimumGrade)+"%",1),e[129]||(e[129]=t("p",null,"To maintain your classification",-1))])])])])):y("",!0)])),!s.notLoggedIn&&!s.showSetupWizard&&!s.showNextConfig&&!s.showYearWeights?(u(),d("button",{key:5,onClick:e[43]||(e[43]=(...r)=>o.showGlobalAddModule&&o.showGlobalAddModule(...r)),class:"floating-action-button"},e[131]||(e[131]=[t("i",{class:"fas fa-plus"},null,-1)]))):y("",!0),s.showModuleDetail?(u(),d("div",$t,[t("div",es,[t("div",ts,[t("h3",null,a(s.selectedModule.name),1),t("button",{class:"close-button",onClick:e[44]||(e[44]=r=>s.showModuleDetail=!1)},e[132]||(e[132]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",ss,[t("button",{class:m({active:s.activeModuleTab==="details"}),onClick:e[45]||(e[45]=r=>s.activeModuleTab="details")}," Details ",2),t("button",{class:m({active:s.activeModuleTab==="analytics"}),onClick:e[46]||(e[46]=r=>s.activeModuleTab="analytics")}," Analytics ",2)]),s.activeModuleTab==="details"?(u(),d("div",is,[t("div",rs,[t("div",os,[e[133]||(e[133]=t("div",{class:"overview-label"},"Module Code",-1)),t("div",ls,a(s.selectedModule.code||"N/A"),1)]),t("div",ns,[e[134]||(e[134]=t("div",{class:"overview-label"},"Credits",-1)),t("div",as,a(s.selectedModule.credits),1)]),t("div",ds,[e[135]||(e[135]=t("div",{class:"overview-label"},"Year",-1)),t("div",us,a(s.selectedModule.year),1)]),t("div",cs,[e[136]||(e[136]=t("div",{class:"overview-label"},"Semester",-1)),t("div",gs,a(s.selectedModule.semester===0?"Full Year":`Semester ${s.selectedModule.semester||1}`),1)]),t("div",ms,[e[137]||(e[137]=t("div",{class:"overview-label"},"Status",-1)),t("div",hs,[t("span",{class:m(["status-badge",{active:s.selectedModule.isCurrentlyEnrolled}])},a(s.selectedModule.isCurrentlyEnrolled?"Currently Enrolled":"Completed"),3)])]),t("div",vs,[e[138]||(e[138]=t("div",{class:"overview-label"},"Overall Score",-1)),t("div",{class:m(["overview-value score",o.getScoreClass(s.selectedModule.score)])},a(s.selectedModule.isCurrentlyEnrolled?"In Progress":`${s.selectedModule.score}%`),3)])]),e[139]||(e[139]=t("h4",null,"Assessment Breakdown",-1)),t("div",fs,[(u(!0),d(w,null,M(s.selectedModule.assessments,(r,h)=>(u(),d("div",{key:h,class:"assessment-item"},[t("div",ps,[t("div",ys,a(r.name),1),t("div",Cs,a(r.weight)+"%",1)]),t("div",{class:m(["assessment-score",o.getScoreClass(r.score)])},a(r.score)+"% ",3)]))),128))])])):s.activeModuleTab==="analytics"?(u(),d("div",bs,[L(g,{moduleId:s.selectedModule.analyticsId||o.getAnalyticsId(s.selectedModule),yourScore:s.selectedModule.isCurrentlyEnrolled?null:s.selectedModule.score},null,8,["moduleId","yourScore"])])):y("",!0),t("div",ws,[t("button",{class:"edit-button",onClick:e[47]||(e[47]=r=>o.editModule(s.selectedModule))},e[140]||(e[140]=[t("i",{class:"fas fa-edit"},null,-1),t("span",null,"Edit",-1)])),t("button",{class:"delete-button",onClick:e[48]||(e[48]=r=>o.deleteModule(s.selectedModule))},e[141]||(e[141]=[t("i",{class:"fas fa-trash-alt"},null,-1),t("span",null,"Delete",-1)]))])])])):y("",!0),s.showModuleForm?(u(),d("div",Ms,[t("div",ks,[t("div",xs,[t("h3",null,a(s.editingModule?"Edit Module":"Add New Module"),1),t("button",{class:"close-button",onClick:e[49]||(e[49]=r=>s.showModuleForm=!1)},e[142]||(e[142]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",Ss,[t("div",Ps,[e[144]||(e[144]=t("label",{for:"moduleName"},[P("Module Name "),t("span",{class:"required"},"*")],-1)),t("div",As,[p(t("input",{type:"text",id:"moduleName","onUpdate:modelValue":e[50]||(e[50]=r=>s.moduleForm.name=r),placeholder:"e.g. Introduction to Programming",onInput:e[51]||(e[51]=(...r)=>o.fetchModuleSuggestions&&o.fetchModuleSuggestions(...r)),autocomplete:"off"},null,544),[[k,s.moduleForm.name]]),s.isLoadingSuggestions?(u(),d("div",Ys,e[143]||(e[143]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1)]))):y("",!0),s.showSuggestions?(u(),d("div",Fs,[(u(!0),d(w,null,M(s.moduleSuggestions,(r,h)=>(u(),d("div",{key:r.code||h,class:"suggestion-item",onClick:c=>o.selectSuggestion(r)},[t("div",Es,[t("div",Ws,a(r.name),1),t("div",Ds,a(r.code),1)]),r.average_score?(u(),d("div",Vs," Avg: "+a(r.average_score)+"% | "+a(r.student_counter)+" students ",1)):y("",!0)],8,Ts))),128))])):y("",!0)])]),t("div",_s,[e[145]||(e[145]=t("label",{for:"moduleCode"},"Module Code",-1)),p(t("input",{type:"text",id:"moduleCode","onUpdate:modelValue":e[52]||(e[52]=r=>s.moduleForm.code=r),placeholder:"e.g. CS101"},null,512),[[k,s.moduleForm.code]])]),t("div",Gs,[e[146]||(e[146]=t("label",{for:"moduleCredits"},[P("Credits "),t("span",{class:"required"},"*")],-1)),p(t("input",{type:"number",id:"moduleCredits","onUpdate:modelValue":e[53]||(e[53]=r=>s.moduleForm.credits=r),min:"0"},null,512),[[k,s.moduleForm.credits,void 0,{number:!0}]])]),t("div",Ls,[e[147]||(e[147]=t("label",{for:"moduleYear"},[P("Year "),t("span",{class:"required"},"*")],-1)),p(t("select",{id:"moduleYear","onUpdate:modelValue":e[54]||(e[54]=r=>s.moduleForm.year=r)},[(u(!0),d(w,null,M(s.calculatorConfig.years,r=>(u(),d("option",{key:r.year,value:r.year},a(r.year),9,Us))),128))],512),[[T,s.moduleForm.year]])]),t("div",Ns,[e[148]||(e[148]=t("label",{for:"moduleSemester"},[P("Semester "),t("span",{class:"required"},"*")],-1)),p(t("select",{id:"moduleSemester","onUpdate:modelValue":e[55]||(e[55]=r=>s.moduleForm.semester=r)},[(u(!0),d(w,null,M(o.semesterOptions,r=>(u(),d("option",{key:r.value,value:r.value},a(r.label),9,Is))),128))],512),[[T,s.moduleForm.semester]])]),t("div",zs,[t("label",Bs,[p(t("input",{type:"checkbox",id:"moduleEnrolled","onUpdate:modelValue":e[56]||(e[56]=r=>s.moduleForm.isCurrentlyEnrolled=r)},null,512),[[E,s.moduleForm.isCurrentlyEnrolled]]),e[149]||(e[149]=t("span",{class:"checkbox-label"},"Currently Enrolled",-1))]),e[150]||(e[150]=t("div",{class:"field-hint"},"Check this if you are taking this module this semester",-1))]),e[154]||(e[154]=t("h4",null,"Assessments",-1)),t("div",Os,[(u(!0),d(w,null,M(s.moduleForm.assessments,(r,h)=>(u(),d("div",{key:h,class:"assessment-row"},[t("div",qs,[p(t("input",{type:"text","onUpdate:modelValue":c=>r.name=c,placeholder:"Assessment name"},null,8,Rs),[[k,r.name]]),p(t("input",{type:"number","onUpdate:modelValue":c=>r.weight=c,min:"0",max:"100",placeholder:"Weight %"},null,8,js),[[k,r.weight,void 0,{number:!0}]]),p(t("input",{type:"number","onUpdate:modelValue":c=>r.score=c,min:"0",max:"100",placeholder:"Score %",disabled:s.moduleForm.isCurrentlyEnrolled&&!r.completed},null,8,Hs),[[k,r.score,void 0,{number:!0}]])]),s.moduleForm.isCurrentlyEnrolled?(u(),d("div",Js,[t("label",Ks,[p(t("input",{type:"checkbox","onUpdate:modelValue":c=>r.completed=c},null,8,Qs),[[E,r.completed]]),e[151]||(e[151]=t("span",{class:"checkbox-label"},"Done",-1))])])):y("",!0),t("button",{class:"remove-assessment",onClick:c=>o.removeAssessment(h)},e[152]||(e[152]=[t("i",{class:"fas fa-times"},null,-1)]),8,Xs)]))),128)),t("button",{class:"add-assessment",onClick:e[57]||(e[57]=(...r)=>o.addAssessment&&o.addAssessment(...r))},e[153]||(e[153]=[t("i",{class:"fas fa-plus"},null,-1),t("span",null,"Add Assessment",-1)]))]),t("div",{class:m(["total-weight-indicator",{"weight-error":o.totalAssessmentWeight!==100}])}," Total Weight: "+a(o.totalAssessmentWeight)+"% "+a(o.totalAssessmentWeight!==100?"(Should be 100%)":""),3),t("div",Zs,[t("button",{class:"cancel-button",onClick:e[58]||(e[58]=r=>s.showModuleForm=!1)},"Cancel"),t("button",{class:"save-button",onClick:e[59]||(e[59]=(...r)=>o.saveModule&&o.saveModule(...r)),disabled:!o.isModuleFormValid},a(s.editingModule?"Update":"Add"),9,$s)])])])])):y("",!0)])}const ri=_(I,[["render",ei],["__scopeId","data-v-bfe2cd0f"]]);export{ri as default};
