import{_ as m,F as w,c as o,a as e,b as c,d as l,w as v,r as g,t as a,f,v as x,g as y,n as p,h as u,i as _,j as M,k as C,A as D,l as b,o as n}from"./index-BEFzqocb.js";import{g as T}from"./gradeRadarService-_q54DEiw.js";const B={name:"UniversityView",components:{Footer:w},data(){return{darkMode:!1,isScrolled:!1,loading:!0,searchQuery:"",universityName:"",universityData:{},universityDegrees:[],showToast:!1,toastMessage:"",toastType:"success"}},computed:{filteredDegrees(){if(!this.searchQuery)return this.universityDegrees;const s=this.searchQuery.toLowerCase();return this.universityDegrees.filter(t=>t.name.toLowerCase().includes(s))}},methods:{toggleDarkMode(){this.darkMode=b(),this.updateGradient()},updateGradient(){const s=this.$refs.universityViewContainer;s&&(this.darkMode?(s.style.setProperty("--bg-gradient-from","#1a1a2e"),s.style.setProperty("--bg-gradient-to","#0f0f1a")):(s.style.setProperty("--bg-gradient-from","#f9f9ff"),s.style.setProperty("--bg-gradient-to","#f0f0ff")))},handleScroll(){this.isScrolled=window.scrollY>20},handleSearch(){},navigateToDegree(s){this.$router.push(`/graderadar/modules/${encodeURIComponent(this.universityName)}/${encodeURIComponent(s)}`)},async loadUniversityData(){this.loading=!0;try{if(this.universityName=decodeURIComponent(this.$route.params.university||""),!this.universityName){this.displayToast("University name is required","error"),this.$router.push("/graderadar");return}const s=await T.getUniversityDegrees(this.universityName);this.universityData={name:s.data.name,students_count:s.data.students_count},this.universityDegrees=s.data.degrees||[]}catch(s){console.error("Error loading university data:",s),this.displayToast("Error loading university data. Please try again.","error")}finally{this.loading=!1}},displayToast(s,t="success"){this.toastMessage=s,this.toastType=t,this.showToast=!0,setTimeout(()=>{this.showToast=!1},3e3)}},mounted(){this.darkMode=C(),window.addEventListener("darkModeChange",s=>{this.darkMode=s.detail.isDark,this.updateGradient()}),window.addEventListener("scroll",this.handleScroll),D.init({duration:800,offset:100,once:!0,easing:"ease-out-cubic"}),this.updateGradient(),this.loadUniversityData()},beforeUnmount(){window.removeEventListener("darkModeChange",this.onDarkModeChange),window.removeEventListener("scroll",this.handleScroll)}},S={class:"university-view-container",ref:"universityViewContainer"},N={class:"breadcrumbs"},j={class:"breadcrumb-item active"},V={class:"header-actions"},U={class:"search-container"},E={key:0,class:"sun-icon",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},L={key:1,class:"moon-icon",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},A={class:"university-main"},H={key:0,class:"loading-container"},P={key:1,class:"university-overview-section","data-aos":"fade-up"},F={class:"university-info"},G={class:"university-logo"},I={class:"university-initial"},Q={class:"university-details"},R={class:"university-stats"},z={class:"stat-item"},q={class:"stat-item"},O={key:2,class:"degrees-section","data-aos":"fade-up"},Y={class:"degrees-grid"},J=["onClick"],K={class:"degree-details"},W={class:"degree-stats"},X={class:"stat"},Z={class:"stat"},$={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ee={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function te(s,t,se,ie,i,d){const h=g("router-link"),k=g("Footer");return n(),o("div",S,[e("header",{class:p(["university-header",{scrolled:i.isScrolled}])},[e("div",N,[c(h,{to:"/",class:"breadcrumb-item"},{default:v(()=>t[3]||(t[3]=[u("Home")])),_:1}),t[5]||(t[5]=e("span",{class:"breadcrumb-separator"},"/",-1)),c(h,{to:"/graderadar",class:"breadcrumb-item"},{default:v(()=>t[4]||(t[4]=[u("GradeRadar")])),_:1}),t[6]||(t[6]=e("span",{class:"breadcrumb-separator"},"/",-1)),e("span",j,a(i.universityName),1)]),e("div",V,[e("div",U,[f(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>i.searchQuery=r),onInput:t[1]||(t[1]=(...r)=>d.handleSearch&&d.handleSearch(...r)),placeholder:"Search degrees...",class:"search-input"},null,544),[[x,i.searchQuery]]),t[7]||(t[7]=e("svg",{class:"search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})],-1))]),e("button",{onClick:t[2]||(t[2]=(...r)=>d.toggleDarkMode&&d.toggleDarkMode(...r)),class:"theme-toggle","aria-label":"Toggle dark mode"},[i.darkMode?(n(),o("svg",E,t[8]||(t[8]=[y('<circle cx="12" cy="12" r="5" data-v-c6122ca4></circle><line x1="12" y1="1" x2="12" y2="3" data-v-c6122ca4></line><line x1="12" y1="21" x2="12" y2="23" data-v-c6122ca4></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-c6122ca4></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-c6122ca4></line><line x1="1" y1="12" x2="3" y2="12" data-v-c6122ca4></line><line x1="21" y1="12" x2="23" y2="12" data-v-c6122ca4></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-c6122ca4></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-c6122ca4></line>',9)]))):(n(),o("svg",L,t[9]||(t[9]=[e("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1)])))])])],2),e("main",A,[i.loading?(n(),o("div",H,t[10]||(t[10]=[e("div",{class:"loading-spinner"},null,-1),e("div",{class:"loading-text"},"Loading data...",-1)]))):l("",!0),i.loading?l("",!0):(n(),o("section",P,[e("div",F,[e("div",G,[e("div",I,a(i.universityName.charAt(0)),1)]),e("div",Q,[e("h1",null,a(i.universityName),1),e("div",R,[e("div",z,[t[11]||(t[11]=y('<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c6122ca4><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" data-v-c6122ca4></path><circle cx="9" cy="7" r="4" data-v-c6122ca4></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" data-v-c6122ca4></path><path d="M16 3.13a4 4 0 0 1 0 7.75" data-v-c6122ca4></path></svg>',1)),e("span",null,a(i.universityData.students_count||0)+" students",1)]),e("div",q,[t[12]||(t[12]=e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})],-1)),e("span",null,a(i.universityDegrees.length)+" degree programs",1)])])])])])),i.loading?l("",!0):(n(),o("section",O,[t[17]||(t[17]=e("div",{class:"section-header"},[e("h2",null,[u("Degree "),e("span",{class:"accent"},"Programs")]),e("p",null,"Explore modules and student reviews for each degree program")],-1)),e("div",Y,[(n(!0),o(_,null,M(d.filteredDegrees,r=>(n(),o("div",{key:r.name,class:"degree-card",onClick:re=>d.navigateToDegree(r.name),"data-aos":"fade-up","data-aos-delay":"50"},[t[15]||(t[15]=e("div",{class:"degree-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M22 10v6M2 10l10-5 10 5-10 5z"}),e("path",{d:"M6 12v5c3 3 9 3 12 0v-5"})])],-1)),e("div",K,[e("h3",null,a(r.name),1),e("div",W,[e("div",X,[t[13]||(t[13]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),e("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})],-1)),e("span",null,a(r.modules_count)+" modules",1)]),e("div",Z,[t[14]||(t[14]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"})],-1)),e("span",null,a(r.students_count)+" students",1)])])]),t[16]||(t[16]=e("svg",{class:"arrow-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 12h14"}),e("path",{d:"M12 5l7 7-7 7"})],-1))],8,J))),128))])]))]),c(k),i.showToast?(n(),o("div",{key:0,class:p(["toast-notification",i.toastType])},[i.toastType==="success"?(n(),o("svg",$,t[18]||(t[18]=[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},null,-1),e("polyline",{points:"22 4 12 14.01 9 11.01"},null,-1)]))):(n(),o("svg",ee,t[19]||(t[19]=[e("circle",{cx:"12",cy:"12",r:"10"},null,-1),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"},null,-1),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"},null,-1)]))),e("span",null,a(i.toastMessage),1)],2)):l("",!0)],512)}const ae=m(B,[["render",te],["__scopeId","data-v-c6122ca4"]]);export{ae as default};
